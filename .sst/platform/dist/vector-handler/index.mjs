import { createRequire as topLevelCreateRequire } from 'module';const require = topLevelCreateRequire(import.meta.url);
var yA=Object.create;var Ps=Object.defineProperty;var vA=Object.getOwnPropertyDescriptor;var EA=Object.getOwnPropertyNames;var SA=Object.getPrototypeOf,wA=Object.prototype.hasOwnProperty;var j=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var M=(e,t)=>()=>(e&&(t=e(e=0)),t);var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Rd=(e,t)=>{for(var r in t)Ps(e,r,{get:t[r],enumerable:!0})},Om=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of EA(t))!wA.call(e,o)&&o!==r&&Ps(e,o,{get:()=>t[o],enumerable:!(n=vA(t,o))||n.enumerable});return e};var Am=(e,t,r)=>(r=e!=null?yA(SA(e)):{},Om(t||!e||!e.__esModule?Ps(r,"default",{value:e,enumerable:!0}):r,e)),C=e=>Om(Ps({},"__esModule",{value:!0}),e);var T={};Rd(T,{__addDisposableResource:()=>e_,__assign:()=>Ts,__asyncDelegator:()=>Gm,__asyncGenerator:()=>Bm,__asyncValues:()=>Wm,__await:()=>kr,__awaiter:()=>Lm,__classPrivateFieldGet:()=>Jm,__classPrivateFieldIn:()=>Zm,__classPrivateFieldSet:()=>Qm,__createBinding:()=>As,__decorate:()=>Nm,__disposeResources:()=>t_,__esDecorate:()=>qm,__exportStar:()=>Hm,__extends:()=>xm,__generator:()=>Um,__importDefault:()=>Xm,__importStar:()=>Km,__makeTemplateObject:()=>Ym,__metadata:()=>jm,__param:()=>Dm,__propKey:()=>km,__read:()=>Td,__rest:()=>Im,__rewriteRelativeImportExtension:()=>r_,__runInitializers:()=>Mm,__setFunctionName:()=>Fm,__spread:()=>$m,__spreadArray:()=>zm,__spreadArrays:()=>Vm,__values:()=>Os,default:()=>CA});function xm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Cd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Im(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Nm(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Dm(e,t){return function(r,n){t(r,n,e)}}function qm(e,t,r,n,o,s){function i(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,l=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p,m=!1,f=r.length-1;f>=0;f--){var _={};for(var v in n)_[v]=v==="access"?{}:n[v];for(var v in n.access)_.access[v]=n.access[v];_.addInitializer=function(w){if(m)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(w||null))};var h=(0,r[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],_);if(a==="accessor"){if(h===void 0)continue;if(h===null||typeof h!="object")throw new TypeError("Object expected");(p=i(h.get))&&(l.get=p),(p=i(h.set))&&(l.set=p),(p=i(h.init))&&o.unshift(p)}else(p=i(h))&&(a==="field"?o.unshift(p):l[c]=p)}d&&Object.defineProperty(d,n.name,l),m=!0}function Mm(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function km(e){return typeof e=="symbol"?e:"".concat(e)}function Fm(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function jm(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Lm(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(l){try{d(n.next(l))}catch(p){i(p)}}function c(l){try{d(n.throw(l))}catch(p){i(p)}}function d(l){l.done?s(l.value):o(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function Um(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(r=0)),r;)try{if(n=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,o=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],o=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Hm(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&As(t,e,r)}function Os(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Td(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function $m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Td(arguments[t]));return e}function Vm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function zm(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function kr(e){return this instanceof kr?(this.v=e,this):new kr(e)}function Bm(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(f){return function(_){return Promise.resolve(_).then(f,p)}}function a(f,_){n[f]&&(o[f]=function(v){return new Promise(function(h,w){s.push([f,v,h,w])>1||c(f,v)})},_&&(o[f]=_(o[f])))}function c(f,_){try{d(n[f](_))}catch(v){m(s[0][3],v)}}function d(f){f.value instanceof kr?Promise.resolve(f.value.v).then(l,p):m(s[0][2],f)}function l(f){c("next",f)}function p(f){c("throw",f)}function m(f,_){f(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Gm(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(i){return(r=!r)?{value:kr(e[o](i)),done:!1}:s?s(i):i}:s}}function Wm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Os=="function"?Os(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(a,c){i=e[s](i),o(a,c,i.done,i.value)})}}function o(s,i,a,c){Promise.resolve(c).then(function(d){s({value:d,done:a})},i)}}function Ym(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Km(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Pd(e),n=0;n<r.length;n++)r[n]!=="default"&&As(t,e,r[n]);return bA(t,e),t}function Xm(e){return e&&e.__esModule?e:{default:e}}function Jm(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Qm(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function Zm(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function e_(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function t_(e){function t(s){e.error=e.hasError?new RA(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(i){return t(i),o()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function r_(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,i){return n?t?".jsx":".js":o&&(!s||!i)?r:o+s+"."+i.toLowerCase()+"js"}):e}var Cd,Ts,As,bA,Pd,RA,CA,O=M(()=>{Cd=function(e,t){return Cd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Cd(e,t)};Ts=function(){return Ts=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ts.apply(this,arguments)};As=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};bA=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Pd=function(e){return Pd=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Pd(e)};RA=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};CA={__extends:xm,__assign:Ts,__rest:Im,__decorate:Nm,__param:Dm,__esDecorate:qm,__runInitializers:Mm,__propKey:km,__setFunctionName:Fm,__metadata:jm,__awaiter:Lm,__generator:Um,__createBinding:As,__exportStar:Hm,__values:Os,__read:Td,__spread:$m,__spreadArrays:Vm,__spreadArray:zm,__await:kr,__asyncGenerator:Bm,__asyncDelegator:Gm,__asyncValues:Wm,__makeTemplateObject:Ym,__importStar:Km,__importDefault:Xm,__classPrivateFieldGet:Jm,__classPrivateFieldSet:Qm,__classPrivateFieldIn:Zm,__addDisposableResource:e_,__disposeResources:t_,__rewriteRelativeImportExtension:r_}});var L=u((L8,u_)=>{var xs=Object.defineProperty,PA=Object.getOwnPropertyDescriptor,TA=Object.getOwnPropertyNames,OA=Object.prototype.hasOwnProperty,Is=(e,t)=>xs(e,"name",{value:t,configurable:!0}),AA=(e,t)=>{for(var r in t)xs(e,r,{get:t[r],enumerable:!0})},xA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of TA(t))!OA.call(e,o)&&o!==r&&xs(e,o,{get:()=>t[o],enumerable:!(n=PA(t,o))||n.enumerable});return e},IA=e=>xA(xs({},"__esModule",{value:!0}),e),n_={};AA(n_,{AlgorithmId:()=>a_,EndpointURLScheme:()=>i_,FieldPosition:()=>c_,HttpApiKeyAuthLocation:()=>s_,HttpAuthLocation:()=>o_,IniSectionType:()=>d_,RequestHandlerProtocol:()=>l_,SMITHY_CONTEXT_KEY:()=>kA,getDefaultClientConfiguration:()=>qA,resolveDefaultRuntimeConfig:()=>MA});u_.exports=IA(n_);var o_=(e=>(e.HEADER="header",e.QUERY="query",e))(o_||{}),s_=(e=>(e.HEADER="header",e.QUERY="query",e))(s_||{}),i_=(e=>(e.HTTP="http",e.HTTPS="https",e))(i_||{}),a_=(e=>(e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e))(a_||{}),NA=Is(e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>"sha256",checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>"md5",checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),DA=Is(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),qA=Is(e=>({...NA(e)}),"getDefaultClientConfiguration"),MA=Is(e=>({...DA(e)}),"resolveDefaultRuntimeConfig"),c_=(e=>(e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER",e))(c_||{}),kA="__smithy_context",d_=(e=>(e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services",e))(d_||{}),l_=(e=>(e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0",e))(l_||{})});var ce=u((V8,E_)=>{var Ns=Object.defineProperty,FA=Object.getOwnPropertyDescriptor,jA=Object.getOwnPropertyNames,LA=Object.prototype.hasOwnProperty,kt=(e,t)=>Ns(e,"name",{value:t,configurable:!0}),UA=(e,t)=>{for(var r in t)Ns(e,r,{get:t[r],enumerable:!0})},HA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of jA(t))!LA.call(e,o)&&o!==r&&Ns(e,o,{get:()=>t[o],enumerable:!(n=FA(t,o))||n.enumerable});return e},$A=e=>HA(Ns({},"__esModule",{value:!0}),e),p_={};UA(p_,{Field:()=>GA,Fields:()=>WA,HttpRequest:()=>YA,HttpResponse:()=>KA,getHttpHandlerExtensionConfiguration:()=>VA,isValidHostname:()=>v_,resolveHttpHandlerRuntimeConfig:()=>zA});E_.exports=$A(p_);var VA=kt(e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},"getHttpHandlerExtensionConfiguration"),zA=kt(e=>({httpHandler:e.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),BA=L(),f_=class{constructor({name:t,kind:r=BA.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};kt(f_,"Field");var GA=f_,m_=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};kt(m_,"Fields");var WA=m_,__=class g_{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new g_({...this,headers:{...this.headers}});return t.query&&(t.query=h_(t.query)),t}};kt(__,"HttpRequest");var YA=__;function h_(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}kt(h_,"cloneQuery");var y_=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};kt(y_,"HttpResponse");var KA=y_;function v_(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}kt(v_,"isValidHostname")});var lo=u(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.getHostHeaderPlugin=xe.hostHeaderMiddlewareOptions=xe.hostHeaderMiddleware=xe.resolveHostHeaderConfig=void 0;var XA=ce();function JA(e){return e}xe.resolveHostHeaderConfig=JA;var QA=e=>t=>async r=>{if(!XA.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)};xe.hostHeaderMiddleware=QA;xe.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var ZA=e=>({applyToStack:t=>{t.add((0,xe.hostHeaderMiddleware)(e),xe.hostHeaderMiddlewareOptions)}});xe.getHostHeaderPlugin=ZA});var S_=u(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.getLoggerPlugin=et.loggerMiddlewareOptions=et.loggerMiddleware=void 0;var ex=()=>(e,t)=>async r=>{var n,o;try{let s=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:p}=d,m=l??t.inputFilterSensitiveLog,f=p??t.outputFilterSensitiveLog,{$metadata:_,...v}=s.output;return(n=c?.info)===null||n===void 0||n.call(c,{clientName:i,commandName:a,input:m(r.input),output:f(v),metadata:_}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l}=d,p=l??t.inputFilterSensitiveLog;throw(o=c?.error)===null||o===void 0||o.call(c,{clientName:i,commandName:a,input:p(r.input),error:s,metadata:s.$metadata}),s}};et.loggerMiddleware=ex;et.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var tx=e=>({applyToStack:t=>{t.add((0,et.loggerMiddleware)(),et.loggerMiddlewareOptions)}});et.getLoggerPlugin=tx});var uo=u(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});var rx=(O(),C(T));rx.__exportStar(S_(),Od)});var po=u(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.getRecursionDetectionPlugin=tt.addRecursionDetectionMiddlewareOptions=tt.recursionDetectionMiddleware=void 0;var nx=ce(),w_="X-Amzn-Trace-Id",ox="AWS_LAMBDA_FUNCTION_NAME",sx="_X_AMZN_TRACE_ID",ix=e=>t=>async r=>{let{request:n}=r;if(!nx.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(w_))return t(r);let o=process.env[ox],s=process.env[sx],i=a=>typeof a=="string"&&a.length>0;return i(o)&&i(s)&&(n.headers[w_]=s),t({...r,request:n})};tt.recursionDetectionMiddleware=ix;tt.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var ax=e=>({applyToStack:t=>{t.add((0,tt.recursionDetectionMiddleware)(e),tt.addRecursionDetectionMiddlewareOptions)}});tt.getRecursionDetectionPlugin=ax});var X=u((Y8,x_)=>{var Ds=Object.defineProperty,cx=Object.getOwnPropertyDescriptor,dx=Object.getOwnPropertyNames,lx=Object.prototype.hasOwnProperty,gr=(e,t)=>Ds(e,"name",{value:t,configurable:!0}),ux=(e,t)=>{for(var r in t)Ds(e,r,{get:t[r],enumerable:!0})},px=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dx(t))!lx.call(e,o)&&o!==r&&Ds(e,o,{get:()=>t[o],enumerable:!(n=cx(t,o))||n.enumerable});return e},fx=e=>px(Ds({},"__esModule",{value:!0}),e),b_={};ux(b_,{CredentialsProviderError:()=>mx,ProviderError:()=>qs,TokenProviderError:()=>_x,chain:()=>gx,fromStatic:()=>hx,memoize:()=>yx});x_.exports=fx(b_);var R_=class C_ extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,C_.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};gr(R_,"ProviderError");var qs=R_,P_=class T_ extends qs{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,T_.prototype)}};gr(P_,"CredentialsProviderError");var mx=P_,O_=class A_ extends qs{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,A_.prototype)}};gr(O_,"TokenProviderError");var _x=O_,gx=gr((...e)=>async()=>{if(e.length===0)throw new qs("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},"chain"),hx=gr(e=>()=>Promise.resolve(e),"fromStatic"),yx=gr((e,t,r)=>{let n,o,s,i=!1,a=gr(async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n},"coalesceProvider");return t===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))},"memoize")});var Ft=u((K8,q_)=>{var Ms=Object.defineProperty,vx=Object.getOwnPropertyDescriptor,Ex=Object.getOwnPropertyNames,Sx=Object.prototype.hasOwnProperty,N_=(e,t)=>Ms(e,"name",{value:t,configurable:!0}),wx=(e,t)=>{for(var r in t)Ms(e,r,{get:t[r],enumerable:!0})},bx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ex(t))!Sx.call(e,o)&&o!==r&&Ms(e,o,{get:()=>t[o],enumerable:!(n=vx(t,o))||n.enumerable});return e},Rx=e=>bx(Ms({},"__esModule",{value:!0}),e),D_={};wx(D_,{getSmithyContext:()=>Cx,normalizeProvider:()=>Px});q_.exports=Rx(D_);var I_=L(),Cx=N_(e=>e[I_.SMITHY_CONTEXT_KEY]||(e[I_.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),Px=N_(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider")});var Ad=u((X8,k_)=>{var ks=Object.defineProperty,Tx=Object.getOwnPropertyDescriptor,Ox=Object.getOwnPropertyNames,Ax=Object.prototype.hasOwnProperty,xx=(e,t)=>ks(e,"name",{value:t,configurable:!0}),Ix=(e,t)=>{for(var r in t)ks(e,r,{get:t[r],enumerable:!0})},Nx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ox(t))!Ax.call(e,o)&&o!==r&&ks(e,o,{get:()=>t[o],enumerable:!(n=Tx(t,o))||n.enumerable});return e},Dx=e=>Nx(ks({},"__esModule",{value:!0}),e),M_={};Ix(M_,{isArrayBuffer:()=>qx});k_.exports=Dx(M_);var qx=xx(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Fr=u((J8,L_)=>{var Fs=Object.defineProperty,Mx=Object.getOwnPropertyDescriptor,kx=Object.getOwnPropertyNames,Fx=Object.prototype.hasOwnProperty,F_=(e,t)=>Fs(e,"name",{value:t,configurable:!0}),jx=(e,t)=>{for(var r in t)Fs(e,r,{get:t[r],enumerable:!0})},Lx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of kx(t))!Fx.call(e,o)&&o!==r&&Fs(e,o,{get:()=>t[o],enumerable:!(n=Mx(t,o))||n.enumerable});return e},Ux=e=>Lx(Fs({},"__esModule",{value:!0}),e),j_={};jx(j_,{fromArrayBuffer:()=>$x,fromString:()=>Vx});L_.exports=Ux(j_);var Hx=Ad(),xd=j("buffer"),$x=F_((e,t=0,r=e.byteLength-t)=>{if(!(0,Hx.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return xd.Buffer.from(e,t,r)},"fromArrayBuffer"),Vx=F_((e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?xd.Buffer.from(e,t):xd.Buffer.from(e)},"fromString")});var Ie=u((Q8,V_)=>{var js=Object.defineProperty,zx=Object.getOwnPropertyDescriptor,Bx=Object.getOwnPropertyNames,Gx=Object.prototype.hasOwnProperty,Id=(e,t)=>js(e,"name",{value:t,configurable:!0}),Wx=(e,t)=>{for(var r in t)js(e,r,{get:t[r],enumerable:!0})},Yx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Bx(t))!Gx.call(e,o)&&o!==r&&js(e,o,{get:()=>t[o],enumerable:!(n=zx(t,o))||n.enumerable});return e},Kx=e=>Yx(js({},"__esModule",{value:!0}),e),U_={};Wx(U_,{fromUtf8:()=>$_,toUint8Array:()=>Xx,toUtf8:()=>Jx});V_.exports=Kx(U_);var H_=Fr(),$_=Id(e=>{let t=(0,H_.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),Xx=Id(e=>typeof e=="string"?$_(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),Jx=Id(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,H_.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var X_=u((Z8,K_)=>{var Ls=Object.defineProperty,Qx=Object.getOwnPropertyDescriptor,Zx=Object.getOwnPropertyNames,eI=Object.prototype.hasOwnProperty,z_=(e,t)=>Ls(e,"name",{value:t,configurable:!0}),tI=(e,t)=>{for(var r in t)Ls(e,r,{get:t[r],enumerable:!0})},rI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Zx(t))!eI.call(e,o)&&o!==r&&Ls(e,o,{get:()=>t[o],enumerable:!(n=Qx(t,o))||n.enumerable});return e},nI=e=>rI(Ls({},"__esModule",{value:!0}),e),B_={};tI(B_,{fromHex:()=>W_,toHex:()=>Y_});K_.exports=nI(B_);var G_={},Nd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),G_[e]=t,Nd[t]=e}function W_(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Nd)t[r/2]=Nd[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}z_(W_,"fromHex");function Y_(e){let t="";for(let r=0;r<e.byteLength;r++)t+=G_[e[r]];return t}z_(Y_,"toHex")});var qd=u((e6,Z_)=>{var Us=Object.defineProperty,oI=Object.getOwnPropertyDescriptor,sI=Object.getOwnPropertyNames,iI=Object.prototype.hasOwnProperty,Dd=(e,t)=>Us(e,"name",{value:t,configurable:!0}),aI=(e,t)=>{for(var r in t)Us(e,r,{get:t[r],enumerable:!0})},cI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sI(t))!iI.call(e,o)&&o!==r&&Us(e,o,{get:()=>t[o],enumerable:!(n=oI(t,o))||n.enumerable});return e},dI=e=>cI(Us({},"__esModule",{value:!0}),e),J_={};aI(J_,{escapeUri:()=>Q_,escapeUriPath:()=>uI});Z_.exports=dI(J_);var Q_=Dd(e=>encodeURIComponent(e).replace(/[!'()*]/g,lI),"escapeUri"),lI=Dd(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),uI=Dd(e=>e.split("/").map(Q_).join("/"),"escapeUriPath")});var Hd=u((n6,vg)=>{var Bs=Object.defineProperty,pI=Object.getOwnPropertyDescriptor,fI=Object.getOwnPropertyNames,mI=Object.prototype.hasOwnProperty,ee=(e,t)=>Bs(e,"name",{value:t,configurable:!0}),_I=(e,t)=>{for(var r in t)Bs(e,r,{get:t[r],enumerable:!0})},gI=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fI(t))!mI.call(e,o)&&o!==r&&Bs(e,o,{get:()=>t[o],enumerable:!(n=pI(t,o))||n.enumerable});return e},hI=e=>gI(Bs({},"__esModule",{value:!0}),e),og={};_I(og,{SignatureV4:()=>zI,clearCredentialCache:()=>qI,createScope:()=>Vs,getCanonicalHeaders:()=>jd,getCanonicalQuery:()=>pg,getPayloadHash:()=>zs,getSigningKey:()=>ug,moveHeadersToQuery:()=>hg,prepareRequest:()=>Ud});vg.exports=hI(og);var eg=Ft(),Md=Ie(),yI="X-Amz-Algorithm",vI="X-Amz-Credential",sg="X-Amz-Date",EI="X-Amz-SignedHeaders",SI="X-Amz-Expires",ig="X-Amz-Signature",ag="X-Amz-Security-Token",cg="authorization",dg=sg.toLowerCase(),wI="date",bI=[cg,dg,wI],RI=ig.toLowerCase(),Fd="x-amz-content-sha256",CI=ag.toLowerCase(),PI={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},TI=/^proxy-/,OI=/^sec-/,kd="AWS4-HMAC-SHA256",AI="AWS4-HMAC-SHA256-PAYLOAD",xI="UNSIGNED-PAYLOAD",II=50,lg="aws4_request",NI=60*60*24*7,jt=X_(),DI=Ie(),jr={},$s=[],Vs=ee((e,t,r)=>`${e}/${t}/${r}/${lg}`,"createScope"),ug=ee(async(e,t,r,n,o)=>{let s=await tg(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${o}:${(0,jt.toHex)(s)}:${t.sessionToken}`;if(i in jr)return jr[i];for($s.push(i);$s.length>II;)delete jr[$s.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,o,lg])a=await tg(e,a,c);return jr[i]=a},"getSigningKey"),qI=ee(()=>{$s.length=0,Object.keys(jr).forEach(e=>{delete jr[e]})},"clearCredentialCache"),tg=ee((e,t,r)=>{let n=new e(t);return n.update((0,DI.toUint8Array)(r)),n.digest()},"hmac"),jd=ee(({headers:e},t,r)=>{let n={};for(let o of Object.keys(e).sort()){if(e[o]==null)continue;let s=o.toLowerCase();(s in PI||t?.has(s)||TI.test(s)||OI.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[o].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),fo=qd(),pg=ee(({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===RI)continue;t.push(n);let o=e[n];typeof o=="string"?r[n]=`${(0,fo.escapeUri)(n)}=${(0,fo.escapeUri)(o)}`:Array.isArray(o)&&(r[n]=o.slice(0).reduce((s,i)=>s.concat([`${(0,fo.escapeUri)(n)}=${(0,fo.escapeUri)(i)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),MI=Ad(),kI=Ie(),zs=ee(async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Fd)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,MI.isArrayBuffer)(t)){let n=new r;return n.update((0,kI.toUint8Array)(t)),(0,jt.toHex)(await n.digest())}return xI},"getPayloadHash"),rg=Ie(),fg=class{format(t){let r=[];for(let s of Object.keys(t)){let i=(0,rg.fromUtf8)(s);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[s]))}let n=new Uint8Array(r.reduce((s,i)=>s+i.byteLength,0)),o=0;for(let s of r)n.set(s,o),o+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let o=new Uint8Array(9);return o[0]=5,o.set(t.value.bytes,1),o;case"binary":let s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(s.buffer);return i.set(t.value,3),i;case"string":let a=(0,rg.fromUtf8)(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(LI.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!jI.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,jt.fromHex)(t.value.replace(/\-/g,"")),1),p}}};ee(fg,"HeaderFormatter");var FI=fg,jI=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,mg=class _g{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,o=Math.abs(Math.round(t));n>-1&&o>0;n--,o/=256)r[n]=o;return t<0&&Ld(r),new _g(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Ld(t),parseInt((0,jt.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};ee(mg,"Int64");var LI=mg;function Ld(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}ee(Ld,"negate");var UI=ee((e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},"hasHeader"),gg=ee(({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?HI(t):void 0}),"cloneRequest"),HI=ee(e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),"cloneQuery"),hg=ee((e,t={})=>{var r;let{headers:n,query:o={}}=typeof e.clone=="function"?e.clone():gg(e);for(let s of Object.keys(n)){let i=s.toLowerCase();i.slice(0,6)==="x-amz-"&&!((r=t.unhoistableHeaders)!=null&&r.has(i))&&(o[s]=n[s],delete n[s])}return{...e,headers:n,query:o}},"moveHeadersToQuery"),Ud=ee(e=>{e=typeof e.clone=="function"?e.clone():gg(e);for(let t of Object.keys(e.headers))bI.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},"prepareRequest"),$I=ee(e=>VI(e).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),VI=ee(e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,"toDate"),yg=class{constructor({applyChecksum:t,credentials:r,region:n,service:o,sha256:s,uriEscapePath:i=!0}){this.headerFormatter=new FI,this.service=o,this.sha256=s,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,eg.normalizeProvider)(n),this.credentialProvider=(0,eg.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:o=3600,unsignableHeaders:s,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let p=c??await this.regionProvider(),{longDate:m,shortDate:f}=Hs(n);if(o>NI)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let _=Vs(f,p,d??this.service),v=hg(Ud(t),{unhoistableHeaders:i});l.sessionToken&&(v.query[ag]=l.sessionToken),v.query[yI]=kd,v.query[vI]=`${l.accessKeyId}/${_}`,v.query[sg]=m,v.query[SI]=o.toString(10);let h=jd(v,s,a);return v.query[EI]=ng(h),v.query[ig]=await this.getSignature(m,_,this.getSigningKey(l,p,f,d),this.createCanonicalRequest(v,h,await zs(t,this.sha256))),v}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:o,signingRegion:s,signingService:i}){let a=s??await this.regionProvider(),{shortDate:c,longDate:d}=Hs(n),l=Vs(c,a,i??this.service),p=await zs({headers:{},body:r},this.sha256),m=new this.sha256;m.update(t);let f=(0,jt.toHex)(await m.digest()),_=[AI,d,l,o,f,p].join(`
`);return this.signString(_,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:o}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:o,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:o}={}){let s=await this.credentialProvider();this.validateResolvedCredentials(s);let i=n??await this.regionProvider(),{shortDate:a}=Hs(r),c=new this.sha256(await this.getSigningKey(s,i,a,o));return c.update((0,Md.toUint8Array)(t)),(0,jt.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:o,signingRegion:s,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=s??await this.regionProvider(),d=Ud(t),{longDate:l,shortDate:p}=Hs(r),m=Vs(p,c,i??this.service);d.headers[dg]=l,a.sessionToken&&(d.headers[CI]=a.sessionToken);let f=await zs(d,this.sha256);!UI(Fd,d.headers)&&this.applyChecksum&&(d.headers[Fd]=f);let _=jd(d,o,n),v=await this.getSignature(l,m,this.getSigningKey(a,c,p,i),this.createCanonicalRequest(d,_,f));return d.headers[cg]=`${kd} Credential=${a.accessKeyId}/${m}, SignedHeaders=${ng(_)}, Signature=${v}`,d}createCanonicalRequest(t,r,n){let o=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${pg(t)}
${o.map(s=>`${s}:${r[s]}`).join(`
`)}

${o.join(";")}
${n}`}async createStringToSign(t,r,n){let o=new this.sha256;o.update((0,Md.toUint8Array)(n));let s=await o.digest();return`${kd}
${t}
${r}
${(0,jt.toHex)(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return(0,fo.escapeUri)(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,o){let s=await this.createStringToSign(t,r,o),i=new this.sha256(await n);return i.update((0,Md.toUint8Array)(s)),(0,jt.toHex)(await i.digest())}getSigningKey(t,r,n,o){return ug(this.sha256,t,n,r,o||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};ee(yg,"SignatureV4");var zI=yg,Hs=ee(e=>{let t=$I(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},"formatDate"),ng=ee(e=>Object.keys(e).sort().join(";"),"getCanonicalHeaderList")});var Sg=u(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.resolveSigV4AuthConfig=Ur.resolveAwsAuthConfig=void 0;var BI=X(),$d=Hd(),Lr=Ft(),GI=3e5,WI=e=>{let t=e.credentials?Eg(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=(0,Lr.normalizeProvider)(e.signer):e.regionInfoProvider?s=()=>(0,Lr.normalizeProvider)(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||$d.SignatureV4;return new p(l)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,Lr.normalizeProvider)(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},l=e.signerConstructor||$d.SignatureV4;return new l(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};Ur.resolveAwsAuthConfig=WI;var YI=e=>{let t=e.credentials?Eg(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=(0,Lr.normalizeProvider)(e.signer):s=(0,Lr.normalizeProvider)(new $d.SignatureV4({credentials:t,region:e.region,service:e.signingName,sha256:o,uriEscapePath:r})),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};Ur.resolveSigV4AuthConfig=YI;var Eg=e=>typeof e=="function"?(0,BI.memoize)(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<GI,t=>t.expiration!==void 0):(0,Lr.normalizeProvider)(e)});var Vd=u(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.getSkewCorrectedDate=void 0;var KI=e=>new Date(Date.now()+e);Gs.getSkewCorrectedDate=KI});var wg=u(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.isClockSkewed=void 0;var XI=Vd(),JI=(e,t)=>Math.abs((0,XI.getSkewCorrectedDate)(t).getTime()-e)>=3e5;Ws.isClockSkewed=JI});var bg=u(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.getUpdatedSystemClockOffset=void 0;var QI=wg(),ZI=(e,t)=>{let r=Date.parse(e);return(0,QI.isClockSkewed)(r,t)?r-Date.now():t};Ys.getUpdatedSystemClockOffset=ZI});var Tg=u(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.getSigV4AuthPlugin=be.getAwsAuthPlugin=be.awsAuthMiddlewareOptions=be.awsAuthMiddleware=void 0;var Pg=ce(),eN=Vd(),Rg=bg(),tN=e=>(t,r)=>async function(n){var o,s,i,a;if(!Pg.HttpRequest.isInstance(n.request))return t(n);let c=(i=(s=(o=r.endpointV2)===null||o===void 0?void 0:o.properties)===null||s===void 0?void 0:s.authSchemes)===null||i===void 0?void 0:i[0],d=c?.name==="sigv4a"?(a=c?.signingRegionSet)===null||a===void 0?void 0:a.join(","):void 0,l=await e.signer(c),p,m={signingDate:(0,eN.getSkewCorrectedDate)(e.systemClockOffset),signingRegion:d||r.signing_region,signingService:r.signing_service};if(r.s3ExpressIdentity){if(p=await l.signWithCredentials(n.request,r.s3ExpressIdentity,m),p.headers["X-Amz-Security-Token"]||p.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else p=await l.sign(n.request,m);let f=await t({...n,request:p}).catch(v=>{var h;let w=(h=v.ServerTime)!==null&&h!==void 0?h:Cg(v.$response);throw w&&(e.systemClockOffset=(0,Rg.getUpdatedSystemClockOffset)(w,e.systemClockOffset)),v}),_=Cg(f.response);return _&&(e.systemClockOffset=(0,Rg.getUpdatedSystemClockOffset)(_,e.systemClockOffset)),f};be.awsAuthMiddleware=tN;var Cg=e=>{var t,r,n;return Pg.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};be.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var rN=e=>({applyToStack:t=>{t.addRelativeTo((0,be.awsAuthMiddleware)(e),be.awsAuthMiddlewareOptions)}});be.getAwsAuthPlugin=rN;be.getSigV4AuthPlugin=be.getAwsAuthPlugin});var Ag=u(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});var Og=(O(),C(T));Og.__exportStar(Sg(),Ks);Og.__exportStar(Tg(),Ks)});var xg=u(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.resolveUserAgentConfig=void 0;function nN(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Xs.resolveUserAgentConfig=nN});var rt=u((p6,Ug)=>{var Js=Object.defineProperty,oN=Object.getOwnPropertyDescriptor,sN=Object.getOwnPropertyNames,iN=Object.prototype.hasOwnProperty,U=(e,t)=>Js(e,"name",{value:t,configurable:!0}),aN=(e,t)=>{for(var r in t)Js(e,r,{get:t[r],enumerable:!0})},cN=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sN(t))!iN.call(e,o)&&o!==r&&Js(e,o,{get:()=>t[o],enumerable:!(n=oN(t,o))||n.enumerable});return e},dN=e=>cN(Js({},"__esModule",{value:!0}),e),Ig={};aN(Ig,{EndpointError:()=>Ee,customEndpointFunctions:()=>Bd,isIpAddress:()=>Ng,isValidHostLabel:()=>Wd,resolveEndpoint:()=>ON});Ug.exports=dN(Ig);var lN=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Ng=U(e=>lN.test(e)||e.startsWith("[")&&e.endsWith("]"),"isIpAddress"),uN=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Wd=U((e,t=!1)=>{if(!t)return uN.test(e);let r=e.split(".");for(let n of r)if(!Wd(n))return!1;return!0},"isValidHostLabel"),Bd={},mo="endpoints";function gt(e){return typeof e!="object"||e==null?e:"ref"in e?`$${gt(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(gt).join(", ")})`:JSON.stringify(e,null,2)}U(gt,"toDebugString");var Dg=class extends Error{constructor(t){super(t),this.name="EndpointError"}};U(Dg,"EndpointError");var Ee=Dg,pN=U((e,t)=>e===t,"booleanEquals"),fN=U(e=>{let t=e.split("."),r=[];for(let n of t){let o=n.indexOf("[");if(o!==-1){if(n.indexOf("]")!==n.length-1)throw new Ee(`Path: '${e}' does not end with ']'`);let s=n.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new Ee(`Invalid array index: '${s}' in path: '${e}'`);o!==0&&r.push(n.slice(0,o)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),qg=U((e,t)=>fN(t).reduce((r,n)=>{if(typeof r!="object")throw new Ee(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),"getAttr"),mN=U(e=>e!=null,"isSet"),_N=U(e=>!e,"not"),Gd=L(),zd={[Gd.EndpointURLScheme.HTTP]:80,[Gd.EndpointURLScheme.HTTPS]:443},gN=U(e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:m,port:f,protocol:_="",path:v="",query:h={}}=e,w=new URL(`${_}//${m}${f?`:${f}`:""}${v}`);return w.search=Object.entries(h).map(([P,ae])=>`${P}=${ae}`).join("&"),w}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:o,pathname:s,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Gd.EndpointURLScheme).includes(c))return null;let d=Ng(o),l=r.includes(`${n}:${zd[c]}`)||typeof e=="string"&&e.includes(`${n}:${zd[c]}`),p=`${n}${l?`:${zd[c]}`:""}`;return{scheme:c,authority:p,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:d}},"parseURL"),hN=U((e,t)=>e===t,"stringEquals"),yN=U((e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),"substring"),vN=U(e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),EN={booleanEquals:pN,getAttr:qg,isSet:mN,isValidHostLabel:Wd,not:_N,parseURL:gN,stringEquals:hN,substring:yN,uriEncode:vN},Mg=U((e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},o=0;for(;o<e.length;){let s=e.indexOf("{",o);if(s===-1){r.push(e.slice(o));break}r.push(e.slice(o,s));let i=e.indexOf("}",s);if(i===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(s+1,i)),o=i+2);let a=e.substring(s+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(qg(n[c],d))}else r.push(n[a]);o=i+1}return r.join("")},"evaluateTemplate"),SN=U(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],"getReferenceValue"),Qs=U((e,t,r)=>{if(typeof e=="string")return Mg(e,r);if(e.fn)return kg(e,r);if(e.ref)return SN(e,r);throw new Ee(`'${t}': ${String(e)} is not a string, function or reference.`)},"evaluateExpression"),kg=U(({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:Qs(s,"arg",r)),o=e.split(".");return o[0]in Bd&&o[1]!=null?Bd[o[0]][o[1]](...n):EN[e](...n)},"callFunction"),wN=U(({assign:e,...t},r)=>{var n,o;if(e&&e in r.referenceRecord)throw new Ee(`'${e}' is already defined in Reference Record.`);let s=kg(t,r);return(o=(n=r.logger)==null?void 0:n.debug)==null||o.call(n,mo,`evaluateCondition: ${gt(t)} = ${gt(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},"evaluateCondition"),Yd=U((e=[],t)=>{var r,n;let o={};for(let s of e){let{result:i,toAssign:a}=wN(s,{...t,referenceRecord:{...t.referenceRecord,...o}});if(!i)return{result:i};a&&(o[a.name]=a.value,(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,mo,`assign: ${a.name} := ${gt(a.value)}`))}return{result:!0,referenceRecord:o}},"evaluateConditions"),bN=U((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:o.map(s=>{let i=Qs(s,"Header value entry",t);if(typeof i!="string")throw new Ee(`Header '${n}' value '${i}' is not a string`);return i})}),{}),"getEndpointHeaders"),Fg=U((e,t)=>{if(Array.isArray(e))return e.map(r=>Fg(r,t));switch(typeof e){case"string":return Mg(e,t);case"object":if(e===null)throw new Ee(`Unexpected endpoint property: ${e}`);return jg(e,t);case"boolean":return e;default:throw new Ee(`Unexpected endpoint property type: ${typeof e}`)}},"getEndpointProperty"),jg=U((e,t)=>Object.entries(e).reduce((r,[n,o])=>({...r,[n]:Fg(o,t)}),{}),"getEndpointProperties"),RN=U((e,t)=>{let r=Qs(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ee(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),CN=U((e,t)=>{var r,n;let{conditions:o,endpoint:s}=e,{result:i,referenceRecord:a}=Yd(o,t);if(!i)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:d,properties:l,headers:p}=s;return(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,mo,`Resolving endpoint from template: ${gt(s)}`),{...p!=null&&{headers:bN(p,c)},...l!=null&&{properties:jg(l,c)},url:RN(d,c)}},"evaluateEndpointRule"),PN=U((e,t)=>{let{conditions:r,error:n}=e,{result:o,referenceRecord:s}=Yd(r,t);if(o)throw new Ee(Qs(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},"evaluateErrorRule"),TN=U((e,t)=>{let{conditions:r,rules:n}=e,{result:o,referenceRecord:s}=Yd(r,t);if(o)return Lg(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},"evaluateTreeRule"),Lg=U((e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=CN(r,t);if(n)return n}else if(r.type==="error")PN(r,t);else if(r.type==="tree"){let n=TN(r,t);if(n)return n}else throw new Ee(`Unknown endpoint rule: ${r}`);throw new Ee("Rules evaluation failed")},"evaluateRules"),ON=U((e,t)=>{var r,n,o,s,i;let{endpointParams:a,logger:c}=t,{parameters:d,rules:l}=e;(n=(r=t.logger)==null?void 0:r.debug)==null||n.call(r,`${mo} Initial EndpointParams: ${gt(a)}`);let p=Object.entries(d).filter(([,_])=>_.default!=null).map(([_,v])=>[_,v.default]);if(p.length>0)for(let[_,v]of p)a[_]=a[_]??v;let m=Object.entries(d).filter(([,_])=>_.required).map(([_])=>_);for(let _ of m)if(a[_]==null)throw new Ee(`Missing required parameter: '${_}'`);let f=Lg(l,{endpointParams:a,logger:c,referenceRecord:{}});if((o=t.endpointParams)!=null&&o.Endpoint)try{let _=new URL(t.endpointParams.Endpoint),{protocol:v,port:h}=_;f.url.protocol=v,f.url.port=h}catch{}return(i=(s=t.logger)==null?void 0:s.debug)==null||i.call(s,`${mo} Resolved endpoint: ${gt(f)}`),f},"resolveEndpoint")});var Kd=u(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.isIpAddress=void 0;var AN=rt();Object.defineProperty(Zs,"isIpAddress",{enumerable:!0,get:function(){return AN.isIpAddress}})});var Hg=u(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.isVirtualHostableS3Bucket=void 0;var xN=rt(),IN=Kd(),NN=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!(0,_o.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,xN.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,IN.isIpAddress)(e))};_o.isVirtualHostableS3Bucket=NN});var $g=u(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.parseArn=void 0;var DN=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,o,s,i,...a]=t;return r!=="arn"||n===""||o===""||a[0]===""?null:{partition:n,service:o,region:s,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};ei.parseArn=DN});var Vg=u((g6,qN)=>{qN.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var Xd=u(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getUserAgentPrefix=Ge.useDefaultPartitionInfo=Ge.setPartitionInfo=Ge.partition=void 0;var MN=(O(),C(T)),zg=MN.__importDefault(Vg()),Bg=zg.default,Gg="",kN=e=>{let{partitions:t}=Bg;for(let n of t){let{regions:o,outputs:s}=n;for(let[i,a]of Object.entries(o))if(i===e)return{...s,...a}}for(let n of t){let{regionRegex:o,outputs:s}=n;if(new RegExp(o).test(e))return{...s}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};Ge.partition=kN;var FN=(e,t="")=>{Bg=e,Gg=t};Ge.setPartitionInfo=FN;var jN=()=>{(0,Ge.setPartitionInfo)(zg.default,"")};Ge.useDefaultPartitionInfo=jN;var LN=()=>Gg;Ge.getUserAgentPrefix=LN});var Yg=u(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});var UN=rt(),HN=Hg(),$N=$g(),VN=Xd(),zN={isVirtualHostableS3Bucket:HN.isVirtualHostableS3Bucket,parseArn:$N.parseArn,partition:VN.partition};UN.customEndpointFunctions.aws=zN});var Kg=u(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.resolveEndpoint=void 0;var BN=rt();Object.defineProperty(ti,"resolveEndpoint",{enumerable:!0,get:function(){return BN.resolveEndpoint}})});var Xg=u(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.EndpointError=void 0;var GN=rt();Object.defineProperty(ri,"EndpointError",{enumerable:!0,get:function(){return GN.EndpointError}})});var Qg=u(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0})});var eh=u(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0})});var rh=u(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0})});var oh=u(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0})});var ih=u(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0})});var ah=u(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});var Hr=(O(),C(T));Hr.__exportStar(Xg(),Lt);Hr.__exportStar(Qg(),Lt);Hr.__exportStar(eh(),Lt);Hr.__exportStar(rh(),Lt);Hr.__exportStar(oh(),Lt);Hr.__exportStar(ih(),Lt)});var ho=u(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});var go=(O(),C(T));go.__exportStar(Yg(),hr);go.__exportStar(Xd(),hr);go.__exportStar(Kd(),hr);go.__exportStar(Kg(),hr);go.__exportStar(ah(),hr)});var ch=u(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.UA_ESCAPE_CHAR=fe.UA_VALUE_ESCAPE_REGEX=fe.UA_NAME_ESCAPE_REGEX=fe.UA_NAME_SEPARATOR=fe.SPACE=fe.X_AMZ_USER_AGENT=fe.USER_AGENT=void 0;fe.USER_AGENT="user-agent";fe.X_AMZ_USER_AGENT="x-amz-user-agent";fe.SPACE=" ";fe.UA_NAME_SEPARATOR="/";fe.UA_NAME_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;fe.UA_VALUE_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;fe.UA_ESCAPE_CHAR="-"});var dh=u(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.getUserAgentPlugin=nt.getUserAgentMiddlewareOptions=nt.userAgentMiddleware=void 0;var WN=ho(),YN=ce(),Se=ch(),KN=e=>(t,r)=>async n=>{var o,s;let{request:i}=n;if(!YN.HttpRequest.isInstance(i))return t(n);let{headers:a}=i,c=((o=r?.userAgent)===null||o===void 0?void 0:o.map(Jd))||[],d=(await e.defaultUserAgentProvider()).map(Jd),l=((s=e?.customUserAgent)===null||s===void 0?void 0:s.map(Jd))||[],p=(0,WN.getUserAgentPrefix)(),m=(p?[p]:[]).concat([...d,...c,...l]).join(Se.SPACE),f=[...d.filter(_=>_.startsWith("aws-sdk-")),...l].join(Se.SPACE);return e.runtime!=="browser"?(f&&(a[Se.X_AMZ_USER_AGENT]=a[Se.X_AMZ_USER_AGENT]?`${a[Se.USER_AGENT]} ${f}`:f),a[Se.USER_AGENT]=m):a[Se.X_AMZ_USER_AGENT]=m,t({...n,request:i})};nt.userAgentMiddleware=KN;var Jd=e=>{var t;let r=e[0].split(Se.UA_NAME_SEPARATOR).map(a=>a.replace(Se.UA_NAME_ESCAPE_REGEX,Se.UA_ESCAPE_CHAR)).join(Se.UA_NAME_SEPARATOR),n=(t=e[1])===null||t===void 0?void 0:t.replace(Se.UA_VALUE_ESCAPE_REGEX,Se.UA_ESCAPE_CHAR),o=r.indexOf(Se.UA_NAME_SEPARATOR),s=r.substring(0,o),i=r.substring(o+1);return s==="api"&&(i=i.toLowerCase()),[s,i,n].filter(a=>a&&a.length>0).reduce((a,c,d)=>{switch(d){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")};nt.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var XN=e=>({applyToStack:t=>{t.add((0,nt.userAgentMiddleware)(e),nt.getUserAgentMiddlewareOptions)}});nt.getUserAgentPlugin=XN});var yo=u(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});var lh=(O(),C(T));lh.__exportStar(xg(),ni);lh.__exportStar(dh(),ni)});var _h=u((I6,mh)=>{var oi=Object.defineProperty,JN=Object.getOwnPropertyDescriptor,QN=Object.getOwnPropertyNames,ZN=Object.prototype.hasOwnProperty,uh=(e,t)=>oi(e,"name",{value:t,configurable:!0}),eD=(e,t)=>{for(var r in t)oi(e,r,{get:t[r],enumerable:!0})},tD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of QN(t))!ZN.call(e,o)&&o!==r&&oi(e,o,{get:()=>t[o],enumerable:!(n=JN(t,o))||n.enumerable});return e},rD=e=>tD(oi({},"__esModule",{value:!0}),e),ph={};eD(ph,{SelectorType:()=>fh,booleanSelector:()=>nD,numberSelector:()=>oD});mh.exports=rD(ph);var nD=uh((e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},"booleanSelector"),oD=uh((e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n},"numberSelector"),fh=(e=>(e.ENV="env",e.CONFIG="shared config entry",e))(fh||{})});var ot=u((N6,Ph)=>{var ii=Object.defineProperty,sD=Object.getOwnPropertyDescriptor,iD=Object.getOwnPropertyNames,aD=Object.prototype.hasOwnProperty,We=(e,t)=>ii(e,"name",{value:t,configurable:!0}),cD=(e,t)=>{for(var r in t)ii(e,r,{get:t[r],enumerable:!0})},dD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of iD(t))!aD.call(e,o)&&o!==r&&ii(e,o,{get:()=>t[o],enumerable:!(n=sD(t,o))||n.enumerable});return e},lD=e=>dD(ii({},"__esModule",{value:!0}),e),yh={};cD(yh,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>Eh,CONFIG_USE_FIPS_ENDPOINT:()=>wh,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>uD,DEFAULT_USE_FIPS_ENDPOINT:()=>fD,ENV_USE_DUALSTACK_ENDPOINT:()=>vh,ENV_USE_FIPS_ENDPOINT:()=>Sh,NODE_REGION_CONFIG_FILE_OPTIONS:()=>vD,NODE_REGION_CONFIG_OPTIONS:()=>yD,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>pD,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>mD,REGION_ENV_NAME:()=>bh,REGION_INI_NAME:()=>Rh,getRegionInfo:()=>RD,resolveCustomEndpointsConfig:()=>_D,resolveEndpointsConfig:()=>hD,resolveRegionConfig:()=>ED});Ph.exports=lD(yh);var Ut=_h(),vh="AWS_USE_DUALSTACK_ENDPOINT",Eh="use_dualstack_endpoint",uD=!1,pD={environmentVariableSelector:e=>(0,Ut.booleanSelector)(e,vh,Ut.SelectorType.ENV),configFileSelector:e=>(0,Ut.booleanSelector)(e,Eh,Ut.SelectorType.CONFIG),default:!1},Sh="AWS_USE_FIPS_ENDPOINT",wh="use_fips_endpoint",fD=!1,mD={environmentVariableSelector:e=>(0,Ut.booleanSelector)(e,Sh,Ut.SelectorType.ENV),configFileSelector:e=>(0,Ut.booleanSelector)(e,wh,Ut.SelectorType.CONFIG),default:!1},si=Ft(),_D=We(e=>{let{endpoint:t,urlParser:r}=e;return{...e,tls:e.tls??!0,endpoint:(0,si.normalizeProvider)(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:(0,si.normalizeProvider)(e.useDualstackEndpoint??!1)}},"resolveCustomEndpointsConfig"),gD=We(async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),s=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:s})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},"getEndpointFromRegion"),hD=We(e=>{let t=(0,si.normalizeProvider)(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:o}=e;return{...e,tls:e.tls??!0,endpoint:r?(0,si.normalizeProvider)(typeof r=="string"?o(r):r):()=>gD({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t}},"resolveEndpointsConfig"),bh="AWS_REGION",Rh="region",yD={environmentVariableSelector:e=>e[bh],configFileSelector:e=>e[Rh],default:()=>{throw new Error("Region is missing")}},vD={preferredFile:"credentials"},Ch=We(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),gh=We(e=>Ch(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),ED=We(e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return gh(t);let n=await t();return gh(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Ch(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},"resolveRegionConfig"),hh=We((e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:o})=>t===o.includes("fips")&&r===o.includes("dualstack")))==null?void 0:n.hostname},"getHostnameFromVariants"),SD=We((e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),"getResolvedHostname"),wD=We((e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws","getResolvedPartition"),bD=We((e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let o=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(o);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),RD=We((e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:o,partitionHash:s})=>{var i,a,c,d,l;let p=wD(e,{partitionHash:s}),m=e in o?e:((i=s[p])==null?void 0:i.endpoint)??e,f={useFipsEndpoint:t,useDualstackEndpoint:r},_=hh((a=o[m])==null?void 0:a.variants,f),v=hh((c=s[p])==null?void 0:c.variants,f),h=SD(m,{regionHostname:_,partitionHostname:v});if(h===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:m,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let w=bD(h,{signingRegion:(d=o[m])==null?void 0:d.signingRegion,regionRegex:s[p].regionRegex,useFipsEndpoint:t});return{partition:p,signingService:n,hostname:h,...w&&{signingRegion:w},...((l=o[m])==null?void 0:l.signingService)&&{signingService:o[m].signingService}}},"getRegionInfo")});var vo=u((D6,Ih)=>{var ai=Object.defineProperty,CD=Object.getOwnPropertyDescriptor,PD=Object.getOwnPropertyNames,TD=Object.prototype.hasOwnProperty,Oh=(e,t)=>ai(e,"name",{value:t,configurable:!0}),OD=(e,t)=>{for(var r in t)ai(e,r,{get:t[r],enumerable:!0})},AD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of PD(t))!TD.call(e,o)&&o!==r&&ai(e,o,{get:()=>t[o],enumerable:!(n=CD(t,o))||n.enumerable});return e},xD=e=>AD(ai({},"__esModule",{value:!0}),e),Ah={};OD(Ah,{contentLengthMiddleware:()=>Qd,contentLengthMiddlewareOptions:()=>xh,getContentLengthPlugin:()=>ND});Ih.exports=xD(Ah);var ID=ce(),Th="content-length";function Qd(e){return t=>async r=>{let n=r.request;if(ID.HttpRequest.isInstance(n)){let{body:o,headers:s}=n;if(o&&Object.keys(s).map(i=>i.toLowerCase()).indexOf(Th)===-1)try{let i=e(o);n.headers={...n.headers,[Th]:String(i)}}catch{}}return t({...r,request:n})}}Oh(Qd,"contentLengthMiddleware");var xh={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ND=Oh(e=>({applyToStack:t=>{t.add(Qd(e.bodyLengthChecker),xh)}}),"getContentLengthPlugin")});var Eo=u(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.getHomeDir=void 0;var DD=j("os"),qD=j("path"),Zd={},MD=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",kD=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${qD.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let o=MD();return Zd[o]||(Zd[o]=(0,DD.homedir)()),Zd[o]};ci.getHomeDir=kD});var el=u(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.getSSOTokenFilepath=void 0;var FD=j("crypto"),jD=j("path"),LD=Eo(),UD=e=>{let r=(0,FD.createHash)("sha1").update(e).digest("hex");return(0,jD.join)((0,LD.getHomeDir)(),".aws","sso","cache",`${r}.json`)};di.getSSOTokenFilepath=UD});var Nh=u(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.getSSOTokenFromFile=void 0;var HD=j("fs"),$D=el(),{readFile:VD}=HD.promises,zD=async e=>{let t=(0,$D.getSSOTokenFilepath)(e),r=await VD(t,"utf8");return JSON.parse(r)};li.getSSOTokenFromFile=zD});var rl=u(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.slurpFile=void 0;var BD=j("fs"),{readFile:GD}=BD.promises,tl={},WD=(e,t)=>((!tl[e]||t?.ignoreCache)&&(tl[e]=GD(e,"utf8")),tl[e]);ui.slurpFile=WD});var Ye=u((j6,wo)=>{var fi=Object.defineProperty,YD=Object.getOwnPropertyDescriptor,KD=Object.getOwnPropertyNames,XD=Object.prototype.hasOwnProperty,Ne=(e,t)=>fi(e,"name",{value:t,configurable:!0}),JD=(e,t)=>{for(var r in t)fi(e,r,{get:t[r],enumerable:!0})},nl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of KD(t))!XD.call(e,o)&&o!==r&&fi(e,o,{get:()=>t[o],enumerable:!(n=YD(t,o))||n.enumerable});return e},sl=(e,t,r)=>(nl(e,t,"default"),r&&nl(r,t,"default")),QD=e=>nl(fi({},"__esModule",{value:!0}),e),So={};JD(So,{CONFIG_PREFIX_SEPARATOR:()=>yr,DEFAULT_PROFILE:()=>kh,ENV_PROFILE:()=>Mh,getProfileName:()=>ZD,loadSharedConfigFiles:()=>Lh,loadSsoSessionData:()=>u1,parseKnownFiles:()=>f1});wo.exports=QD(So);sl(So,Eo(),wo.exports);var Mh="AWS_PROFILE",kh="default",ZD=Ne(e=>e.profile||process.env[Mh]||kh,"getProfileName");sl(So,el(),wo.exports);sl(So,Nh(),wo.exports);var pi=L(),e1=Ne(e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(yr);return r===-1?!1:Object.values(pi.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let o=r.indexOf(yr),s=r.substring(0,o)===pi.IniSectionType.PROFILE?r.substring(o+1):r;return t[s]=n,t},{...e.default&&{default:e.default}}),"getConfigData"),Fh=j("path"),t1=Eo(),r1="AWS_CONFIG_FILE",jh=Ne(()=>process.env[r1]||(0,Fh.join)((0,t1.getHomeDir)(),".aws","config"),"getConfigFilepath"),n1=Eo(),o1="AWS_SHARED_CREDENTIALS_FILE",s1=Ne(()=>process.env[o1]||(0,Fh.join)((0,n1.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),i1=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,a1=["__proto__","profile __proto__"],ol=Ne(e=>{let t={},r,n;for(let o of e.split(/\r?\n/)){let s=o.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=i1.exec(a);if(c){let[,d,,l]=c;Object.values(pi.IniSectionType).includes(d)&&(r=[d,l].join(yr))}else r=a;if(a1.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,d]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(d==="")n=c;else{n&&o.trimStart()===o&&(n=void 0),t[r]=t[r]||{};let l=n?[n,c].join(yr):c;t[r][l]=d}}}}return t},"parseIni"),Dh=rl(),qh=Ne(()=>({}),"swallowError"),yr=".",Lh=Ne(async(e={})=>{let{filepath:t=s1(),configFilepath:r=jh()}=e,n=await Promise.all([(0,Dh.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(ol).then(e1).catch(qh),(0,Dh.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(ol).catch(qh)]);return{configFile:n[0],credentialsFile:n[1]}},"loadSharedConfigFiles"),c1=Ne(e=>Object.entries(e).filter(([t])=>t.startsWith(pi.IniSectionType.SSO_SESSION+yr)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(yr)+1)]:n}),{}),"getSsoSessionData"),d1=rl(),l1=Ne(()=>({}),"swallowError"),u1=Ne(async(e={})=>(0,d1.slurpFile)(e.configFilepath??jh()).then(ol).then(c1).catch(l1),"loadSsoSessionData"),p1=Ne((...e)=>{let t={};for(let r of e)for(let[n,o]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],o):t[n]=o;return t},"mergeConfigFiles"),f1=Ne(async e=>{let t=await Lh(e);return p1(t.configFile,t.credentialsFile)},"parseKnownFiles")});var ht=u((L6,$h)=>{var mi=Object.defineProperty,m1=Object.getOwnPropertyDescriptor,_1=Object.getOwnPropertyNames,g1=Object.prototype.hasOwnProperty,Ro=(e,t)=>mi(e,"name",{value:t,configurable:!0}),h1=(e,t)=>{for(var r in t)mi(e,r,{get:t[r],enumerable:!0})},y1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of _1(t))!g1.call(e,o)&&o!==r&&mi(e,o,{get:()=>t[o],enumerable:!(n=m1(t,o))||n.enumerable});return e},v1=e=>y1(mi({},"__esModule",{value:!0}),e),Hh={};h1(Hh,{loadConfig:()=>R1});$h.exports=v1(Hh);var bo=X(),E1=Ro(e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new bo.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}},"fromEnv"),Uh=Ye(),S1=Ro((e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,Uh.getProfileName)(r),{configFile:o,credentialsFile:s}=await(0,Uh.loadSharedConfigFiles)(r),i=s[n]||{},a=o[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let l=e(c,t==="config"?o:s);if(l===void 0)throw new Error;return l}catch(d){throw new bo.CredentialsProviderError(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}},"fromSharedConfigFiles"),w1=Ro(e=>typeof e=="function","isFunction"),b1=Ro(e=>w1(e)?async()=>await e():(0,bo.fromStatic)(e),"fromStatic"),R1=Ro(({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,bo.memoize)((0,bo.chain)(E1(e),S1(t,n),b1(r))),"loadConfig")});var Gh=u(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.getEndpointUrlConfig=void 0;var Vh=Ye(),zh="AWS_ENDPOINT_URL",Bh="endpoint_url",C1=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(s=>s.toUpperCase()),n=t[[zh,...r].join("_")];if(n)return n;let o=t[zh];if(o)return o},configFileSelector:(t,r)=>{if(r&&t.services){let o=r[["services",t.services].join(Vh.CONFIG_PREFIX_SEPARATOR)];if(o){let s=e.split(" ").map(a=>a.toLowerCase()),i=o[[s.join("_"),Bh].join(Vh.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[Bh];if(n)return n},default:void 0});_i.getEndpointUrlConfig=C1});var Wh=u(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.getEndpointFromConfig=void 0;var P1=ht(),T1=Gh(),O1=async e=>(0,P1.loadConfig)((0,T1.getEndpointUrlConfig)(e))();gi.getEndpointFromConfig=O1});var Jh=u(($6,Xh)=>{var hi=Object.defineProperty,A1=Object.getOwnPropertyDescriptor,x1=Object.getOwnPropertyNames,I1=Object.prototype.hasOwnProperty,N1=(e,t)=>hi(e,"name",{value:t,configurable:!0}),D1=(e,t)=>{for(var r in t)hi(e,r,{get:t[r],enumerable:!0})},q1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of x1(t))!I1.call(e,o)&&o!==r&&hi(e,o,{get:()=>t[o],enumerable:!(n=A1(t,o))||n.enumerable});return e},M1=e=>q1(hi({},"__esModule",{value:!0}),e),Yh={};D1(Yh,{parseQueryString:()=>Kh});Xh.exports=M1(Yh);function Kh(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o}return t}N1(Kh,"parseQueryString")});var vr=u((V6,ey)=>{var yi=Object.defineProperty,k1=Object.getOwnPropertyDescriptor,F1=Object.getOwnPropertyNames,j1=Object.prototype.hasOwnProperty,L1=(e,t)=>yi(e,"name",{value:t,configurable:!0}),U1=(e,t)=>{for(var r in t)yi(e,r,{get:t[r],enumerable:!0})},H1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F1(t))!j1.call(e,o)&&o!==r&&yi(e,o,{get:()=>t[o],enumerable:!(n=k1(t,o))||n.enumerable});return e},$1=e=>H1(yi({},"__esModule",{value:!0}),e),Qh={};U1(Qh,{parseUrl:()=>Zh});ey.exports=$1(Qh);var V1=Jh(),Zh=L1(e=>{if(typeof e=="string")return Zh(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:s}=e,i;return s&&(i=(0,V1.parseQueryString)(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:i}},"parseUrl")});var z=u((z6,ay)=>{var vi=Object.defineProperty,z1=Object.getOwnPropertyDescriptor,B1=Object.getOwnPropertyNames,G1=Object.prototype.hasOwnProperty,il=(e,t)=>vi(e,"name",{value:t,configurable:!0}),W1=(e,t)=>{for(var r in t)vi(e,r,{get:t[r],enumerable:!0})},Y1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of B1(t))!G1.call(e,o)&&o!==r&&vi(e,o,{get:()=>t[o],enumerable:!(n=z1(t,o))||n.enumerable});return e},K1=e=>Y1(vi({},"__esModule",{value:!0}),e),ty={};W1(ty,{deserializerMiddleware:()=>ry,deserializerMiddlewareOption:()=>oy,getSerdePlugin:()=>iy,serializerMiddleware:()=>ny,serializerMiddlewareOption:()=>sy});ay.exports=K1(ty);var ry=il((e,t)=>(r,n)=>async o=>{let{response:s}=await r(o);try{let i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},"deserializerMiddleware"),ny=il((e,t)=>(r,n)=>async o=>{var s;let i=(s=n.endpointV2)!=null&&s.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(o.input,{...e,endpoint:i});return r({...o,request:a})},"serializerMiddleware"),oy={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},sy={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function iy(e,t,r){return{applyToStack:n=>{n.add(ry(e,r),oy),n.add(ny(e,t),sy)}}}il(iy,"getSerdePlugin")});var H=u((B6,my)=>{var Si=Object.defineProperty,X1=Object.getOwnPropertyDescriptor,J1=Object.getOwnPropertyNames,Q1=Object.prototype.hasOwnProperty,Ke=(e,t)=>Si(e,"name",{value:t,configurable:!0}),Z1=(e,t)=>{for(var r in t)Si(e,r,{get:t[r],enumerable:!0})},eq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of J1(t))!Q1.call(e,o)&&o!==r&&Si(e,o,{get:()=>t[o],enumerable:!(n=X1(t,o))||n.enumerable});return e},tq=e=>eq(Si({},"__esModule",{value:!0}),e),dy={};Z1(dy,{endpointMiddleware:()=>py,endpointMiddlewareOptions:()=>fy,getEndpointFromInstructions:()=>ly,getEndpointPlugin:()=>uq,resolveEndpointConfig:()=>pq,resolveParams:()=>uy,toEndpointV1:()=>al});my.exports=tq(dy);var rq=Ke(async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),aq(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!iq(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},"resolveParamsForS3"),nq=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,oq=/(\d+\.){3}\d+/,sq=/\.\./,iq=Ke(e=>nq.test(e)&&!oq.test(e)&&!sq.test(e),"isDnsCompatibleBucketName"),aq=Ke(e=>{let[t,r,n,,,o]=e.split(":"),s=t==="arn"&&e.split(":").length>=6,i=!!(s&&r&&n&&o);if(s&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},"isArnBucketName"),cq=Ke((e,t,r)=>{let n=Ke(async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o},"configProvider");return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:s,hostname:i,port:a,path:c}=o;return`${s}//${i}${a?":"+a:""}${c}`}}return o}:n},"createConfigValueProvider"),dq=Wh(),cy=vr(),al=Ke(e=>typeof e=="object"?"url"in e?(0,cy.parseUrl)(e.url):e:(0,cy.parseUrl)(e),"toEndpointV1"),ly=Ke(async(e,t,r,n)=>{if(!r.endpoint){let i=await(0,dq.getEndpointFromConfig)(r.serviceId||"");i&&(r.endpoint=()=>Promise.resolve(al(i)))}let o=await uy(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},"getEndpointFromInstructions"),uy=Ke(async(e,t,r)=>{var n;let o={},s=((n=t?.getEndpointParameterInstructions)==null?void 0:n.call(t))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":o[i]=a.value;break;case"contextParams":o[i]=e[a.name];break;case"clientContextParams":case"builtInParams":o[i]=await cq(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(o,r),String(r.serviceId).toLowerCase()==="s3"&&await rq(o),o},"resolveParams"),Ei=Ft(),py=Ke(({config:e,instructions:t})=>(r,n)=>async o=>{var s,i,a;let c=await ly(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=c,n.authSchemes=(s=c.properties)==null?void 0:s.authSchemes;let d=(i=n.authSchemes)==null?void 0:i[0];if(d){n.signing_region=d.signingRegion,n.signing_service=d.signingName;let l=(0,Ei.getSmithyContext)(n),p=(a=l?.selectedHttpAuthScheme)==null?void 0:a.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:d.signingRegion,signingRegion:d.signingRegion,signing_service:d.signingName,signingName:d.signingName,signingRegionSet:d.signingRegionSet},d.properties))}return r({...o})},"endpointMiddleware"),lq=z(),fy={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:lq.serializerMiddlewareOption.name},uq=Ke((e,t)=>({applyToStack:r=>{r.addRelativeTo(py({config:e,instructions:t}),fy)}}),"getEndpointPlugin"),pq=Ke(e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>al(await(0,Ei.normalizeProvider)(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:(0,Ei.normalizeProvider)(e.useDualstackEndpoint??!1),useFipsEndpoint:(0,Ei.normalizeProvider)(e.useFipsEndpoint??!1)}},"resolveEndpointConfig")});import fq from"crypto";function Co(){return wi>bi.length-16&&(fq.randomFillSync(bi),wi=0),bi.slice(wi,wi+=16)}var bi,wi,cl=M(()=>{bi=new Uint8Array(256),wi=bi.length});var _y,gy=M(()=>{_y=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function mq(e){return typeof e=="string"&&_y.test(e)}var Ht,Po=M(()=>{gy();Ht=mq});function Er(e,t=0){return de[e[t+0]]+de[e[t+1]]+de[e[t+2]]+de[e[t+3]]+"-"+de[e[t+4]]+de[e[t+5]]+"-"+de[e[t+6]]+de[e[t+7]]+"-"+de[e[t+8]]+de[e[t+9]]+"-"+de[e[t+10]]+de[e[t+11]]+de[e[t+12]]+de[e[t+13]]+de[e[t+14]]+de[e[t+15]]}function _q(e,t=0){let r=Er(e,t);if(!Ht(r))throw TypeError("Stringified UUID is invalid");return r}var de,hy,To=M(()=>{Po();de=[];for(let e=0;e<256;++e)de.push((e+256).toString(16).slice(1));hy=_q});function gq(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||yy,i=e.clockseq!==void 0?e.clockseq:dl;if(s==null||i==null){let m=e.random||(e.rng||Co)();s==null&&(s=yy=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),i==null&&(i=dl=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:ul+1,d=a-ll+(c-ul)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>ll)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ll=a,ul=c,dl=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let p=a/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=p&255,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let m=0;m<6;++m)o[n+m]=s[m];return t||Er(o)}var yy,dl,ll,ul,vy,Ey=M(()=>{cl();To();ll=0,ul=0;vy=gq});function hq(e){if(!Ht(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Ri,pl=M(()=>{Po();Ri=hq});function yq(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Oo(e,t,r){function n(o,s,i,a){var c;if(typeof o=="string"&&(o=yq(o)),typeof s=="string"&&(s=Ri(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+o.length);if(d.set(s),d.set(o,s.length),d=r(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,i){a=a||0;for(let l=0;l<16;++l)i[a+l]=d[l];return i}return Er(d)}try{n.name=e}catch{}return n.DNS=vq,n.URL=Eq,n}var vq,Eq,fl=M(()=>{To();pl();vq="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Eq="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import Sq from"crypto";function wq(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Sq.createHash("md5").update(e).digest()}var Sy,wy=M(()=>{Sy=wq});var bq,by,Ry=M(()=>{fl();wy();bq=Oo("v3",48,Sy),by=bq});import Rq from"crypto";var ml,Cy=M(()=>{ml={randomUUID:Rq.randomUUID}});function Cq(e,t,r){if(ml.randomUUID&&!t&&!e)return ml.randomUUID();e=e||{};let n=e.random||(e.rng||Co)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return Er(n)}var Py,Ty=M(()=>{Cy();cl();To();Py=Cq});import Pq from"crypto";function Tq(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Pq.createHash("sha1").update(e).digest()}var Oy,Ay=M(()=>{Oy=Tq});var Oq,xy,Iy=M(()=>{fl();Ay();Oq=Oo("v5",80,Oy),xy=Oq});var Ny,Dy=M(()=>{Ny="00000000-0000-0000-0000-000000000000"});function Aq(e){if(!Ht(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var qy,My=M(()=>{Po();qy=Aq});var ky={};Rd(ky,{NIL:()=>Ny,parse:()=>Ri,stringify:()=>hy,v1:()=>vy,v3:()=>by,v4:()=>Py,v5:()=>xy,validate:()=>Ht,version:()=>qy});var Fy=M(()=>{Ey();Ry();Ty();Iy();Dy();My();Po();To();pl()});var _l=u((MY,Hy)=>{var Ci=Object.defineProperty,xq=Object.getOwnPropertyDescriptor,Iq=Object.getOwnPropertyNames,Nq=Object.prototype.hasOwnProperty,$r=(e,t)=>Ci(e,"name",{value:t,configurable:!0}),Dq=(e,t)=>{for(var r in t)Ci(e,r,{get:t[r],enumerable:!0})},qq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Iq(t))!Nq.call(e,o)&&o!==r&&Ci(e,o,{get:()=>t[o],enumerable:!(n=xq(t,o))||n.enumerable});return e},Mq=e=>qq(Ci({},"__esModule",{value:!0}),e),jy={};Dq(jy,{isClockSkewCorrectedError:()=>Ly,isClockSkewError:()=>$q,isRetryableByTrait:()=>Hq,isServerError:()=>zq,isThrottlingError:()=>Vq,isTransientError:()=>Uy});Hy.exports=Mq(jy);var kq=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Fq=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],jq=["TimeoutError","RequestTimeout","RequestTimeoutException"],Lq=[500,502,503,504],Uq=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Hq=$r(e=>e.$retryable!==void 0,"isRetryableByTrait"),$q=$r(e=>kq.includes(e.name),"isClockSkewError"),Ly=$r(e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},"isClockSkewCorrectedError"),Vq=$r(e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Fq.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},"isThrottlingError"),Uy=$r(e=>{var t;return Ly(e)||jq.includes(e.name)||Uq.includes(e?.code||"")||Lq.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},"isTransientError"),zq=$r(e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Uy(e)}return!1},"isServerError")});var Vr=u((UY,ev)=>{var Pi=Object.defineProperty,Bq=Object.getOwnPropertyDescriptor,Gq=Object.getOwnPropertyNames,Wq=Object.prototype.hasOwnProperty,Xe=(e,t)=>Pi(e,"name",{value:t,configurable:!0}),Yq=(e,t)=>{for(var r in t)Pi(e,r,{get:t[r],enumerable:!0})},Kq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Gq(t))!Wq.call(e,o)&&o!==r&&Pi(e,o,{get:()=>t[o],enumerable:!(n=Bq(t,o))||n.enumerable});return e},Xq=e=>Kq(Pi({},"__esModule",{value:!0}),e),Vy={};Yq(Vy,{AdaptiveRetryStrategy:()=>rM,ConfiguredRetryStrategy:()=>nM,DEFAULT_MAX_ATTEMPTS:()=>gl,DEFAULT_RETRY_DELAY_BASE:()=>Ao,DEFAULT_RETRY_MODE:()=>Jq,DefaultRateLimiter:()=>Gy,INITIAL_RETRY_TOKENS:()=>hl,INVOCATION_ID_HEADER:()=>Zq,MAXIMUM_RETRY_DELAY:()=>yl,NO_RETRY_INCREMENT:()=>Xy,REQUEST_HEADER:()=>eM,RETRY_COST:()=>Yy,RETRY_MODES:()=>zy,StandardRetryStrategy:()=>vl,THROTTLING_RETRY_DELAY_BASE:()=>Wy,TIMEOUT_RETRY_COST:()=>Ky});ev.exports=Xq(Vy);var zy=(e=>(e.STANDARD="standard",e.ADAPTIVE="adaptive",e))(zy||{}),gl=3,Jq="standard",Qq=_l(),By=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,Qq.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Xe(By,"DefaultRateLimiter");var Gy=By,Ao=100,yl=20*1e3,Wy=500,hl=500,Yy=5,Ky=10,Xy=1,Zq="amz-sdk-invocation-id",eM="amz-sdk-request",tM=Xe(()=>{let e=Ao;return{computeNextBackoffDelay:Xe(n=>Math.floor(Math.min(yl,Math.random()*2**n*e)),"computeNextBackoffDelay"),setDelayBase:Xe(n=>{e=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),$y=Xe(({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:Xe(()=>t,"getRetryCount"),getRetryDelay:Xe(()=>Math.min(yl,e),"getRetryDelay"),getRetryCost:Xe(()=>r,"getRetryCost")}),"createDefaultRetryToken"),Jy=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=hl,this.retryBackoffStrategy=tM(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return $y({retryDelay:Ao,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?Wy:Ao);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,$y({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(hl,this.capacity+(t.getRetryCost()??Xy))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${gl}`),gl}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Ky:Yy}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};Xe(Jy,"StandardRetryStrategy");var vl=Jy,Qy=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:n}=r??{};this.rateLimiter=n??new Gy,this.standardRetryStrategy=new vl(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};Xe(Qy,"AdaptiveRetryStrategy");var rM=Qy,Zy=class extends vl{constructor(t,r=Ao){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Xe(Zy,"ConfiguredRetryStrategy");var nM=Zy});var sv=u((HY,ov)=>{var Ti=Object.defineProperty,oM=Object.getOwnPropertyDescriptor,sM=Object.getOwnPropertyNames,iM=Object.prototype.hasOwnProperty,De=(e,t)=>Ti(e,"name",{value:t,configurable:!0}),aM=(e,t)=>{for(var r in t)Ti(e,r,{get:t[r],enumerable:!0})},cM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sM(t))!iM.call(e,o)&&o!==r&&Ti(e,o,{get:()=>t[o],enumerable:!(n=oM(t,o))||n.enumerable});return e},dM=e=>cM(Ti({},"__esModule",{value:!0}),e),nv={};aM(nv,{constructStack:()=>El});ov.exports=dM(nv);var Sr=De((e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},"getAllAliases"),$t=De((e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,"getMiddlewareNameWithAliases"),El=De(()=>{let e=[],t=[],r=!1,n=new Set,o=De(p=>p.sort((m,f)=>tv[f.step]-tv[m.step]||rv[f.priority||"normal"]-rv[m.priority||"normal"]),"sort"),s=De(p=>{let m=!1,f=De(_=>{let v=Sr(_.name,_.aliases);if(v.includes(p)){m=!0;for(let h of v)n.delete(h);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},"removeByName"),i=De(p=>{let m=!1,f=De(_=>{if(_.middleware===p){m=!0;for(let v of Sr(_.name,_.aliases))n.delete(v);return!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},"removeByReference"),a=De(p=>{var m;return e.forEach(f=>{p.add(f.middleware,{...f})}),t.forEach(f=>{p.addRelativeTo(f.middleware,{...f})}),(m=p.identifyOnResolve)==null||m.call(p,l.identifyOnResolve()),p},"cloneTo"),c=De(p=>{let m=[];return p.before.forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...c(f))}),m.push(p),p.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?m.push(f):m.push(...c(f))}),m},"expandRelativeMiddlewareList"),d=De((p=!1)=>{let m=[],f=[],_={};return e.forEach(h=>{let w={...h,before:[],after:[]};for(let P of Sr(w.name,w.aliases))_[P]=w;m.push(w)}),t.forEach(h=>{let w={...h,before:[],after:[]};for(let P of Sr(w.name,w.aliases))_[P]=w;f.push(w)}),f.forEach(h=>{if(h.toMiddleware){let w=_[h.toMiddleware];if(w===void 0){if(p)return;throw new Error(`${h.toMiddleware} is not found when adding ${$t(h.name,h.aliases)} middleware ${h.relation} ${h.toMiddleware}`)}h.relation==="after"&&w.after.push(h),h.relation==="before"&&w.before.push(h)}}),o(m).map(c).reduce((h,w)=>(h.push(...w),h),[])},"getMiddlewareList"),l={add:(p,m={})=>{let{name:f,override:_,aliases:v}=m,h={step:"initialize",priority:"normal",middleware:p,...m},w=Sr(f,v);if(w.length>0){if(w.some(P=>n.has(P))){if(!_)throw new Error(`Duplicate middleware name '${$t(f,v)}'`);for(let P of w){let ae=e.findIndex(Ae=>{var Mt;return Ae.name===P||((Mt=Ae.aliases)==null?void 0:Mt.some(_r=>_r===P))});if(ae===-1)continue;let Q=e[ae];if(Q.step!==h.step||h.priority!==Q.priority)throw new Error(`"${$t(Q.name,Q.aliases)}" middleware with ${Q.priority} priority in ${Q.step} step cannot be overridden by "${$t(f,v)}" middleware with ${h.priority} priority in ${h.step} step.`);e.splice(ae,1)}}for(let P of w)n.add(P)}e.push(h)},addRelativeTo:(p,m)=>{let{name:f,override:_,aliases:v}=m,h={middleware:p,...m},w=Sr(f,v);if(w.length>0){if(w.some(P=>n.has(P))){if(!_)throw new Error(`Duplicate middleware name '${$t(f,v)}'`);for(let P of w){let ae=t.findIndex(Ae=>{var Mt;return Ae.name===P||((Mt=Ae.aliases)==null?void 0:Mt.some(_r=>_r===P))});if(ae===-1)continue;let Q=t[ae];if(Q.toMiddleware!==h.toMiddleware||Q.relation!==h.relation)throw new Error(`"${$t(Q.name,Q.aliases)}" middleware ${Q.relation} "${Q.toMiddleware}" middleware cannot be overridden by "${$t(f,v)}" middleware ${h.relation} "${h.toMiddleware}" middleware.`);t.splice(ae,1)}}for(let P of w)n.add(P)}t.push(h)},clone:()=>a(El()),use:p=>{p.applyToStack(l)},remove:p=>typeof p=="string"?s(p):i(p),removeByTag:p=>{let m=!1,f=De(_=>{let{tags:v,name:h,aliases:w}=_;if(v&&v.includes(p)){let P=Sr(h,w);for(let ae of P)n.delete(ae);return m=!0,!1}return!0},"filterCb");return e=e.filter(f),t=t.filter(f),m},concat:p=>{var m;let f=a(El());return f.use(p),f.identifyOnResolve(r||f.identifyOnResolve()||(((m=p.identifyOnResolve)==null?void 0:m.call(p))??!1)),f},applyToStack:a,identify:()=>d(!0).map(p=>{let m=p.step??p.relation+" "+p.toMiddleware;return $t(p.name,p.aliases)+" - "+m}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,m)=>{for(let f of d().map(_=>_.middleware).reverse())p=f(p,m);return r&&console.log(l.identify()),p}};return l},"constructStack"),tv={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},rv={high:3,normal:2,low:1}});var iv=u(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.fromBase64=void 0;var lM=Fr(),uM=/^[A-Za-z0-9+/]*={0,2}$/,pM=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!uM.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,lM.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Oi.fromBase64=pM});var av=u(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.toBase64=void 0;var fM=Fr(),mM=Ie(),_M=e=>{let t;if(typeof e=="string"?t=(0,mM.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,fM.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Ai.toBase64=_M});var zr=u((zY,xi)=>{var cv=Object.defineProperty,gM=Object.getOwnPropertyDescriptor,hM=Object.getOwnPropertyNames,yM=Object.prototype.hasOwnProperty,Sl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hM(t))!yM.call(e,o)&&o!==r&&cv(e,o,{get:()=>t[o],enumerable:!(n=gM(t,o))||n.enumerable});return e},dv=(e,t,r)=>(Sl(e,t,"default"),r&&Sl(r,t,"default")),vM=e=>Sl(cv({},"__esModule",{value:!0}),e),wl={};xi.exports=vM(wl);dv(wl,iv(),xi.exports);dv(wl,av(),xi.exports)});var lv=u(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.getAwsChunkedEncodingStream=void 0;var EM=j("stream"),SM=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:i}=t,a=r!==void 0&&o!==void 0&&s!==void 0&&i!==void 0,c=a?i(o,e):void 0,d=new EM.Readable({read:()=>{}});return e.on("data",l=>{let p=n(l)||0;d.push(`${p.toString(16)}\r
`),d.push(l),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${s}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};Ii.getAwsChunkedEncodingStream=SM});var mv=u((GY,fv)=>{var Ni=Object.defineProperty,wM=Object.getOwnPropertyDescriptor,bM=Object.getOwnPropertyNames,RM=Object.prototype.hasOwnProperty,CM=(e,t)=>Ni(e,"name",{value:t,configurable:!0}),PM=(e,t)=>{for(var r in t)Ni(e,r,{get:t[r],enumerable:!0})},TM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bM(t))!RM.call(e,o)&&o!==r&&Ni(e,o,{get:()=>t[o],enumerable:!(n=wM(t,o))||n.enumerable});return e},OM=e=>TM(Ni({},"__esModule",{value:!0}),e),uv={};PM(uv,{buildQueryString:()=>pv});fv.exports=OM(uv);var bl=qd();function pv(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,bl.escapeUri)(r),Array.isArray(n))for(let o=0,s=n.length;o<s;o++)t.push(`${r}=${(0,bl.escapeUri)(n[o])}`);else{let o=r;(n||typeof n=="string")&&(o+=`=${(0,bl.escapeUri)(n)}`),t.push(o)}}return t.join("&")}CM(pv,"buildQueryString")});var Br=u((XY,xv)=>{var AM=Object.create,xo=Object.defineProperty,xM=Object.getOwnPropertyDescriptor,IM=Object.getOwnPropertyNames,NM=Object.getPrototypeOf,DM=Object.prototype.hasOwnProperty,se=(e,t)=>xo(e,"name",{value:t,configurable:!0}),qM=(e,t)=>{for(var r in t)xo(e,r,{get:t[r],enumerable:!0})},hv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of IM(t))!DM.call(e,o)&&o!==r&&xo(e,o,{get:()=>t[o],enumerable:!(n=xM(t,o))||n.enumerable});return e},MM=(e,t,r)=>(r=e!=null?AM(NM(e)):{},hv(t||!e||!e.__esModule?xo(r,"default",{value:e,enumerable:!0}):r,e)),kM=e=>hv(xo({},"__esModule",{value:!0}),e),yv={};qM(yv,{DEFAULT_REQUEST_TIMEOUT:()=>HM,NodeHttp2Handler:()=>GM,NodeHttpHandler:()=>$M,streamCollector:()=>YM});xv.exports=kM(yv);var vv=ce(),Ev=mv(),Rl=j("http"),Cl=j("https"),FM=["ECONNRESET","EPIPE","ETIMEDOUT"],Sv=se(e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},"getTransformedHeaders"),jM=se((e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",o=>{o.connecting?o.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})},"setConnectionTimeout"),LM=se((e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})},"setSocketKeepAlive"),UM=se((e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},"setSocketTimeout"),wv=j("stream"),_v=1e3;async function Tl(e,t,r=_v){let n=t.headers??{},o=n.Expect||n.expect,s=-1,i=!1;o==="100-continue"&&await Promise.race([new Promise(a=>{s=Number(setTimeout(a,Math.max(_v,r)))}),new Promise(a=>{e.on("continue",()=>{clearTimeout(s),a()}),e.on("error",()=>{i=!0,clearTimeout(s),a()})})]),i||bv(e,t.body)}se(Tl,"writeRequestBody");function bv(e,t){if(t instanceof wv.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}se(bv,"writeBody");var HM=0,Rv=class Pl{constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(this.resolveDefaultConfig(o))}).catch(n):r(this.resolveDefaultConfig(t))})}static create(t){return typeof t?.handle=="function"?t:new Pl(t)}static checkSocketUsage(t,r){var n,o;let{sockets:s,requests:i,maxSockets:a}=t;if(typeof a!="number"||a===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let d in s){let l=((n=s[d])==null?void 0:n.length)??0,p=((o=i[d])==null?void 0:o.length)??0;if(l>=a&&p>=2*a)return console.warn("@smithy/node-http-handler:WARN",`socket usage at capacity=${l} and ${p} additional requests are enqueued.`,"See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html","or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config."),Date.now()}return r}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:o,httpAgent:s,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r??o,httpAgent:s instanceof Rl.Agent||typeof s?.destroy=="function"?s:new Rl.Agent({keepAlive:a,maxSockets:c,...s}),httpsAgent:i instanceof Cl.Agent||typeof i?.destroy=="function"?i:new Cl.Agent({keepAlive:a,maxSockets:c,...i})}}destroy(){var t,r,n,o;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(o=(n=this.config)==null?void 0:n.httpsAgent)==null||o.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n;return new Promise((o,s)=>{let i,a=se(async P=>{await i,clearTimeout(n),o(P)},"resolve"),c=se(async P=>{await i,s(P)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let P=new Error("Request aborted");P.name="AbortError",c(P);return}let d=t.protocol==="https:",l=d?this.config.httpsAgent:this.config.httpAgent;n=setTimeout(()=>{this.socketWarningTimestamp=Pl.checkSocketUsage(l,this.socketWarningTimestamp)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));let p=(0,Ev.buildQueryString)(t.query||{}),m;if(t.username!=null||t.password!=null){let P=t.username??"",ae=t.password??"";m=`${P}:${ae}`}let f=t.path;p&&(f+=`?${p}`),t.fragment&&(f+=`#${t.fragment}`);let _={headers:t.headers,host:t.hostname,method:t.method,path:f,port:t.port,agent:l,auth:m},h=(d?Cl.request:Rl.request)(_,P=>{let ae=new vv.HttpResponse({statusCode:P.statusCode||-1,reason:P.statusMessage,headers:Sv(P.headers),body:P});a({response:ae})});h.on("error",P=>{FM.includes(P.code)?c(Object.assign(P,{name:"TimeoutError"})):c(P)}),jM(h,c,this.config.connectionTimeout),UM(h,c,this.config.requestTimeout),r&&(r.onabort=()=>{h.abort();let P=new Error("Request aborted");P.name="AbortError",c(P)});let w=_.agent;typeof w=="object"&&"keepAlive"in w&&LM(h,{keepAlive:w.keepAlive,keepAliveMsecs:w.keepAliveMsecs}),i=Tl(h,t,this.config.requestTimeout).catch(s)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}};se(Rv,"NodeHttpHandler");var $M=Rv,gv=j("http2"),VM=MM(j("http2")),Cv=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};se(Cv,"NodeHttp2ConnectionPool");var zM=Cv,Pv=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),o=this.sessionCache.get(n);if(o){let c=o.poll();if(c&&!this.config.disableConcurrency)return c}let s=VM.default.connect(n);this.config.maxConcurrency&&s.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),s.unref();let i=se(()=>{s.destroy(),this.deleteSession(n,s)},"destroySessionCb");s.on("goaway",i),s.on("error",i),s.on("frameError",i),s.on("close",()=>this.deleteSession(n,s)),r.requestTimeout&&s.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new zM;return a.offerLast(s),this.sessionCache.set(n,a),s}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let o=this.getUrlString(t);(n=this.sessionCache.get(o))==null||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};se(Pv,"NodeHttp2ConnectionManager");var BM=Pv,Tv=class Ov{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new BM({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(o=>{r(o||{})}).catch(n):r(t||{})})}static create(t){return typeof t?.handle=="function"?t:new Ov(t)}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:o}=this.config;return new Promise((s,i)=>{var a;let c=!1,d,l=se(async Z=>{await d,s(Z)},"resolve"),p=se(async Z=>{await d,i(Z)},"reject");if(r?.aborted){c=!0;let Z=new Error("Request aborted");Z.name="AbortError",p(Z);return}let{hostname:m,method:f,port:_,protocol:v,query:h}=t,w="";if(t.username!=null||t.password!=null){let Z=t.username??"",co=t.password??"";w=`${Z}:${co}@`}let P=`${v}//${w}${m}${_?`:${_}`:""}`,ae={destination:new URL(P)},Q=this.connectionManager.lease(ae,{requestTimeout:(a=this.config)==null?void 0:a.sessionTimeout,disableConcurrentStreams:o||!1}),Ae=se(Z=>{o&&this.destroySession(Q),c=!0,p(Z)},"rejectWithDestroy"),Mt=(0,Ev.buildQueryString)(h||{}),_r=t.path;Mt&&(_r+=`?${Mt}`),t.fragment&&(_r+=`#${t.fragment}`);let Be=Q.request({...t.headers,[gv.constants.HTTP2_HEADER_PATH]:_r,[gv.constants.HTTP2_HEADER_METHOD]:f});Q.ref(),Be.on("response",Z=>{let co=new vv.HttpResponse({statusCode:Z[":status"]||-1,headers:Sv(Z),body:Be});c=!0,l({response:co}),o&&(Q.close(),this.connectionManager.deleteSession(P,Q))}),n&&Be.setTimeout(n,()=>{Be.close();let Z=new Error(`Stream timed out because of no activity for ${n} ms`);Z.name="TimeoutError",Ae(Z)}),r&&(r.onabort=()=>{Be.close();let Z=new Error("Request aborted");Z.name="AbortError",Ae(Z)}),Be.on("frameError",(Z,co,hA)=>{Ae(new Error(`Frame type id ${Z} in stream id ${hA} has failed with code ${co}.`))}),Be.on("error",Ae),Be.on("aborted",()=>{Ae(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Be.rstCode}.`))}),Be.on("close",()=>{Q.unref(),o&&Q.destroy(),c||Ae(new Error("Unexpected error: http2 request did not get a response"))}),d=Tl(Be,t,n)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}};se(Tv,"NodeHttp2Handler");var GM=Tv,Av=class extends wv.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};se(Av,"Collector");var WM=Av,YM=se(e=>new Promise((t,r)=>{let n=new WM;e.pipe(n),e.on("error",o=>{n.end(),r(o)}),n.on("error",r),n.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.bufferedBytes));t(o)})}),"streamCollector")});var Nv=u(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.sdkStreamMixin=void 0;var KM=Br(),XM=Fr(),Ol=j("stream"),JM=j("util"),Iv="The stream has already been transformed.",QM=e=>{var t,r;if(!(e instanceof Ol.Readable)){let s=((r=(t=e?.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,o=async()=>{if(n)throw new Error(Iv);return n=!0,await(0,KM.streamCollector)(e)};return Object.assign(e,{transformToByteArray:o,transformToString:async s=>{let i=await o();return s===void 0||Buffer.isEncoding(s)?(0,XM.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(s):new JM.TextDecoder(s).decode(i)},transformToWebStream:()=>{if(n)throw new Error(Iv);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Ol.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,Ol.Readable.toWeb(e)}})};Di.sdkStreamMixin=QM});var Uv=u((QY,ki)=>{var qi=Object.defineProperty,ZM=Object.getOwnPropertyDescriptor,ek=Object.getOwnPropertyNames,tk=Object.prototype.hasOwnProperty,Il=(e,t)=>qi(e,"name",{value:t,configurable:!0}),rk=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},Al=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ek(t))!tk.call(e,o)&&o!==r&&qi(e,o,{get:()=>t[o],enumerable:!(n=ZM(t,o))||n.enumerable});return e},Dv=(e,t,r)=>(Al(e,t,"default"),r&&Al(r,t,"default")),nk=e=>Al(qi({},"__esModule",{value:!0}),e),Mi={};rk(Mi,{Uint8ArrayBlobAdapter:()=>xl});ki.exports=nk(Mi);var qv=zr(),Mv=Ie();function kv(e,t="utf-8"){return t==="base64"?(0,qv.toBase64)(e):(0,Mv.toUtf8)(e)}Il(kv,"transformToString");function Fv(e,t){return t==="base64"?xl.mutate((0,qv.fromBase64)(e)):xl.mutate((0,Mv.fromUtf8)(e))}Il(Fv,"transformFromString");var jv=class Lv extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return Fv(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Lv.prototype),t}transformToString(t="utf-8"){return kv(this,t)}};Il(jv,"Uint8ArrayBlobAdapter");var xl=jv;Dv(Mi,lv(),ki.exports);Dv(Mi,Nv(),ki.exports)});var S=u((nK,lE)=>{var Hi=Object.defineProperty,ok=Object.getOwnPropertyDescriptor,sk=Object.getOwnPropertyNames,ik=Object.prototype.hasOwnProperty,E=(e,t)=>Hi(e,"name",{value:t,configurable:!0}),ak=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},ck=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of sk(t))!ik.call(e,o)&&o!==r&&Hi(e,o,{get:()=>t[o],enumerable:!(n=ok(t,o))||n.enumerable});return e},dk=e=>ck(Hi({},"__esModule",{value:!0}),e),$v={};ak($v,{Client:()=>uk,Command:()=>Wv,LazyJsonString:()=>aF,NoOpLogger:()=>lk,SENSITIVE_STRING:()=>mk,ServiceException:()=>Kk,StringWrapper:()=>Mo,_json:()=>jl,collectBody:()=>pk,convertMap:()=>cF,createAggregatedClient:()=>_k,dateToUtcString:()=>eE,decorateServiceException:()=>nE,emitWarningIfUnsupportedVersion:()=>Zk,expectBoolean:()=>hk,expectByte:()=>Fl,expectFloat32:()=>ji,expectInt:()=>vk,expectInt32:()=>Ml,expectLong:()=>Do,expectNonNull:()=>Sk,expectNumber:()=>No,expectObject:()=>Kv,expectShort:()=>kl,expectString:()=>wk,expectUnion:()=>bk,extendedEncodeURIComponent:()=>Ui,getArrayIfSingleItem:()=>iF,getDefaultClientConfiguration:()=>oF,getDefaultExtensionConfiguration:()=>sE,getValueFromTextNode:()=>iE,handleFloat:()=>Pk,limitedParseDouble:()=>Hl,limitedParseFloat:()=>Tk,limitedParseFloat32:()=>Ok,loadConfigsForDefaultMode:()=>Qk,logger:()=>qo,map:()=>Vl,parseBoolean:()=>gk,parseEpochTimestamp:()=>Uk,parseRfc3339DateTime:()=>Dk,parseRfc3339DateTimeWithOffset:()=>Mk,parseRfc7231DateTime:()=>Lk,resolveDefaultRuntimeConfig:()=>sF,resolvedPath:()=>fF,serializeFloat:()=>mF,splitEvery:()=>dE,strictParseByte:()=>Zv,strictParseDouble:()=>Ul,strictParseFloat:()=>Rk,strictParseFloat32:()=>Xv,strictParseInt:()=>Ak,strictParseInt32:()=>xk,strictParseLong:()=>Qv,strictParseShort:()=>Gr,take:()=>dF,throwDefaultError:()=>oE,withBaseException:()=>Xk});lE.exports=dk($v);var Vv=class{trace(){}debug(){}info(){}warn(){}error(){}};E(Vv,"NoOpLogger");var lk=Vv,zv=sv(),Bv=class{constructor(t){this.middlewareStack=(0,zv.constructStack)(),this.config=t}send(t,r,n){let o=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,o);if(s)i(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};E(Bv,"Client");var uk=Bv,Nl=Uv(),pk=E(async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Nl.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Nl.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Nl.Uint8ArrayBlobAdapter.mutate(await r)},"collectBody"),ql=L(),Gv=class{constructor(){this.middlewareStack=(0,zv.constructStack)()}static classBuilder(){return new fk}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:d,additionalContext:l,CommandCtor:p}){for(let h of o.bind(this)(p,t,r,n))this.middlewareStack.use(h);let m=t.concat(this.middlewareStack),{logger:f}=r,_={logger:f,clientName:s,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[ql.SMITHY_CONTEXT_KEY]:{...d},...l},{requestHandler:v}=r;return m.resolve(h=>v.handle(h.request,n||{}),_)}};E(Gv,"Command");var Wv=Gv,Yv=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){var t;let r=this,n;return n=(t=class extends Wv{constructor(...[o]){super(),this.serialize=r._serializer,this.deserialize=r._deserializer,this.input=o??{},r._init(this)}static getEndpointParameterInstructions(){return r._ep}resolveMiddleware(o,s,i){return this.resolveMiddlewareWithContext(o,s,i,{CommandCtor:n,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog,outputFilterSensitiveLog:r._outputFilterSensitiveLog,smithyContext:r._smithyContext,additionalContext:r._additionalContext})}},E(t,"CommandRef"),t)}};E(Yv,"ClassBuilder");var fk=Yv,mk="***SensitiveInformation***",_k=E((e,t)=>{for(let r of Object.keys(e)){let n=e[r],o=E(async function(i,a,c){let d=new n(i);if(typeof a=="function")this.send(d,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},c)}else return this.send(d,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[s]=o}},"createAggregatedClient"),gk=E(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},"parseBoolean"),hk=E(e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&qo.warn(Li(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&qo.warn(Li(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},"expectBoolean"),No=E(e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&qo.warn(Li(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},"expectNumber"),yk=Math.ceil(2**127*(2-2**-23)),ji=E(e=>{let t=No(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>yk)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},"expectFloat32"),Do=E(e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},"expectLong"),vk=Do,Ml=E(e=>Ll(e,32),"expectInt32"),kl=E(e=>Ll(e,16),"expectShort"),Fl=E(e=>Ll(e,8),"expectByte"),Ll=E((e,t)=>{let r=Do(e);if(r!==void 0&&Ek(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},"expectSizedInt"),Ek=E((e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},"castInt"),Sk=E((e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},"expectNonNull"),Kv=E(e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},"expectObject"),wk=E(e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return qo.warn(Li(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},"expectString"),bk=E(e=>{if(e==null)return;let t=Kv(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},"expectUnion"),Ul=E(e=>No(typeof e=="string"?Yr(e):e),"strictParseDouble"),Rk=Ul,Xv=E(e=>ji(typeof e=="string"?Yr(e):e),"strictParseFloat32"),Ck=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Yr=E(e=>{let t=e.match(Ck);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},"parseNumber"),Hl=E(e=>typeof e=="string"?Jv(e):No(e),"limitedParseDouble"),Pk=Hl,Tk=Hl,Ok=E(e=>typeof e=="string"?Jv(e):ji(e),"limitedParseFloat32"),Jv=E(e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},"parseFloatString"),Qv=E(e=>Do(typeof e=="string"?Yr(e):e),"strictParseLong"),Ak=Qv,xk=E(e=>Ml(typeof e=="string"?Yr(e):e),"strictParseInt32"),Gr=E(e=>kl(typeof e=="string"?Yr(e):e),"strictParseShort"),Zv=E(e=>Fl(typeof e=="string"?Yr(e):e),"strictParseByte"),Li=E(e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),qo={warn:console.warn},Ik=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function eE(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=o<10?`0${o}`:`${o}`,d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${Ik[n]}, ${c} ${$l[r]} ${t} ${d}:${l}:${p} GMT`}E(eE,"dateToUtcString");var Nk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),Dk=E(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=Nk.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d]=t,l=Gr(Wr(n)),p=st(o,"month",1,12),m=st(s,"day",1,31);return Io(l,p,m,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},"parseRfc3339DateTime"),qk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Mk=E(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=qk.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,o,s,i,a,c,d,l]=t,p=Gr(Wr(n)),m=st(o,"month",1,12),f=st(s,"day",1,31),_=Io(p,m,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&_.setTime(_.getTime()-Yk(l)),_},"parseRfc3339DateTimeWithOffset"),kk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Fk=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),jk=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Lk=E(e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=kk.exec(e);if(t){let[r,n,o,s,i,a,c,d]=t;return Io(Gr(Wr(s)),Dl(o),st(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=Fk.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return Vk(Io(Hk(s),Dl(o),st(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=jk.exec(e),t){let[r,n,o,s,i,a,c,d]=t;return Io(Gr(Wr(d)),Dl(n),st(o.trimLeft(),"day",1,31),{hours:s,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),Uk=E(e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Ul(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},"parseEpochTimestamp"),Io=E((e,t,r,n)=>{let o=t-1;return Bk(e,o,r),new Date(Date.UTC(e,o,r,st(n.hours,"hour",0,23),st(n.minutes,"minute",0,59),st(n.seconds,"seconds",0,60),Wk(n.fractionalMilliseconds)))},"buildDate"),Hk=E(e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Gr(Wr(e));return r<t?r+100:r},"parseTwoDigitYear"),$k=50*365*24*60*60*1e3,Vk=E(e=>e.getTime()-new Date().getTime()>$k?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,"adjustRfc850Year"),Dl=E(e=>{let t=$l.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},"parseMonthByShortName"),zk=[31,28,31,30,31,30,31,31,30,31,30,31],Bk=E((e,t,r)=>{let n=zk[t];if(t===1&&Gk(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${$l[t]} in ${e}: ${r}`)},"validateDayOfMonth"),Gk=E(e=>e%4===0&&(e%100!==0||e%400===0),"isLeapYear"),st=E((e,t,r,n)=>{let o=Zv(Wr(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},"parseDateValue"),Wk=E(e=>e==null?0:Xv("0."+e)*1e3,"parseMilliseconds"),Yk=E(e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),o=Number(e.substring(4,6));return r*(n*60+o)*60*1e3},"parseOffsetToMilliseconds"),Wr=E(e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},"stripLeadingZeroes"),tE=class rE extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,rE.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};E(tE,"ServiceException");var Kk=tE,nE=E((e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},"decorateServiceException"),oE=E(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=Jk(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw nE(i,t)},"throwDefaultError"),Xk=E(e=>({output:t,parsedBody:r,errorCode:n})=>{oE({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},"withBaseException"),Jk=E(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),"deserializeMetadata"),Qk=E(e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),Hv=!1,Zk=E(e=>{e&&!Hv&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Hv=!0)},"emitWarningIfUnsupportedVersion"),eF=E(e=>{let t=[];for(let r in ql.AlgorithmId){let n=ql.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},"getChecksumConfiguration"),tF=E(e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},"resolveChecksumRuntimeConfig"),rF=E(e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},"getRetryConfiguration"),nF=E(e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},"resolveRetryRuntimeConfig"),sE=E(e=>({...eF(e),...rF(e)}),"getDefaultExtensionConfiguration"),oF=sE,sF=E(e=>({...tF(e),...nF(e)}),"resolveDefaultRuntimeConfig");function Ui(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}E(Ui,"extendedEncodeURIComponent");var iF=E(e=>Array.isArray(e)?e:[e],"getArrayIfSingleItem"),iE=E(e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=iE(e[r]));return e},"getValueFromTextNode"),Mo=E(function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r},"StringWrapper");Mo.prototype=Object.create(String.prototype,{constructor:{value:Mo,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Mo,String);var aE=class Fi extends Mo{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof Fi?t:t instanceof String||typeof t=="string"?new Fi(t):new Fi(JSON.stringify(t))}};E(aE,"LazyJsonString");var aF=aE;function Vl(e,t,r){let n,o,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return o=t,s=r,lF(n,o,s);s=t}for(let i of Object.keys(s)){if(!Array.isArray(s[i])){n[i]=s[i];continue}cE(n,null,s,i)}return n}E(Vl,"map");var cF=E(e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},"convertMap"),dF=E((e,t)=>{let r={};for(let n in t)cE(r,e,t,n);return r},"take"),lF=E((e,t,r)=>Vl(e,Object.entries(r).reduce((n,[o,s])=>(Array.isArray(s)?n[o]=s:typeof s=="function"?n[o]=[t,s()]:n[o]=[t,s],n),{})),"mapWithFilter"),cE=E((e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=uF,c=pF,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[o,s]=r[n];if(typeof s=="function"){let i,a=o===void 0&&(i=s())!=null,c=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=i:c&&(e[n]=s())}else{let i=o===void 0&&s!=null,a=typeof o=="function"&&!!o(s)||typeof o!="function"&&!!o;(i||a)&&(e[n]=s)}},"applyInstruction"),uF=E(e=>e!=null,"nonNullish"),pF=E(e=>e,"pass"),fF=E((e,t,r,n,o,s)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(o,s?i.split("/").map(a=>Ui(a)).join("/"):Ui(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},"resolvedPath"),mF=E(e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},"serializeFloat"),jl=E(e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(jl);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=jl(e[r]));return t}return e},"_json");function dE(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let o=[],s="";for(let i=0;i<n.length;i++)s===""?s=n[i]:s+=t+n[i],(i+1)%r===0&&(o.push(s),s="");return s!==""&&o.push(s),o}E(dE,"splitEvery")});var uE=u($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.isStreamingPayload=void 0;var _F=j("stream"),gF=e=>e?.body instanceof _F.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;$i.isStreamingPayload=gF});var it=u((cK,OE)=>{var Vi=Object.defineProperty,hF=Object.getOwnPropertyDescriptor,yF=Object.getOwnPropertyNames,vF=Object.prototype.hasOwnProperty,te=(e,t)=>Vi(e,"name",{value:t,configurable:!0}),EF=(e,t)=>{for(var r in t)Vi(e,r,{get:t[r],enumerable:!0})},SF=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of yF(t))!vF.call(e,o)&&o!==r&&Vi(e,o,{get:()=>t[o],enumerable:!(n=hF(t,o))||n.enumerable});return e},wF=e=>SF(Vi({},"__esModule",{value:!0}),e),fE={};EF(fE,{AdaptiveRetryStrategy:()=>CF,CONFIG_MAX_ATTEMPTS:()=>Bl,CONFIG_RETRY_MODE:()=>wE,ENV_MAX_ATTEMPTS:()=>zl,ENV_RETRY_MODE:()=>SE,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>PF,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>OF,StandardRetryStrategy:()=>vE,defaultDelayDecider:()=>_E,defaultRetryDecider:()=>gE,getOmitRetryHeadersPlugin:()=>AF,getRetryAfterHint:()=>TE,getRetryPlugin:()=>MF,omitRetryHeadersMiddleware:()=>bE,omitRetryHeadersMiddlewareOptions:()=>RE,resolveRetryConfig:()=>TF,retryMiddleware:()=>CE,retryMiddlewareOptions:()=>PE});OE.exports=wF(fE);var Kr=ce(),mE=(Fy(),C(ky)),Y=Vr(),bF=te((e,t)=>{let r=e,n=t?.noRetryIncrement??Y.NO_RETRY_INCREMENT,o=t?.retryCost??Y.RETRY_COST,s=t?.timeoutRetryCost??Y.TIMEOUT_RETRY_COST,i=e,a=te(p=>p.name==="TimeoutError"?s:o,"getCapacityAmount"),c=te(p=>a(p)<=i,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:te(p=>{if(!c(p))throw new Error("No retry token available");let m=a(p);return i-=m,m},"retrieveRetryTokens"),releaseRetryTokens:te(p=>{i+=p??n,i=Math.min(i,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),_E=te((e,t)=>Math.floor(Math.min(Y.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),"defaultDelayDecider"),Vt=_l(),gE=te(e=>e?(0,Vt.isRetryableByTrait)(e)||(0,Vt.isClockSkewError)(e)||(0,Vt.isThrottlingError)(e)||(0,Vt.isTransientError)(e):!1,"defaultRetryDecider"),hE=te(e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),"asSdkError"),yE=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Y.RETRY_MODES.STANDARD,this.retryDecider=r?.retryDecider??gE,this.delayDecider=r?.delayDecider??_E,this.retryQuota=r?.retryQuota??bF(Y.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Y.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(Kr.HttpRequest.isInstance(c)&&(c.headers[Y.INVOCATION_ID_HEADER]=(0,mE.v4)());;)try{Kr.HttpRequest.isInstance(c)&&(c.headers[Y.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:l}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:d,output:l}}catch(d){let l=hE(d);if(s++,this.shouldRetry(l,s,a)){o=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,Vt.isThrottlingError)(l)?Y.THROTTLING_RETRY_DELAY_BASE:Y.DEFAULT_RETRY_DELAY_BASE,s),m=RF(l.$response),f=Math.max(m||0,p);i+=f,await new Promise(_=>setTimeout(_,f));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}};te(yE,"StandardRetryStrategy");var vE=yE,RF=te(e=>{if(!Kr.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),EE=class extends vE{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new Y.DefaultRateLimiter,this.mode=Y.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};te(EE,"AdaptiveRetryStrategy");var CF=EE,pE=Ft(),zl="AWS_MAX_ATTEMPTS",Bl="max_attempts",PF={environmentVariableSelector:e=>{let t=e[zl];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${zl} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Bl];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Bl} mast be a number, got "${t}"`);return r},default:Y.DEFAULT_MAX_ATTEMPTS},TF=te(e=>{let{retryStrategy:t}=e,r=(0,pE.normalizeProvider)(e.maxAttempts??Y.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await(0,pE.normalizeProvider)(e.retryMode)()===Y.RETRY_MODES.ADAPTIVE?new Y.AdaptiveRetryStrategy(r):new Y.StandardRetryStrategy(r))}},"resolveRetryConfig"),SE="AWS_RETRY_MODE",wE="retry_mode",OF={environmentVariableSelector:e=>e[SE],configFileSelector:e=>e[wE],default:Y.DEFAULT_RETRY_MODE},bE=te(()=>e=>async t=>{let{request:r}=t;return Kr.HttpRequest.isInstance(r)&&(delete r.headers[Y.INVOCATION_ID_HEADER],delete r.headers[Y.REQUEST_HEADER]),e(t)},"omitRetryHeadersMiddleware"),RE={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},AF=te(e=>({applyToStack:t=>{t.addRelativeTo(bE(),RE)}}),"getOmitRetryHeadersPlugin"),xF=S(),IF=uE(),CE=te(e=>(t,r)=>async n=>{var o;let s=await e.retryStrategy(),i=await e.maxAttempts();if(NF(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,l=0,{request:p}=n,m=Kr.HttpRequest.isInstance(p);for(m&&(p.headers[Y.INVOCATION_ID_HEADER]=(0,mE.v4)());;)try{m&&(p.headers[Y.REQUEST_HEADER]=`attempt=${d+1}; max=${i}`);let{response:f,output:_}=await t(n);return s.recordSuccess(a),_.$metadata.attempts=d+1,_.$metadata.totalRetryDelay=l,{response:f,output:_}}catch(f){let _=DF(f);if(c=hE(f),m&&(0,IF.isStreamingPayload)(p))throw(o=r.logger instanceof xF.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,_)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=l,c}d=a.getRetryCount();let v=a.getRetryDelay();l+=v,await new Promise(h=>setTimeout(h,v))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},"retryMiddleware"),NF=te(e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u","isRetryStrategyV2"),DF=te(e=>{let t={error:e,errorType:qF(e)},r=TE(e.$response);return r&&(t.retryAfterHint=r),t},"getRetryErrorInfo"),qF=te(e=>(0,Vt.isThrottlingError)(e)?"THROTTLING":(0,Vt.isTransientError)(e)?"TRANSIENT":(0,Vt.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),PE={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},MF=te(e=>({applyToStack:t=>{t.add(CE(e),PE)}}),"getRetryPlugin"),TE=te(e=>{if(!Kr.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var AE=u(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.resolveClientEndpointParameters=void 0;var kF=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"rds-data"});zi.resolveClientEndpointParameters=kF});var xE=u((lK,FF)=>{FF.exports={name:"@aws-sdk/client-rds-data",description:"AWS SDK for JavaScript Rds Data Client for Node.js, Browser and React Native",version:"3.478.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo rds-data"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.478.0","@aws-sdk/core":"3.477.0","@aws-sdk/credential-provider-node":"3.478.0","@aws-sdk/middleware-host-header":"3.468.0","@aws-sdk/middleware-logger":"3.468.0","@aws-sdk/middleware-recursion-detection":"3.468.0","@aws-sdk/middleware-signing":"3.468.0","@aws-sdk/middleware-user-agent":"3.478.0","@aws-sdk/region-config-resolver":"3.470.0","@aws-sdk/types":"3.468.0","@aws-sdk/util-endpoints":"3.478.0","@aws-sdk/util-user-agent-browser":"3.468.0","@aws-sdk/util-user-agent-node":"3.470.0","@smithy/config-resolver":"^2.0.21","@smithy/core":"^1.2.0","@smithy/fetch-http-handler":"^2.3.1","@smithy/hash-node":"^2.0.17","@smithy/invalid-dependency":"^2.0.15","@smithy/middleware-content-length":"^2.0.17","@smithy/middleware-endpoint":"^2.2.3","@smithy/middleware-retry":"^2.0.24","@smithy/middleware-serde":"^2.0.15","@smithy/middleware-stack":"^2.0.9","@smithy/node-config-provider":"^2.1.8","@smithy/node-http-handler":"^2.2.1","@smithy/protocol-http":"^3.0.11","@smithy/smithy-client":"^2.1.18","@smithy/types":"^2.7.0","@smithy/url-parser":"^2.0.15","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.1","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.22","@smithy/util-defaults-mode-node":"^2.0.29","@smithy/util-endpoints":"^1.0.7","@smithy/util-retry":"^2.0.8","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-rds-data",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-rds-data"}}});var yt=u((gK,XE)=>{var Gi=Object.defineProperty,jF=Object.getOwnPropertyDescriptor,LF=Object.getOwnPropertyNames,UF=Object.prototype.hasOwnProperty,B=(e,t)=>Gi(e,"name",{value:t,configurable:!0}),HF=(e,t)=>{for(var r in t)Gi(e,r,{get:t[r],enumerable:!0})},$F=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of LF(t))!UF.call(e,o)&&o!==r&&Gi(e,o,{get:()=>t[o],enumerable:!(n=jF(t,o))||n.enumerable});return e},VF=e=>$F(Gi({},"__esModule",{value:!0}),e),IE={};HF(IE,{DefaultIdentityProviderConfig:()=>QF,EXPIRATION_MS:()=>zE,HttpApiKeyAuthSigner:()=>ZF,HttpBearerAuthSigner:()=>ej,NoAuthSigner:()=>tj,RequestBuilder:()=>YE,createIsIdentityExpiredFunction:()=>VE,createPaginator:()=>KE,doesIdentityRequireRefresh:()=>BE,getHttpAuthSchemeEndpointRuleSetPlugin:()=>BF,getHttpAuthSchemePlugin:()=>WF,getHttpSigningPlugin:()=>JF,getSmithyContext:()=>oj,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>qE,httpAuthSchemeMiddleware:()=>Gl,httpAuthSchemeMiddlewareOptions:()=>ME,httpSigningMiddleware:()=>FE,httpSigningMiddlewareOptions:()=>jE,isIdentityExpired:()=>rj,memoizeIdentityProvider:()=>nj,normalizeProvider:()=>sj,requestBuilder:()=>GE});XE.exports=VF(IE);var NE=Ft();function DE(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}B(DE,"convertHttpAuthSchemesToMap");var Gl=B((e,t)=>(r,n)=>async o=>{var s;let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,o.input)),a=DE(e.httpAuthSchemes),c=(0,NE.getSmithyContext)(n),d=[];for(let l of i){let p=a.get(l.schemeId);if(!p){d.push(`HttpAuthScheme \`${l.schemeId}\` was not enabled for this service.`);continue}let m=p.identityProvider(await t.identityProviderConfigProvider(e));if(!m){d.push(`HttpAuthScheme \`${l.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:f={},signingProperties:_={}}=((s=l.propertiesExtractor)==null?void 0:s.call(l,e,n))||{};l.identityProperties=Object.assign(l.identityProperties||{},f),l.signingProperties=Object.assign(l.signingProperties||{},_),c.selectedHttpAuthScheme={httpAuthOption:l,identity:await m(l.identityProperties),signer:p.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(o)},"httpAuthSchemeMiddleware"),zF=H(),qE={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:zF.endpointMiddlewareOptions.name},BF=B((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Gl(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),qE)}}),"getHttpAuthSchemeEndpointRuleSetPlugin"),GF=z(),ME={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:GF.serializerMiddlewareOption.name},WF=B((e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Gl(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),ME)}}),"getHttpAuthSchemePlugin"),kE=ce(),YF=B(e=>t=>{throw t},"defaultErrorHandler"),KF=B((e,t)=>{},"defaultSuccessHandler"),FE=B(e=>(t,r)=>async n=>{if(!kE.HttpRequest.isInstance(n.request))return t(n);let s=(0,NE.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=s,d=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||YF)(i));return(c.successHandler||KF)(d.response,i),d},"httpSigningMiddleware"),XF=it(),jE={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:XF.retryMiddlewareOptions.name},JF=B(e=>({applyToStack:t=>{t.addRelativeTo(FE(e),jE)}}),"getHttpSigningPlugin"),LE=class{constructor(t){this.authSchemes=new Map;for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}};B(LE,"DefaultIdentityProviderConfig");var QF=LE,Bi=L(),UE=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let o=t.clone();if(n.in===Bi.HttpApiKeyAuthLocation.QUERY)o.query[n.name]=r.apiKey;else if(n.in===Bi.HttpApiKeyAuthLocation.HEADER)o.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return o}};B(UE,"HttpApiKeyAuthSigner");var ZF=UE,HE=class{async sign(t,r,n){let o=t.clone();if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return o.headers.Authorization=`Bearer ${r.token}`,o}};B(HE,"HttpBearerAuthSigner");var ej=HE,$E=class{async sign(t,r,n){return t}};B($E,"NoAuthSigner");var tj=$E,VE=B(e=>t=>BE(t)&&t.expiration.getTime()-Date.now()<e,"createIsIdentityExpiredFunction"),zE=3e5,rj=VE(zE),BE=B(e=>e.expiration!==void 0,"doesIdentityRequireRefresh"),nj=B((e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,o,s,i,a=!1,c=B(async d=>{s||(s=n(d));try{o=await s,i=!0,a=!1}finally{s=void 0}return o},"coalesceProvider");return t===void 0?async d=>((!i||d?.forceRefresh)&&(o=await c(d)),o):async d=>((!i||d?.forceRefresh)&&(o=await c(d)),a?o:r(o)?(t(o)&&await c(d),o):(a=!0,o))},"memoizeIdentityProvider"),oj=B(e=>e[Bi.SMITHY_CONTEXT_KEY]||(e[Bi.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),sj=B(e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},"normalizeProvider"),ij=S();function GE(e,t){return new YE(e,t)}B(GE,"requestBuilder");var WE=class{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:t,protocol:r="https",port:n,path:o}=await this.context.endpoint();this.path=o;for(let s of this.resolvePathStack)s(this.path);return new kE.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,o){return this.resolvePathStack.push(s=>{this.path=(0,ij.resolvedPath)(s,this.input,t,r,n,o)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}};B(WE,"RequestBuilder");var YE=WE,aj=B(async(e,t,r,...n)=>await t.send(new e(r),...n),"makePagedClientRequest");function KE(e,t,r,n,o){return B(async function*(i,a,...c){let d=i.startingToken||void 0,l=!0,p;for(;l;){if(a[r]=d,o&&(a[o]=a[o]??i.pageSize),i.client instanceof e)p=await aj(t,i.client,a,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield p;let m=d;d=cj(p,n),l=!!(d&&(!i.stopOnSameToken||d!==m))}return void 0},"paginateOperation")}B(KE,"createPaginator");var cj=B((e,t)=>{let r=e,n=t.split(".");for(let o of n){if(!r||typeof r!="object")return;r=r[o]}return r},"get")});var QE=u(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.emitWarningIfUnsupportedVersion=void 0;var JE=!1,dj=e=>{e&&!JE&&parseInt(e.substring(1,e.indexOf(".")))<16&&(JE=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 14.x on May 1, 2024.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to an active Node.js LTS version.

More information can be found at: https://a.co/dzr2AJd`))};Wi.emitWarningIfUnsupportedVersion=dj});var ZE=u(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});var lj=(O(),C(T));lj.__exportStar(QE(),Wl)});var eS=u(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.getDateHeader=void 0;var uj=ce(),pj=e=>{var t,r,n;return uj.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};Yi.getDateHeader=pj});var Yl=u(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getSkewCorrectedDate=void 0;var fj=e=>new Date(Date.now()+e);Ki.getSkewCorrectedDate=fj});var tS=u(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.isClockSkewed=void 0;var mj=Yl(),_j=(e,t)=>Math.abs((0,mj.getSkewCorrectedDate)(t).getTime()-e)>=3e5;Xi.isClockSkewed=_j});var rS=u(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.getUpdatedSystemClockOffset=void 0;var gj=tS(),hj=(e,t)=>{let r=Date.parse(e);return(0,gj.isClockSkewed)(r,t)?r-Date.now():t};Ji.getUpdatedSystemClockOffset=hj});var nS=u(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var Kl=(O(),C(T));Kl.__exportStar(eS(),ko);Kl.__exportStar(Yl(),ko);Kl.__exportStar(rS(),ko)});var oS=u(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.throwAWSSDKSigningPropertyError=void 0;var yj=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t};Qi.throwAWSSDKSigningPropertyError=yj});var sS=u(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.AWSSDKSigV4Signer=void 0;var vj=ce(),Fo=nS(),jo=oS(),Ej=async e=>{var t,r,n;let o=(0,jo.throwAWSSDKSigningPropertyError)("context",e.context),s=(0,jo.throwAWSSDKSigningPropertyError)("config",e.config),i=(n=(r=(t=o.endpointV2)===null||t===void 0?void 0:t.properties)===null||r===void 0?void 0:r.authSchemes)===null||n===void 0?void 0:n[0],c=await(0,jo.throwAWSSDKSigningPropertyError)("signer",s.signer)(i),d=e?.signingRegion,l=e?.signingName;return{config:s,signer:c,signingRegion:d,signingName:l}},Xl=class{async sign(t,r,n){if(!vj.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:o,signer:s,signingRegion:i,signingName:a}=await Ej(n);return await s.sign(t,{signingDate:(0,Fo.getSkewCorrectedDate)(o.systemClockOffset),signingRegion:i,signingService:a})}errorHandler(t){return r=>{var n;let o=(n=r.ServerTime)!==null&&n!==void 0?n:(0,Fo.getDateHeader)(r.$response);if(o){let s=(0,jo.throwAWSSDKSigningPropertyError)("config",t.config);s.systemClockOffset=(0,Fo.getUpdatedSystemClockOffset)(o,s.systemClockOffset)}throw r}}successHandler(t,r){let n=(0,Fo.getDateHeader)(t);if(n){let o=(0,jo.throwAWSSDKSigningPropertyError)("config",r.config);o.systemClockOffset=(0,Fo.getUpdatedSystemClockOffset)(n,o.systemClockOffset)}}};Zi.AWSSDKSigV4Signer=Xl});var aS=u(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.resolveAWSSDKSigV4Config=void 0;var wr=yt(),iS=Hd(),Sj=e=>{let t;e.credentials&&(t=(0,wr.memoizeIdentityProvider)(e.credentials,wr.isIdentityExpired,wr.doesIdentityRequireRefresh)),t||(e.credentialDefaultProvider?t=(0,wr.normalizeProvider)(e.credentialDefaultProvider(e)):t=async()=>{throw new Error("`credentials` is missing")});let{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:o}=e,s;return e.signer?s=(0,wr.normalizeProvider)(e.signer):e.regionInfoProvider?s=()=>(0,wr.normalizeProvider)(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},p=e.signerConstructor||iS.SignatureV4;return new p(l)}):s=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,wr.normalizeProvider)(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:r},l=e.signerConstructor||iS.SignatureV4;return new l(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}};ea.resolveAWSSDKSigV4Config=Sj});var dS=u(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});var cS=(O(),C(T));cS.__exportStar(sS(),ta);cS.__exportStar(aS(),ta)});var lS=u(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var wj=(O(),C(T));wj.__exportStar(dS(),Jl)});var uS=u(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt._toNum=zt._toBool=zt._toStr=void 0;var bj=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e};zt._toStr=bj;var Rj=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e};zt._toBool=Rj;var Cj=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e};zt._toNum=Cj});var pS=u(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.awsExpectUnion=void 0;var Pj=S(),Tj=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Pj.expectUnion)(e)};ra.awsExpectUnion=Tj});var mS=u(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});var fS=(O(),C(T));fS.__exportStar(uS(),na);fS.__exportStar(pS(),na)});var br=u(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Ql=(O(),C(T));Ql.__exportStar(ZE(),Lo);Ql.__exportStar(lS(),Lo);Ql.__exportStar(mS(),Lo)});var Zl=u(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.resolveHttpAuthSchemeConfig=Je.resolveStsAuthConfig=Je.defaultSTSHttpAuthSchemeProvider=Je.defaultSTSHttpAuthSchemeParametersProvider=void 0;var Oj=br(),_S=Ft(),Aj=Uo(),xj=async(e,t,r)=>({operation:(0,_S.getSmithyContext)(t).operation,region:await(0,_S.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Je.defaultSTSHttpAuthSchemeParametersProvider=xj;function Ij(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function gS(e){return{schemeId:"smithy.api#noAuth"}}var Nj=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(gS(e));break}case"AssumeRoleWithWebIdentity":{t.push(gS(e));break}default:t.push(Ij(e))}return t};Je.defaultSTSHttpAuthSchemeProvider=Nj;var Dj=e=>({...e,stsClientCtor:Aj.STSClient});Je.resolveStsAuthConfig=Dj;var qj=e=>{let t=(0,Je.resolveStsAuthConfig)(e);return{...(0,Oj.resolveAWSSDKSigV4Config)(t)}};Je.resolveHttpAuthSchemeConfig=qj});var hS=u(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.resolveClientEndpointParameters=void 0;var Mj=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});oa.resolveClientEndpointParameters=Mj});var yS=u((MK,kj)=>{kj.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.478.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.477.0","@aws-sdk/credential-provider-node":"3.478.0","@aws-sdk/middleware-host-header":"3.468.0","@aws-sdk/middleware-logger":"3.468.0","@aws-sdk/middleware-recursion-detection":"3.468.0","@aws-sdk/middleware-user-agent":"3.478.0","@aws-sdk/region-config-resolver":"3.470.0","@aws-sdk/types":"3.468.0","@aws-sdk/util-endpoints":"3.478.0","@aws-sdk/util-user-agent-browser":"3.468.0","@aws-sdk/util-user-agent-node":"3.470.0","@smithy/config-resolver":"^2.0.21","@smithy/core":"^1.2.0","@smithy/fetch-http-handler":"^2.3.1","@smithy/hash-node":"^2.0.17","@smithy/invalid-dependency":"^2.0.15","@smithy/middleware-content-length":"^2.0.17","@smithy/middleware-endpoint":"^2.2.3","@smithy/middleware-retry":"^2.0.24","@smithy/middleware-serde":"^2.0.15","@smithy/middleware-stack":"^2.0.9","@smithy/node-config-provider":"^2.1.8","@smithy/node-http-handler":"^2.2.1","@smithy/protocol-http":"^3.0.11","@smithy/smithy-client":"^2.1.18","@smithy/types":"^2.7.0","@smithy/url-parser":"^2.0.15","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.1","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.22","@smithy/util-defaults-mode-node":"^2.0.29","@smithy/util-endpoints":"^1.0.7","@smithy/util-middleware":"^2.0.8","@smithy/util-retry":"^2.0.8","@smithy/util-utf8":"^2.0.2","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var sa=u(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.STSServiceException=Xr.__ServiceException=void 0;var vS=S();Object.defineProperty(Xr,"__ServiceException",{enumerable:!0,get:function(){return vS.ServiceException}});var eu=class e extends vS.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};Xr.STSServiceException=eu});var Gt=u(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.GetSessionTokenResponseFilterSensitiveLog=x.GetFederationTokenResponseFilterSensitiveLog=x.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=x.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=x.AssumeRoleWithSAMLResponseFilterSensitiveLog=x.AssumeRoleWithSAMLRequestFilterSensitiveLog=x.AssumeRoleResponseFilterSensitiveLog=x.CredentialsFilterSensitiveLog=x.InvalidAuthorizationMessageException=x.IDPCommunicationErrorException=x.InvalidIdentityTokenException=x.IDPRejectedClaimException=x.RegionDisabledException=x.PackedPolicyTooLargeException=x.MalformedPolicyDocumentException=x.ExpiredTokenException=void 0;var du=S(),Bt=sa(),tu=class e extends Bt.STSServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};x.ExpiredTokenException=tu;var ru=class e extends Bt.STSServiceException{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};x.MalformedPolicyDocumentException=ru;var nu=class e extends Bt.STSServiceException{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};x.PackedPolicyTooLargeException=nu;var ou=class e extends Bt.STSServiceException{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};x.RegionDisabledException=ou;var su=class e extends Bt.STSServiceException{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};x.IDPRejectedClaimException=su;var iu=class e extends Bt.STSServiceException{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};x.InvalidIdentityTokenException=iu;var au=class e extends Bt.STSServiceException{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};x.IDPCommunicationErrorException=au;var cu=class e extends Bt.STSServiceException{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};x.InvalidAuthorizationMessageException=cu;var Fj=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:du.SENSITIVE_STRING}});x.CredentialsFilterSensitiveLog=Fj;var jj=e=>({...e,...e.Credentials&&{Credentials:(0,x.CredentialsFilterSensitiveLog)(e.Credentials)}});x.AssumeRoleResponseFilterSensitiveLog=jj;var Lj=e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:du.SENSITIVE_STRING}});x.AssumeRoleWithSAMLRequestFilterSensitiveLog=Lj;var Uj=e=>({...e,...e.Credentials&&{Credentials:(0,x.CredentialsFilterSensitiveLog)(e.Credentials)}});x.AssumeRoleWithSAMLResponseFilterSensitiveLog=Uj;var Hj=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:du.SENSITIVE_STRING}});x.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=Hj;var $j=e=>({...e,...e.Credentials&&{Credentials:(0,x.CredentialsFilterSensitiveLog)(e.Credentials)}});x.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=$j;var Vj=e=>({...e,...e.Credentials&&{Credentials:(0,x.CredentialsFilterSensitiveLog)(e.Credentials)}});x.GetFederationTokenResponseFilterSensitiveLog=Vj;var zj=e=>({...e,...e.Credentials&&{Credentials:(0,x.CredentialsFilterSensitiveLog)(e.Credentials)}});x.GetSessionTokenResponseFilterSensitiveLog=zj});var ia=u(vt=>{"use strict";var ES=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Bj=ES+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",SS="["+ES+"]["+Bj+"]*",Gj=new RegExp("^"+SS+"$"),Wj=function(e,t){let r=[],n=t.exec(e);for(;n;){let o=[];o.startIndex=t.lastIndex-n[0].length;let s=n.length;for(let i=0;i<s;i++)o.push(n[i]);r.push(o),n=t.exec(e)}return r},Yj=function(e){let t=Gj.exec(e);return!(t===null||typeof t>"u")};vt.isExist=function(e){return typeof e<"u"};vt.isEmptyObject=function(e){return Object.keys(e).length===0};vt.merge=function(e,t,r){if(t){let n=Object.keys(t),o=n.length;for(let s=0;s<o;s++)r==="strict"?e[n[s]]=[t[n[s]]]:e[n[s]]=t[n[s]]}};vt.getValue=function(e){return vt.isExist(e)?e:""};vt.isName=Yj;vt.getAllMatches=Wj;vt.nameRegexp=SS});var uu=u(PS=>{"use strict";var lu=ia(),Kj={allowBooleanAttributes:!1,unpairedTags:[]};PS.validate=function(e,t){t=Object.assign({},Kj,t);let r=[],n=!1,o=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=bS(e,s),s.err)return s}else if(e[s]==="<"){let i=s;if(s++,e[s]==="!"){s=RS(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let c="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)c+=e[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!nL(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",re("InvalidTag",p,we(e,s))}let d=Qj(e,s);if(d===!1)return re("InvalidAttr","Attributes for '"+c+"' have open quote.",we(e,s));let l=d.value;if(s=d.index,l[l.length-1]==="/"){let p=s-l.length;l=l.substring(0,l.length-1);let m=CS(l,t);if(m===!0)n=!0;else return re(m.err.code,m.err.msg,we(e,p+m.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return re("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",we(e,i));{let p=r.pop();if(c!==p.tagName){let m=we(e,p.tagStartPos);return re("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+c+"'.",we(e,i))}r.length==0&&(o=!0)}}else return re("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",we(e,s));else{let p=CS(l,t);if(p!==!0)return re(p.err.code,p.err.msg,we(e,s-l.length+p.err.line));if(o===!0)return re("InvalidXml","Multiple possible root nodes found.",we(e,s));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=RS(e,s);continue}else if(e[s+1]==="?"){if(s=bS(e,++s),s.err)return s}else break;else if(e[s]==="&"){let p=tL(e,s);if(p==-1)return re("InvalidChar","char '&' is not expected.",we(e,s));s=p}else if(o===!0&&!wS(e[s]))return re("InvalidXml","Extra text at the end",we(e,s));e[s]==="<"&&s--}}else{if(wS(e[s]))continue;return re("InvalidChar","char '"+e[s]+"' is not expected.",we(e,s))}if(n){if(r.length==1)return re("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",we(e,r[0].tagStartPos));if(r.length>0)return re("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return re("InvalidXml","Start tag expected.",1);return!0};function wS(e){return e===" "||e==="	"||e===`
`||e==="\r"}function bS(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return re("InvalidXml","XML declaration allowed only at the start of the document.",we(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function RS(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var Xj='"',Jj="'";function Qj(e,t){let r="",n="",o=!1;for(;t<e.length;t++){if(e[t]===Xj||e[t]===Jj)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){o=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:o}}var Zj=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function CS(e,t){let r=lu.getAllMatches(e,Zj),n={};for(let o=0;o<r.length;o++){if(r[o][1].length===0)return re("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",Ho(r[o]));if(r[o][3]!==void 0&&r[o][4]===void 0)return re("InvalidAttr","Attribute '"+r[o][2]+"' is without value.",Ho(r[o]));if(r[o][3]===void 0&&!t.allowBooleanAttributes)return re("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",Ho(r[o]));let s=r[o][2];if(!rL(s))return re("InvalidAttr","Attribute '"+s+"' is an invalid name.",Ho(r[o]));if(!n.hasOwnProperty(s))n[s]=1;else return re("InvalidAttr","Attribute '"+s+"' is repeated.",Ho(r[o]))}return!0}function eL(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function tL(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,eL(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function re(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function rL(e){return lu.isName(e)}function nL(e){return lu.isName(e)}function we(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Ho(e){return e.startIndex+e[1].length}});var OS=u(pu=>{var TS={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},oL=function(e){return Object.assign({},TS,e)};pu.buildOptions=oL;pu.defaultOptions=TS});var xS=u((HK,AS)=>{"use strict";var fu=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}};AS.exports=fu});var NS=u(($K,IS)=>{var sL=ia();function iL(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,o=!1,s=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(o&&dL(e,t))t+=7,[entityName,val,t]=aL(e,t+1),val.indexOf("&")===-1&&(r[fL(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(o&&lL(e,t))t+=8;else if(o&&uL(e,t))t+=8;else if(o&&pL(e,t))t+=9;else if(cL)s=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?o=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function aL(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],o="";for(;t<e.length&&e[t]!==n;t++)o+=e[t];return[r,o,t]}function cL(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function dL(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function lL(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function uL(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function pL(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function fL(e){if(sL.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}IS.exports=iL});var qS=u((VK,DS)=>{var mL=/^[-+]?0x[a-fA-F0-9]+$/,_L=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var gL={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function hL(e,t={}){if(t=Object.assign({},gL,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&mL.test(r))return Number.parseInt(r,16);{let n=_L.exec(r);if(n){let o=n[1],s=n[2],i=yL(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&o&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!o&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||o&&d==="-"+i?c:e:s?i===d||o+i===d?c:e:r===d||r===o+d?c:e}}else return e}}function yL(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}DS.exports=hL});var kS=u((BK,MS)=>{"use strict";var hu=ia(),$o=xS(),vL=NS(),EL=qS(),zK="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,hu.nameRegexp),mu=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=SL,this.parseXml=PL,this.parseTextData=wL,this.resolveNameSpace=bL,this.buildAttributesMap=CL,this.isItStopNode=xL,this.replaceEntitiesValue=OL,this.readStopNodeData=NL,this.saveTextToParentTag=AL,this.addChild=TL}};function SL(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function wL(e,t,r,n,o,s,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,o,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?gu(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?gu(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function bL(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var RL=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function CL(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=hu.getAllMatches(e,RL),o=n.length,s={};for(let i=0;i<o;i++){let a=this.resolveNameSpace(n[i][1]),c=n[i][4],d=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(d=this.options.transformAttributeName(d)),d==="__proto__"&&(d="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let l=this.options.attributeValueProcessor(a,c,t);l==null?s[d]=c:typeof l!=typeof c||l!==c?s[d]=l:s[d]=gu(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[d]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=s,i}return s}}var PL=function(e){e=e.replace(/\r\n?/g,`
`);let t=new $o("!xml"),r=t,n="",o="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){let a=Rr(e,">",s,"Closing Tag is not closed."),c=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,o));let d=o.substring(o.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let l=0;d&&this.options.unpairedTags.indexOf(d)!==-1?(l=o.lastIndexOf(".",o.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=o.lastIndexOf("."),o=o.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=_u(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,o),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new $o(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,o,a.tagName)),this.addChild(r,c,o)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){let a=Rr(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,o),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(e.substr(s+1,2)==="!D"){let a=vL(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){let a=Rr(e,"]]>",s,"CDATA is not closed.")-2,c=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,o),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,o,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}s=a+2}else{let a=_u(e,s,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,o,!1));let m=r;if(m&&this.options.unpairedTags.indexOf(m.tagname)!==-1&&(r=this.tagsNodeStack.pop(),o=o.substring(0,o.lastIndexOf("."))),c!==t.tagname&&(o+=o?"."+c:c),this.isItStopNode(this.options.stopNodes,o,c)){let f="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let v=this.readStopNodeData(e,c,p+1);if(!v)throw new Error(`Unexpected end of ${c}`);s=v.i,f=v.tagContent}let _=new $o(c);c!==d&&l&&(_[":@"]=this.buildAttributesMap(d,o,c)),f&&(f=this.parseTextData(f,c,o,!0,l,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),_.add(this.options.textNodeName,f),this.addChild(r,_,o)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let f=new $o(c);c!==d&&l&&(f[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(r,f,o),o=o.substr(0,o.lastIndexOf("."))}else{let f=new $o(c);this.tagsNodeStack.push(r),c!==d&&l&&(f[":@"]=this.buildAttributesMap(d,o,c)),this.addChild(r,f,o),r=f}n="",s=p}}else n+=e[s];return t.child};function TL(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var OL=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function AL(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function xL(e,t,r){let n="*."+r;for(let o in e){let s=e[o];if(n===s||t===s)return!0}return!1}function IL(e,t,r=">"){let n,o="";for(let s=t;s<e.length;s++){let i=e[s];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[s+1]===r[1])return{data:o,index:s}}else return{data:o,index:s};else i==="	"&&(i=" ");o+=i}}function Rr(e,t,r,n){let o=e.indexOf(t,r);if(o===-1)throw new Error(n);return o+t.length-1}function _u(e,t,r,n=">"){let o=IL(e,t+1,n);if(!o)return;let s=o.data,i=o.index,a=s.search(/\s/),c=s,d=!0;if(a!==-1&&(c=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==o.data.substr(l+1))}return{tagName:c,tagExp:s,closeIndex:i,attrExpPresent:d}}function NL(e,t,r){let n=r,o=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let s=Rr(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(o--,o===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=Rr(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Rr(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Rr(e,"]]>",r,"StopNode is not closed.")-2;else{let s=_u(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&o++,r=s.closeIndex)}}function gu(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:EL(e,r)}else return hu.isExist(e)?e:""}MS.exports=mu});var LS=u(jS=>{"use strict";function DL(e,t){return FS(e,t)}function FS(e,t,r){let n,o={};for(let s=0;s<e.length;s++){let i=e[s],a=qL(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=FS(i[a],t,c),l=kL(d,t);i[":@"]?ML(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),o[a]!==void 0&&o.hasOwnProperty(a)?(Array.isArray(o[a])||(o[a]=[o[a]]),o[a].push(d)):t.isArray(a,c,l)?o[a]=[d]:o[a]=d}}}return typeof n=="string"?n.length>0&&(o[t.textNodeName]=n):n!==void 0&&(o[t.textNodeName]=n),o}function qL(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function ML(e,t,r,n){if(t){let o=Object.keys(t),s=o.length;for(let i=0;i<s;i++){let a=o[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function kL(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}jS.prettify=DL});var HS=u((WK,US)=>{var{buildOptions:FL}=OS(),jL=kS(),{prettify:LL}=LS(),UL=uu(),yu=class{constructor(t){this.externalEntities={},this.options=FL(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=UL.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new jL(this.options);n.addExternalEntities(this.externalEntities);let o=n.parseXml(t);return this.options.preserveOrder||o===void 0?o:LL(o,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};US.exports=yu});var GS=u((YK,BS)=>{var HL=`
`;function $L(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=HL),VS(e,t,"",r)}function VS(e,t,r,n){let o="",s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=VL(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let _=a[c];zL(d,t)||(_=t.tagValueProcessor(c,_),_=zS(_,t)),s&&(o+=n),o+=_,s=!1;continue}else if(c===t.cdataPropName){s&&(o+=n),o+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,s=!1;continue}else if(c===t.commentPropName){o+=n+`<!--${a[c][0][t.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let _=$S(a[":@"],t),v=c==="?xml"?"":n,h=a[c][0][t.textNodeName];h=h.length!==0?" "+h:"",o+=v+`<${c}${h}${_}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);let p=$S(a[":@"],t),m=n+`<${c}${p}`,f=VS(a[c],t,d,l);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?o+=m+">":o+=m+"/>":(!f||f.length===0)&&t.suppressEmptyNode?o+=m+"/>":f&&f.endsWith(">")?o+=m+`>${f}${n}</${c}>`:(o+=m+">",f&&n!==""&&(f.includes("/>")||f.includes("</"))?o+=n+t.indentBy+f+n:o+=f,o+=`</${c}>`),s=!0}return o}function VL(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function $S(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let o=t.attributeValueProcessor(n,e[n]);o=zS(o,t),o===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${o}"`}return r}function zL(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function zS(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}BS.exports=$L});var YS=u((KK,WS)=>{"use strict";var BL=GS(),GL={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Wt(e){this.options=Object.assign({},GL,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=KL),this.processTextOrObjNode=WL,this.options.format?(this.indentate=YL,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Wt.prototype.build=function(e){return this.options.preserveOrder?BL(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Wt.prototype.j2x=function(e,t){let r="",n="";for(let o in e)if(!(typeof e[o]>"u"))if(e[o]===null)o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)n+=this.buildTextValNode(e[o],o,"",t);else if(typeof e[o]!="object"){let s=this.isAttribute(o);if(s)r+=this.buildAttrPairStr(s,""+e[o]);else if(o===this.options.textNodeName){let i=this.options.tagValueProcessor(o,""+e[o]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){let s=e[o].length,i="";for(let a=0;a<s;a++){let c=e[o][a];typeof c>"u"||(c===null?o[0]==="?"?n+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?i+=this.j2x(c,t+1).val:i+=this.processTextOrObjNode(c,o,t):i+=this.buildTextValNode(c,o,"",t))}this.options.oneListGroup&&(i=this.buildObjectNode(i,o,"",t)),n+=i}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){let s=Object.keys(e[o]),i=s.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(s[a],""+e[o][s[a]])}else n+=this.processTextOrObjNode(e[o],o,t);return{attrStr:r,val:n}};Wt.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function WL(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Wt.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",o=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+o:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+o}};Wt.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Wt.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),o===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+o+"</"+t+this.tagEndChar}};Wt.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function YL(e){return this.options.indentBy.repeat(e)}function KL(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}WS.exports=Wt});var XS=u((XK,KS)=>{"use strict";var XL=uu(),JL=HS(),QL=YS();KS.exports={XMLParser:JL,XMLValidator:XL,XMLBuilder:QL}});var Rt=u(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.de_GetSessionTokenCommand=N.de_GetFederationTokenCommand=N.de_GetCallerIdentityCommand=N.de_GetAccessKeyInfoCommand=N.de_DecodeAuthorizationMessageCommand=N.de_AssumeRoleWithWebIdentityCommand=N.de_AssumeRoleWithSAMLCommand=N.de_AssumeRoleCommand=N.se_GetSessionTokenCommand=N.se_GetFederationTokenCommand=N.se_GetCallerIdentityCommand=N.se_GetAccessKeyInfoCommand=N.se_DecodeAuthorizationMessageCommand=N.se_AssumeRoleWithWebIdentityCommand=N.se_AssumeRoleWithSAMLCommand=N.se_AssumeRoleCommand=void 0;var ZL=ce(),b=S(),eU=XS(),Yt=Gt(),tU=sa(),rU=async(e,t)=>{let r=Jt,n;return n=rr({...OU(e,t),[Zt]:sH,[er]:Qt}),Xt(t,r,"/",void 0,n)};N.se_AssumeRoleCommand=rU;var nU=async(e,t)=>{let r=Jt,n;return n=rr({...AU(e,t),[Zt]:iH,[er]:Qt}),Xt(t,r,"/",void 0,n)};N.se_AssumeRoleWithSAMLCommand=nU;var oU=async(e,t)=>{let r=Jt,n;return n=rr({...xU(e,t),[Zt]:aH,[er]:Qt}),Xt(t,r,"/",void 0,n)};N.se_AssumeRoleWithWebIdentityCommand=oU;var sU=async(e,t)=>{let r=Jt,n;return n=rr({...IU(e,t),[Zt]:cH,[er]:Qt}),Xt(t,r,"/",void 0,n)};N.se_DecodeAuthorizationMessageCommand=sU;var iU=async(e,t)=>{let r=Jt,n;return n=rr({...NU(e,t),[Zt]:dH,[er]:Qt}),Xt(t,r,"/",void 0,n)};N.se_GetAccessKeyInfoCommand=iU;var aU=async(e,t)=>{let r=Jt,n;return n=rr({...DU(e,t),[Zt]:lH,[er]:Qt}),Xt(t,r,"/",void 0,n)};N.se_GetCallerIdentityCommand=aU;var cU=async(e,t)=>{let r=Jt,n;return n=rr({...qU(e,t),[Zt]:uH,[er]:Qt}),Xt(t,r,"/",void 0,n)};N.se_GetFederationTokenCommand=cU;var dU=async(e,t)=>{let r=Jt,n;return n=rr({...MU(e,t),[Zt]:pH,[er]:Qt}),Xt(t,r,"/",void 0,n)};N.se_GetSessionTokenCommand=dU;var lU=async(e,t)=>{if(e.statusCode>=300)return uU(e,t);let r=await bt(e.body,t),n={};return n=HU(r.AssumeRoleResult,t),{$metadata:me(e),...n}};N.de_AssumeRoleCommand=lU;var uU=async(e,t)=>{let r={...e,body:await tr(e.body,t)},n=nr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Wu(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await aa(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ca(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Vo(r,t);default:let o=r.body;return Kt({output:e,parsedBody:o.Error,errorCode:n})}},pU=async(e,t)=>{if(e.statusCode>=300)return fU(e,t);let r=await bt(e.body,t),n={};return n=$U(r.AssumeRoleWithSAMLResult,t),{$metadata:me(e),...n}};N.de_AssumeRoleWithSAMLCommand=pU;var fU=async(e,t)=>{let r={...e,body:await tr(e.body,t)},n=nr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Wu(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await JS(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await QS(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await aa(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ca(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Vo(r,t);default:let o=r.body;return Kt({output:e,parsedBody:o.Error,errorCode:n})}},mU=async(e,t)=>{if(e.statusCode>=300)return _U(e,t);let r=await bt(e.body,t),n={};return n=VU(r.AssumeRoleWithWebIdentityResult,t),{$metadata:me(e),...n}};N.de_AssumeRoleWithWebIdentityCommand=mU;var _U=async(e,t)=>{let r={...e,body:await tr(e.body,t)},n=nr(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Wu(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await PU(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await JS(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await QS(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await aa(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ca(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Vo(r,t);default:let o=r.body;return Kt({output:e,parsedBody:o.Error,errorCode:n})}},gU=async(e,t)=>{if(e.statusCode>=300)return hU(e,t);let r=await bt(e.body,t),n={};return n=zU(r.DecodeAuthorizationMessageResult,t),{$metadata:me(e),...n}};N.de_DecodeAuthorizationMessageCommand=gU;var hU=async(e,t)=>{let r={...e,body:await tr(e.body,t)},n=nr(e,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await TU(r,t);default:let o=r.body;return Kt({output:e,parsedBody:o.Error,errorCode:n})}},yU=async(e,t)=>{if(e.statusCode>=300)return vU(e,t);let r=await bt(e.body,t),n={};return n=WU(r.GetAccessKeyInfoResult,t),{$metadata:me(e),...n}};N.de_GetAccessKeyInfoCommand=yU;var vU=async(e,t)=>{let r={...e,body:await tr(e.body,t)},n=nr(e,r.body),o=r.body;return Kt({output:e,parsedBody:o.Error,errorCode:n})},EU=async(e,t)=>{if(e.statusCode>=300)return SU(e,t);let r=await bt(e.body,t),n={};return n=YU(r.GetCallerIdentityResult,t),{$metadata:me(e),...n}};N.de_GetCallerIdentityCommand=EU;var SU=async(e,t)=>{let r={...e,body:await tr(e.body,t)},n=nr(e,r.body),o=r.body;return Kt({output:e,parsedBody:o.Error,errorCode:n})},wU=async(e,t)=>{if(e.statusCode>=300)return bU(e,t);let r=await bt(e.body,t),n={};return n=KU(r.GetFederationTokenResult,t),{$metadata:me(e),...n}};N.de_GetFederationTokenCommand=wU;var bU=async(e,t)=>{let r={...e,body:await tr(e.body,t)},n=nr(e,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await aa(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await ca(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Vo(r,t);default:let o=r.body;return Kt({output:e,parsedBody:o.Error,errorCode:n})}},RU=async(e,t)=>{if(e.statusCode>=300)return CU(e,t);let r=await bt(e.body,t),n={};return n=XU(r.GetSessionTokenResult,t),{$metadata:me(e),...n}};N.de_GetSessionTokenCommand=RU;var CU=async(e,t)=>{let r={...e,body:await tr(e.body,t)},n=nr(e,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Vo(r,t);default:let o=r.body;return Kt({output:e,parsedBody:o.Error,errorCode:n})}},Wu=async(e,t)=>{let r=e.body,n=BU(r.Error,t),o=new Yt.ExpiredTokenException({$metadata:me(e),...n});return(0,b.decorateServiceException)(o,r)},PU=async(e,t)=>{let r=e.body,n=JU(r.Error,t),o=new Yt.IDPCommunicationErrorException({$metadata:me(e),...n});return(0,b.decorateServiceException)(o,r)},JS=async(e,t)=>{let r=e.body,n=QU(r.Error,t),o=new Yt.IDPRejectedClaimException({$metadata:me(e),...n});return(0,b.decorateServiceException)(o,r)},TU=async(e,t)=>{let r=e.body,n=ZU(r.Error,t),o=new Yt.InvalidAuthorizationMessageException({$metadata:me(e),...n});return(0,b.decorateServiceException)(o,r)},QS=async(e,t)=>{let r=e.body,n=eH(r.Error,t),o=new Yt.InvalidIdentityTokenException({$metadata:me(e),...n});return(0,b.decorateServiceException)(o,r)},aa=async(e,t)=>{let r=e.body,n=tH(r.Error,t),o=new Yt.MalformedPolicyDocumentException({$metadata:me(e),...n});return(0,b.decorateServiceException)(o,r)},ca=async(e,t)=>{let r=e.body,n=rH(r.Error,t),o=new Yt.PackedPolicyTooLargeException({$metadata:me(e),...n});return(0,b.decorateServiceException)(o,r)},Vo=async(e,t)=>{let r=e.body,n=nH(r.Error,t),o=new Yt.RegionDisabledException({$metadata:me(e),...n});return(0,b.decorateServiceException)(o,r)},OU=(e,t)=>{let r={};if(e[wt]!=null&&(r[wt]=e[wt]),e[en]!=null&&(r[en]=e[en]),e[Me]!=null){let n=da(e[Me],t);e[Me]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[qe]!=null&&(r[qe]=e[qe]),e[ye]!=null&&(r[ye]=e[ye]),e[rn]!=null){let n=ZS(e[rn],t);e[rn]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}if(e[$u]!=null){let n=UU(e[$u],t);e[$u]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([o,s])=>{let i=`TransitiveTagKeys.${o}`;r[i]=s})}if(e[bu]!=null&&(r[bu]=e[bu]),e[tn]!=null&&(r[tn]=e[tn]),e[nn]!=null&&(r[nn]=e[nn]),e[Fe]!=null&&(r[Fe]=e[Fe]),e[Du]!=null){let n=jU(e[Du],t);e[Du]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([o,s])=>{let i=`ProvidedContexts.${o}`;r[i]=s})}return r},AU=(e,t)=>{let r={};if(e[wt]!=null&&(r[wt]=e[wt]),e[Iu]!=null&&(r[Iu]=e[Iu]),e[ju]!=null&&(r[ju]=e[ju]),e[Me]!=null){let n=da(e[Me],t);e[Me]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[qe]!=null&&(r[qe]=e[qe]),e[ye]!=null&&(r[ye]=e[ye]),r},xU=(e,t)=>{let r={};if(e[wt]!=null&&(r[wt]=e[wt]),e[en]!=null&&(r[en]=e[en]),e[Bu]!=null&&(r[Bu]=e[Bu]),e[qu]!=null&&(r[qu]=e[qu]),e[Me]!=null){let n=da(e[Me],t);e[Me]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}return e[qe]!=null&&(r[qe]=e[qe]),e[ye]!=null&&(r[ye]=e[ye]),r},IU=(e,t)=>{let r={};return e[Ru]!=null&&(r[Ru]=e[Ru]),r},NU=(e,t)=>{let r={};return e[Jr]!=null&&(r[Jr]=e[Jr]),r},DU=(e,t)=>({}),qU=(e,t)=>{let r={};if(e[Au]!=null&&(r[Au]=e[Au]),e[qe]!=null&&(r[qe]=e[qe]),e[Me]!=null){let n=da(e[Me],t);e[Me]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([o,s])=>{let i=`PolicyArns.${o}`;r[i]=s})}if(e[ye]!=null&&(r[ye]=e[ye]),e[rn]!=null){let n=ZS(e[rn],t);e[rn]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([o,s])=>{let i=`Tags.${o}`;r[i]=s})}return r},MU=(e,t)=>{let r={};return e[ye]!=null&&(r[ye]=e[ye]),e[tn]!=null&&(r[tn]=e[tn]),e[nn]!=null&&(r[nn]=e[nn]),r},da=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=kU(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},kU=(e,t)=>{let r={};return e[Gu]!=null&&(r[Gu]=e[Gu]),r},FU=(e,t)=>{let r={};return e[Nu]!=null&&(r[Nu]=e[Nu]),e[Eu]!=null&&(r[Eu]=e[Eu]),r},jU=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=FU(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},LU=(e,t)=>{let r={};return e[Ou]!=null&&(r[Ou]=e[Ou]),e[zu]!=null&&(r[zu]=e[zu]),r},UU=(e,t)=>{let r={},n=1;for(let o of e)o!==null&&(r[`member.${n}`]=o,n++);return r},ZS=(e,t)=>{let r={},n=1;for(let o of e){if(o===null)continue;let s=LU(o,t);Object.entries(s).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Yu=(e,t)=>{let r={};return e[vu]!=null&&(r[vu]=(0,b.expectString)(e[vu])),e[St]!=null&&(r[St]=(0,b.expectString)(e[St])),r},HU=(e,t)=>{let r={};return e[he]!=null&&(r[he]=zo(e[he],t)),e[Et]!=null&&(r[Et]=Yu(e[Et],t)),e[ke]!=null&&(r[ke]=(0,b.strictParseInt32)(e[ke])),e[Fe]!=null&&(r[Fe]=(0,b.expectString)(e[Fe])),r},$U=(e,t)=>{let r={};return e[he]!=null&&(r[he]=zo(e[he],t)),e[Et]!=null&&(r[Et]=Yu(e[Et],t)),e[ke]!=null&&(r[ke]=(0,b.strictParseInt32)(e[ke])),e[ku]!=null&&(r[ku]=(0,b.expectString)(e[ku])),e[Uu]!=null&&(r[Uu]=(0,b.expectString)(e[Uu])),e[Tu]!=null&&(r[Tu]=(0,b.expectString)(e[Tu])),e[Zr]!=null&&(r[Zr]=(0,b.expectString)(e[Zr])),e[xu]!=null&&(r[xu]=(0,b.expectString)(e[xu])),e[Fe]!=null&&(r[Fe]=(0,b.expectString)(e[Fe])),r},VU=(e,t)=>{let r={};return e[he]!=null&&(r[he]=zo(e[he],t)),e[Lu]!=null&&(r[Lu]=(0,b.expectString)(e[Lu])),e[Et]!=null&&(r[Et]=Yu(e[Et],t)),e[ke]!=null&&(r[ke]=(0,b.strictParseInt32)(e[ke])),e[Mu]!=null&&(r[Mu]=(0,b.expectString)(e[Mu])),e[Zr]!=null&&(r[Zr]=(0,b.expectString)(e[Zr])),e[Fe]!=null&&(r[Fe]=(0,b.expectString)(e[Fe])),r},zo=(e,t)=>{let r={};return e[Jr]!=null&&(r[Jr]=(0,b.expectString)(e[Jr])),e[Fu]!=null&&(r[Fu]=(0,b.expectString)(e[Fu])),e[Hu]!=null&&(r[Hu]=(0,b.expectString)(e[Hu])),e[wu]!=null&&(r[wu]=(0,b.expectNonNull)((0,b.parseRfc3339DateTimeWithOffset)(e[wu]))),r},zU=(e,t)=>{let r={};return e[Su]!=null&&(r[Su]=(0,b.expectString)(e[Su])),r},BU=(e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,b.expectString)(e[G])),r},GU=(e,t)=>{let r={};return e[Pu]!=null&&(r[Pu]=(0,b.expectString)(e[Pu])),e[St]!=null&&(r[St]=(0,b.expectString)(e[St])),r},WU=(e,t)=>{let r={};return e[Qr]!=null&&(r[Qr]=(0,b.expectString)(e[Qr])),r},YU=(e,t)=>{let r={};return e[Vu]!=null&&(r[Vu]=(0,b.expectString)(e[Vu])),e[Qr]!=null&&(r[Qr]=(0,b.expectString)(e[Qr])),e[St]!=null&&(r[St]=(0,b.expectString)(e[St])),r},KU=(e,t)=>{let r={};return e[he]!=null&&(r[he]=zo(e[he],t)),e[Cu]!=null&&(r[Cu]=GU(e[Cu],t)),e[ke]!=null&&(r[ke]=(0,b.strictParseInt32)(e[ke])),r},XU=(e,t)=>{let r={};return e[he]!=null&&(r[he]=zo(e[he],t)),r},JU=(e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,b.expectString)(e[G])),r},QU=(e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,b.expectString)(e[G])),r},ZU=(e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,b.expectString)(e[G])),r},eH=(e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,b.expectString)(e[G])),r},tH=(e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,b.expectString)(e[G])),r},rH=(e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,b.expectString)(e[G])),r},nH=(e,t)=>{let r={};return e[G]!=null&&(r[G]=(0,b.expectString)(e[G])),r},me=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),oH=(e,t)=>(0,b.collectBody)(e,t).then(r=>t.utf8Encoder(r)),Kt=(0,b.withBaseException)(tU.STSServiceException),Xt=async(e,t,r,n,o)=>{let{hostname:s,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),o!==void 0&&(d.body=o),new ZL.HttpRequest(d)},Jt={"content-type":"application/x-www-form-urlencoded"},Qt="2011-06-15",Zt="Action",Jr="AccessKeyId",sH="AssumeRole",vu="AssumedRoleId",Et="AssumedRoleUser",iH="AssumeRoleWithSAML",aH="AssumeRoleWithWebIdentity",Qr="Account",St="Arn",Zr="Audience",he="Credentials",Eu="ContextAssertion",cH="DecodeAuthorizationMessage",Su="DecodedMessage",ye="DurationSeconds",wu="Expiration",bu="ExternalId",Ru="EncodedMessage",Cu="FederatedUser",Pu="FederatedUserId",dH="GetAccessKeyInfo",lH="GetCallerIdentity",uH="GetFederationToken",pH="GetSessionToken",Tu="Issuer",Ou="Key",Au="Name",xu="NameQualifier",qe="Policy",Me="PolicyArns",Iu="PrincipalArn",Nu="ProviderArn",Du="ProvidedContexts",qu="ProviderId",ke="PackedPolicySize",Mu="Provider",wt="RoleArn",en="RoleSessionName",ku="Subject",Fu="SecretAccessKey",ju="SAMLAssertion",Lu="SubjectFromWebIdentityToken",Fe="SourceIdentity",tn="SerialNumber",Uu="SubjectType",Hu="SessionToken",rn="Tags",nn="TokenCode",$u="TransitiveTagKeys",Vu="UserId",er="Version",zu="Value",Bu="WebIdentityToken",Gu="arn",G="message",bt=(e,t)=>oH(e,t).then(r=>{if(r.length){let n=new eU.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let o=n.parse(r),s="#text",i=Object.keys(o)[0],a=o[i];return a[s]&&(a[i]=a[s],delete a[s]),(0,b.getValueFromTextNode)(a)}return{}}),tr=async(e,t)=>{let r=await bt(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},rr=e=>Object.entries(e).map(([t,r])=>(0,b.extendedEncodeURIComponent)(t)+"="+(0,b.extendedEncodeURIComponent)(r)).join("&"),nr=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var la=u(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.AssumeRoleCommand=on.$Command=void 0;var fH=H(),mH=z(),t0=S();Object.defineProperty(on,"$Command",{enumerable:!0,get:function(){return t0.Command}});var _H=L(),gH=Gt(),e0=Rt(),Ku=class e extends t0.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,mH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,fH.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:gH.AssumeRoleResponseFilterSensitiveLog,[_H.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRole"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,e0.se_AssumeRoleCommand)(t,r)}deserialize(t,r){return(0,e0.de_AssumeRoleCommand)(t,r)}};on.AssumeRoleCommand=Ku});var ua=u(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.AssumeRoleWithWebIdentityCommand=sn.$Command=void 0;var hH=H(),yH=z(),o0=S();Object.defineProperty(sn,"$Command",{enumerable:!0,get:function(){return o0.Command}});var vH=L(),r0=Gt(),n0=Rt(),Xu=class e extends o0.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,yH.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,hH.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:r0.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:r0.AssumeRoleWithWebIdentityResponseFilterSensitiveLog,[vH.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithWebIdentity"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,n0.se_AssumeRoleWithWebIdentityCommand)(t,r)}deserialize(t,r){return(0,n0.de_AssumeRoleWithWebIdentityCommand)(t,r)}};sn.AssumeRoleWithWebIdentityCommand=Xu});var Ju=u(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.decorateDefaultCredentialProvider=at.getDefaultRoleAssumerWithWebIdentity=at.getDefaultRoleAssumer=void 0;var EH=la(),SH=ua(),s0="us-east-1",i0=e=>typeof e!="function"?e===void 0?s0:e:async()=>{try{return await e()}catch{return s0}},wH=(e,t)=>{let r,n;return async(o,s)=>{if(n=o,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:i0(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new EH.AssumeRoleCommand(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}};at.getDefaultRoleAssumer=wH;var bH=(e,t)=>{let r;return async n=>{if(!r){let{logger:s,region:i,requestHandler:a}=e;r=new t({logger:s,region:i0(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:o}=await r.send(new SH.AssumeRoleWithWebIdentityCommand(n));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration}}};at.getDefaultRoleAssumerWithWebIdentity=bH;var RH=e=>t=>e({roleAssumer:(0,at.getDefaultRoleAssumer)(t,t.stsClientCtor),roleAssumerWithWebIdentity:(0,at.getDefaultRoleAssumerWithWebIdentity)(t,t.stsClientCtor),...t});at.decorateDefaultCredentialProvider=RH});var a0=u(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.fromEnv=_e.ENV_EXPIRATION=_e.ENV_SESSION=_e.ENV_SECRET=_e.ENV_KEY=void 0;var CH=X();_e.ENV_KEY="AWS_ACCESS_KEY_ID";_e.ENV_SECRET="AWS_SECRET_ACCESS_KEY";_e.ENV_SESSION="AWS_SESSION_TOKEN";_e.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var PH=()=>async()=>{let e=process.env[_e.ENV_KEY],t=process.env[_e.ENV_SECRET],r=process.env[_e.ENV_SESSION],n=process.env[_e.ENV_EXPIRATION];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new CH.CredentialsProviderError("Unable to find environment variable credentials.")};_e.fromEnv=PH});var Zu=u(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});var TH=(O(),C(T));TH.__exportStar(a0(),Qu)});var _a=u((n5,w0)=>{var ma=Object.defineProperty,OH=Object.getOwnPropertyDescriptor,AH=Object.getOwnPropertyNames,xH=Object.prototype.hasOwnProperty,ne=(e,t)=>ma(e,"name",{value:t,configurable:!0}),IH=(e,t)=>{for(var r in t)ma(e,r,{get:t[r],enumerable:!0})},NH=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of AH(t))!xH.call(e,o)&&o!==r&&ma(e,o,{get:()=>t[o],enumerable:!(n=OH(t,o))||n.enumerable});return e},DH=e=>NH(ma({},"__esModule",{value:!0}),e),u0={};IH(u0,{DEFAULT_MAX_RETRIES:()=>_0,DEFAULT_TIMEOUT:()=>m0,ENV_CMDS_AUTH_TOKEN:()=>rp,ENV_CMDS_FULL_URI:()=>pa,ENV_CMDS_RELATIVE_URI:()=>fa,Endpoint:()=>y0,fromContainerMetadata:()=>FH,fromInstanceMetadata:()=>o$,getInstanceMetadataEndpoint:()=>E0,httpRequest:()=>an,providerConfigFromInit:()=>np});w0.exports=DH(u0);var qH=j("url"),ct=X(),MH=j("buffer"),kH=j("http");function an(e){return new Promise((t,r)=>{var n;let o=(0,kH.request)({method:"GET",...e,hostname:(n=e.hostname)==null?void 0:n.replace(/^\[(.+)\]$/,"$1")});o.on("error",s=>{r(Object.assign(new ct.ProviderError("Unable to connect to instance metadata service"),s)),o.destroy()}),o.on("timeout",()=>{r(new ct.ProviderError("TimeoutError from instance metadata service")),o.destroy()}),o.on("response",s=>{let{statusCode:i=400}=s;(i<200||300<=i)&&(r(Object.assign(new ct.ProviderError("Error response received from instance metadata service"),{statusCode:i})),o.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{t(MH.Buffer.concat(a)),o.destroy()})}),o.end()})}ne(an,"httpRequest");var p0=ne(e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string","isImdsCredentials"),f0=ne(e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),"fromImdsCredentials"),m0=1e3,_0=0,np=ne(({maxRetries:e=_0,timeout:t=m0})=>({maxRetries:e,timeout:t}),"providerConfigFromInit"),tp=ne((e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},"retry"),pa="AWS_CONTAINER_CREDENTIALS_FULL_URI",fa="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",rp="AWS_CONTAINER_AUTHORIZATION_TOKEN",FH=ne((e={})=>{let{timeout:t,maxRetries:r}=np(e);return()=>tp(async()=>{let n=await $H(),o=JSON.parse(await jH(t,n));if(!p0(o))throw new ct.CredentialsProviderError("Invalid response received from instance metadata service.");return f0(o)},r)},"fromContainerMetadata"),jH=ne(async(e,t)=>(process.env[rp]&&(t.headers={...t.headers,Authorization:process.env[rp]}),(await an({...t,timeout:e})).toString()),"requestFromEcsImds"),LH="169.254.170.2",UH={localhost:!0,"127.0.0.1":!0},HH={"http:":!0,"https:":!0},$H=ne(async()=>{if(process.env[fa])return{hostname:LH,path:process.env[fa]};if(process.env[pa]){let e=(0,qH.parse)(process.env[pa]);if(!e.hostname||!(e.hostname in UH))throw new ct.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in HH))throw new ct.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new ct.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${fa} or ${pa} environment variable is set`,!1)},"getCmdsUri"),g0=class h0 extends ct.CredentialsProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,h0.prototype)}};ne(g0,"InstanceMetadataV1FallbackError");var VH=g0,op=ht(),zH=vr(),y0=(e=>(e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]",e))(y0||{}),BH="AWS_EC2_METADATA_SERVICE_ENDPOINT",GH="ec2_metadata_service_endpoint",WH={environmentVariableSelector:e=>e[BH],configFileSelector:e=>e[GH],default:void 0},v0=(e=>(e.IPv4="IPv4",e.IPv6="IPv6",e))(v0||{}),YH="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",KH="ec2_metadata_service_endpoint_mode",XH={environmentVariableSelector:e=>e[YH],configFileSelector:e=>e[KH],default:"IPv4"},E0=ne(async()=>(0,zH.parseUrl)(await JH()||await QH()),"getInstanceMetadataEndpoint"),JH=ne(async()=>(0,op.loadConfig)(WH)(),"getFromEndpointConfig"),QH=ne(async()=>{let e=await(0,op.loadConfig)(XH)();switch(e){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(v0)}`)}},"getFromEndpointModeConfig"),ZH=5*60,e$=5*60,t$="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",c0=ne((e,t)=>{let r=ZH+Math.floor(Math.random()*e$),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+t$);let o=e.originalExpiration??e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),r$=ne((e,t={})=>{let r=t?.logger||console,n;return async()=>{let o;try{o=await e(),o.expiration&&o.expiration.getTime()<Date.now()&&(o=c0(o,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),o=c0(n,r);else throw s}return n=o,o}},"staticStabilityProvider"),S0="/latest/meta-data/iam/security-credentials/",n$="/latest/api/token",ep="AWS_EC2_METADATA_V1_DISABLED",d0="ec2_metadata_v1_disabled",l0="x-aws-ec2-metadata-token",o$=ne((e={})=>r$(s$(e),{logger:e.logger}),"fromInstanceMetadata"),s$=ne(e=>{let t=!1,{logger:r,profile:n}=e,{timeout:o,maxRetries:s}=np(e),i=ne(async(a,c)=>{var d;if(t||((d=c.headers)==null?void 0:d[l0])==null){let m=!1,f=!1,_=await(0,op.loadConfig)({environmentVariableSelector:v=>{let h=v[ep];if(f=!!h&&h!=="false",h===void 0)throw new ct.CredentialsProviderError(`${ep} not set in env, checking config file next.`);return f},configFileSelector:v=>{let h=v[d0];return m=!!h&&h!=="false",m},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||_){let v=[];throw e.ec2MetadataV1Disabled&&v.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&v.push(`config file profile (${d0})`),f&&v.push(`process environment variable (${ep})`),new VH(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${v.join(", ")}].`)}}let p=(await tp(async()=>{let m;try{m=await a$(c)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},a)).trim();return tp(async()=>{let m;try{m=await c$(p,c)}catch(f){throw f.statusCode===401&&(t=!1),f}return m},a)},"getCredentials");return async()=>{let a=await E0();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(s,{...a,timeout:o});{let c;try{c=(await i$({...a,timeout:o})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(s,{...a,timeout:o})}return i(s,{...a,headers:{[l0]:c},timeout:o})}}},"getInstanceImdsProvider"),i$=ne(async e=>an({...e,path:n$,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),a$=ne(async e=>(await an({...e,path:S0})).toString(),"getProfile"),c$=ne(async(e,t)=>{let r=JSON.parse((await an({...t,path:S0+e})).toString());if(!p0(r))throw new ct.CredentialsProviderError("Invalid response received from instance metadata service.");return f0(r)},"getCredentialsFromProfile")});var R0=u(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.resolveCredentialSource=void 0;var d$=Zu(),b0=_a(),l$=X(),u$=(e,t)=>{let r={EcsContainer:b0.fromContainerMetadata,Ec2InstanceMetadata:b0.fromInstanceMetadata,Environment:d$.fromEnv};if(e in r)return r[e]();throw new l$.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};ga.resolveCredentialSource=u$});var C0=u(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.resolveAssumeRoleCredentials=cn.isAssumeRoleProfile=void 0;var sp=X(),p$=Ye(),f$=R0(),m$=ip(),_$=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(g$(e)||h$(e));cn.isAssumeRoleProfile=_$;var g$=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",h$=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",y$=async(e,t,r,n={})=>{let o=t[e];if(!r.roleAssumer)throw new sp.CredentialsProviderError(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:s}=o;if(s&&s in n)throw new sp.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,p$.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=s?(0,m$.resolveProfileData)(s,t,r,{...n,[s]:!0}):(0,f$.resolveCredentialSource)(o.credential_source,e)(),a={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:c}=o;if(c){if(!r.mfaCodeProvider)throw new sp.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};cn.resolveAssumeRoleCredentials=y$});var P0=u(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.getValidatedProcessCredentials=void 0;var v$=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};ha.getValidatedProcessCredentials=v$});var T0=u(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.resolveProcessCredentials=void 0;var ap=X(),E$=j("child_process"),S$=j("util"),w$=P0(),b$=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let o=(0,S$.promisify)(E$.exec);try{let{stdout:s}=await o(n),i;try{i=JSON.parse(s.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return(0,w$.getValidatedProcessCredentials)(e,i)}catch(s){throw new ap.CredentialsProviderError(s.message)}}else throw new ap.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new ap.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)};ya.resolveProcessCredentials=b$});var A0=u(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.fromProcess=void 0;var O0=Ye(),R$=T0(),C$=(e={})=>async()=>{let t=await(0,O0.parseKnownFiles)(e);return(0,R$.resolveProcessCredentials)((0,O0.getProfileName)(e),t)};va.fromProcess=C$});var dp=u(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});var P$=(O(),C(T));P$.__exportStar(A0(),cp)});var x0=u(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.resolveProcessCredentials=dn.isProcessProfile=void 0;var T$=dp(),O$=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string";dn.isProcessProfile=O$;var A$=async(e,t)=>(0,T$.fromProcess)({...e,profile:t})();dn.resolveProcessCredentials=A$});var lp=u(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.isSsoProfile=void 0;var x$=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");Ea.isSsoProfile=x$});var I0=u(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.resolveClientEndpointParameters=void 0;var I$=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});Sa.resolveClientEndpointParameters=I$});var N0=u((f5,N$)=>{N$.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.478.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/core":"3.477.0","@aws-sdk/middleware-host-header":"3.468.0","@aws-sdk/middleware-logger":"3.468.0","@aws-sdk/middleware-recursion-detection":"3.468.0","@aws-sdk/middleware-user-agent":"3.478.0","@aws-sdk/region-config-resolver":"3.470.0","@aws-sdk/types":"3.468.0","@aws-sdk/util-endpoints":"3.478.0","@aws-sdk/util-user-agent-browser":"3.468.0","@aws-sdk/util-user-agent-node":"3.470.0","@smithy/config-resolver":"^2.0.21","@smithy/core":"^1.2.0","@smithy/fetch-http-handler":"^2.3.1","@smithy/hash-node":"^2.0.17","@smithy/invalid-dependency":"^2.0.15","@smithy/middleware-content-length":"^2.0.17","@smithy/middleware-endpoint":"^2.2.3","@smithy/middleware-retry":"^2.0.24","@smithy/middleware-serde":"^2.0.15","@smithy/middleware-stack":"^2.0.9","@smithy/node-config-provider":"^2.1.8","@smithy/node-http-handler":"^2.2.1","@smithy/protocol-http":"^3.0.11","@smithy/smithy-client":"^2.1.18","@smithy/types":"^2.7.0","@smithy/url-parser":"^2.0.15","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.1","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.22","@smithy/util-defaults-mode-node":"^2.0.29","@smithy/util-endpoints":"^1.0.7","@smithy/util-retry":"^2.0.8","@smithy/util-utf8":"^2.0.2",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var up=u(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.crtAvailability=void 0;wa.crtAvailability={isCrtAvailable:!1}});var D0=u(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.isCrtAvailable=void 0;var D$=up(),q$=()=>D$.crtAvailability.isCrtAvailable?["md/crt-avail"]:null;ba.isCrtAvailable=q$});var Bo=u(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.defaultUserAgent=je.UA_APP_ID_INI_NAME=je.UA_APP_ID_ENV_NAME=je.crtAvailability=void 0;var M$=ht(),q0=j("os"),pp=j("process"),k$=D0(),F$=up();Object.defineProperty(je,"crtAvailability",{enumerable:!0,get:function(){return F$.crtAvailability}});je.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";je.UA_APP_ID_INI_NAME="sdk-ua-app-id";var j$=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,q0.platform)()}`,(0,q0.release)()],["lang/js"],["md/nodejs",`${pp.versions.node}`]],n=(0,k$.isCrtAvailable)();n&&r.push(n),e&&r.push([`api/${e}`,t]),pp.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${pp.env.AWS_EXECUTION_ENV}`]);let o=(0,M$.loadConfig)({environmentVariableSelector:i=>i[je.UA_APP_ID_ENV_NAME],configFileSelector:i=>i[je.UA_APP_ID_INI_NAME],default:void 0})(),s;return async()=>{if(!s){let i=await o;s=i?[...r,[`app/${i}`]]:[...r]}return s}};je.defaultUserAgent=j$});var Go=u((y5,L0)=>{var Ra=Object.defineProperty,L$=Object.getOwnPropertyDescriptor,U$=Object.getOwnPropertyNames,H$=Object.prototype.hasOwnProperty,k0=(e,t)=>Ra(e,"name",{value:t,configurable:!0}),$$=(e,t)=>{for(var r in t)Ra(e,r,{get:t[r],enumerable:!0})},V$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of U$(t))!H$.call(e,o)&&o!==r&&Ra(e,o,{get:()=>t[o],enumerable:!(n=L$(t,o))||n.enumerable});return e},z$=e=>V$(Ra({},"__esModule",{value:!0}),e),F0={};$$(F0,{Hash:()=>W$});L0.exports=z$(F0);var fp=Fr(),B$=Ie(),G$=j("buffer"),M0=j("crypto"),j0=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,B$.toUint8Array)(mp(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,M0.createHmac)(this.algorithmIdentifier,mp(this.secret)):(0,M0.createHash)(this.algorithmIdentifier)}};k0(j0,"Hash");var W$=j0;function mp(e,t){return G$.Buffer.isBuffer(e)?e:typeof e=="string"?(0,fp.fromString)(e,t):ArrayBuffer.isView(e)?(0,fp.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,fp.fromArrayBuffer)(e)}k0(mp,"castSourceData")});var Wo=u((v5,$0)=>{var Ca=Object.defineProperty,Y$=Object.getOwnPropertyDescriptor,K$=Object.getOwnPropertyNames,X$=Object.prototype.hasOwnProperty,J$=(e,t)=>Ca(e,"name",{value:t,configurable:!0}),Q$=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},Z$=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K$(t))!X$.call(e,o)&&o!==r&&Ca(e,o,{get:()=>t[o],enumerable:!(n=Y$(t,o))||n.enumerable});return e},eV=e=>Z$(Ca({},"__esModule",{value:!0}),e),H0={};Q$(H0,{calculateBodyLength:()=>tV});$0.exports=eV(H0);var U0=j("fs"),tV=J$(e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,U0.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,U0.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},"calculateBodyLength")});var nw=u(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.ruleSet=void 0;var Z0="required",Ue="fn",He="argv",pn="ref",V0=!0,z0="isSet",Yo="booleanEquals",ln="error",un="endpoint",Ct="tree",_p="PartitionResult",gp="getAttr",B0={[Z0]:!1,type:"String"},G0={[Z0]:!0,default:!1,type:"Boolean"},W0={[pn]:"Endpoint"},ew={[Ue]:Yo,[He]:[{[pn]:"UseFIPS"},!0]},tw={[Ue]:Yo,[He]:[{[pn]:"UseDualStack"},!0]},Le={},Y0={[Ue]:gp,[He]:[{[pn]:_p},"supportsFIPS"]},rw={[pn]:_p},K0={[Ue]:Yo,[He]:[!0,{[Ue]:gp,[He]:[rw,"supportsDualStack"]}]},X0=[ew],J0=[tw],Q0=[{[pn]:"Region"}],rV={version:"1.0",parameters:{Region:B0,UseDualStack:G0,UseFIPS:G0,Endpoint:B0},rules:[{conditions:[{[Ue]:z0,[He]:[W0]}],rules:[{conditions:X0,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ln},{conditions:J0,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ln},{endpoint:{url:W0,properties:Le,headers:Le},type:un}],type:Ct},{conditions:[{[Ue]:z0,[He]:Q0}],rules:[{conditions:[{[Ue]:"aws.partition",[He]:Q0,assign:_p}],rules:[{conditions:[ew,tw],rules:[{conditions:[{[Ue]:Yo,[He]:[V0,Y0]},K0],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Le,headers:Le},type:un}],type:Ct},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ln}],type:Ct},{conditions:X0,rules:[{conditions:[{[Ue]:Yo,[He]:[Y0,V0]}],rules:[{conditions:[{[Ue]:"stringEquals",[He]:[{[Ue]:gp,[He]:[rw,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Le,headers:Le},type:un},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Le,headers:Le},type:un}],type:Ct},{error:"FIPS is enabled but this partition does not support FIPS",type:ln}],type:Ct},{conditions:J0,rules:[{conditions:[K0],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Le,headers:Le},type:un}],type:Ct},{error:"DualStack is enabled but this partition does not support DualStack",type:ln}],type:Ct},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Le,headers:Le},type:un}],type:Ct}],type:Ct},{error:"Invalid Configuration: Missing Region",type:ln}]};Pa.ruleSet=rV});var ow=u(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.defaultEndpointResolver=void 0;var nV=rt(),oV=nw(),sV=(e,t={})=>(0,nV.resolveEndpoint)(oV.ruleSet,{endpointParams:e,logger:t.logger});Ta.defaultEndpointResolver=sV});var aw=u(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.getRuntimeConfig=void 0;var iV=S(),aV=vr(),sw=zr(),iw=Ie(),cV=ow(),dV=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??sw.fromBase64,base64Encoder:e?.base64Encoder??sw.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??cV.defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new iV.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??aV.parseUrl,utf8Decoder:e?.utf8Decoder??iw.fromUtf8,utf8Encoder:e?.utf8Encoder??iw.toUtf8});Oa.getRuntimeConfig=dV});var Xo=u((b5,fw)=>{var lV=Object.create,Ko=Object.defineProperty,uV=Object.getOwnPropertyDescriptor,pV=Object.getOwnPropertyNames,fV=Object.getPrototypeOf,mV=Object.prototype.hasOwnProperty,hp=(e,t)=>Ko(e,"name",{value:t,configurable:!0}),_V=(e,t)=>{for(var r in t)Ko(e,r,{get:t[r],enumerable:!0})},uw=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of pV(t))!mV.call(e,o)&&o!==r&&Ko(e,o,{get:()=>t[o],enumerable:!(n=uV(t,o))||n.enumerable});return e},gV=(e,t,r)=>(r=e!=null?lV(fV(e)):{},uw(t||!e||!e.__esModule?Ko(r,"default",{value:e,enumerable:!0}):r,e)),hV=e=>uw(Ko({},"__esModule",{value:!0}),e),pw={};_V(pw,{resolveDefaultsModeConfig:()=>TV});fw.exports=hV(pw);var yV=ot(),cw=ht(),vV=X(),EV="AWS_EXECUTION_ENV",dw="AWS_REGION",lw="AWS_DEFAULT_REGION",SV="AWS_EC2_METADATA_DISABLED",wV=["in-region","cross-region","mobile","standard","legacy"],bV="/latest/meta-data/placement/region",RV="AWS_DEFAULTS_MODE",CV="defaults_mode",PV={environmentVariableSelector:e=>e[RV],configFileSelector:e=>e[CV],default:"legacy"},TV=hp(({region:e=(0,cw.loadConfig)(yV.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,cw.loadConfig)(PV)}={})=>(0,vV.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return OV(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${wV.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),OV=hp(async e=>{if(e){let t=typeof e=="function"?await e():e,r=await AV();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),AV=hp(async()=>{if(process.env[EV]&&(process.env[dw]||process.env[lw]))return process.env[dw]??process.env[lw];if(!process.env[SV])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>gV(_a())),r=await e();return(await t({...r,path:bV})).toString()}catch{}},"inferPhysicalRegion")});var gw=u(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.getRuntimeConfig=void 0;var xV=(O(),C(T)),IV=xV.__importDefault(N0()),NV=br(),DV=Bo(),Aa=ot(),qV=Go(),mw=it(),Jo=ht(),_w=Br(),MV=Wo(),kV=Vr(),FV=aw(),jV=S(),LV=Xo(),UV=S(),HV=e=>{(0,UV.emitWarningIfUnsupportedVersion)(process.version);let t=(0,LV.resolveDefaultsModeConfig)(e),r=()=>t().then(jV.loadConfigsForDefaultMode),n=(0,FV.getRuntimeConfig)(e);return(0,NV.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??MV.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,DV.defaultUserAgent)({serviceId:n.serviceId,clientVersion:IV.default.version}),maxAttempts:e?.maxAttempts??(0,Jo.loadConfig)(mw.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,Jo.loadConfig)(Aa.NODE_REGION_CONFIG_OPTIONS,Aa.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new _w.NodeHttpHandler(r),retryMode:e?.retryMode??(0,Jo.loadConfig)({...mw.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||kV.DEFAULT_RETRY_MODE}),sha256:e?.sha256??qV.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??_w.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Jo.loadConfig)(Aa.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,Jo.loadConfig)(Aa.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};xa.getRuntimeConfig=HV});var hw=u(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.resolveAwsRegionExtensionConfiguration=fn.getAwsRegionExtensionConfiguration=void 0;var $V=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}};fn.getAwsRegionExtensionConfiguration=$V;var VV=e=>({region:e.region()});fn.resolveAwsRegionExtensionConfiguration=VV});var yw=u($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.NODE_REGION_CONFIG_FILE_OPTIONS=$e.NODE_REGION_CONFIG_OPTIONS=$e.REGION_INI_NAME=$e.REGION_ENV_NAME=void 0;$e.REGION_ENV_NAME="AWS_REGION";$e.REGION_INI_NAME="region";$e.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:e=>e[$e.REGION_ENV_NAME],configFileSelector:e=>e[$e.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};$e.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var yp=u(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.isFipsRegion=void 0;var zV=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));Ia.isFipsRegion=zV});var vw=u(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.getRealRegion=void 0;var BV=yp(),GV=e=>(0,BV.isFipsRegion)(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;Na.getRealRegion=GV});var Sw=u(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.resolveRegionConfig=void 0;var Ew=vw(),WV=yp(),YV=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return(0,Ew.getRealRegion)(t);let n=await t();return(0,Ew.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return(0,WV.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};Da.resolveRegionConfig=YV});var bw=u(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});var ww=(O(),C(T));ww.__exportStar(yw(),qa);ww.__exportStar(Sw(),qa)});var Qo=u(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});var Rw=(O(),C(T));Rw.__exportStar(hw(),Ma);Rw.__exportStar(bw(),Ma)});var Ow=u(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.resolveRuntimeExtensions=void 0;var Cw=Qo(),Pw=ce(),Tw=S(),vp=e=>e,KV=(e,t)=>{let r={...vp((0,Cw.getAwsRegionExtensionConfiguration)(e)),...vp((0,Tw.getDefaultExtensionConfiguration)(e)),...vp((0,Pw.getHttpHandlerExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Cw.resolveAwsRegionExtensionConfiguration)(r),...(0,Tw.resolveDefaultRuntimeConfig)(r),...(0,Pw.resolveHttpHandlerRuntimeConfig)(r)}};ka.resolveRuntimeExtensions=KV});var Zo=u(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.SSOClient=mn.__Client=void 0;var Aw=lo(),XV=uo(),JV=po(),xw=yo(),QV=ot(),ZV=vo(),ez=H(),Iw=it(),Nw=S();Object.defineProperty(mn,"__Client",{enumerable:!0,get:function(){return Nw.Client}});var tz=I0(),rz=gw(),nz=Ow(),Ep=class extends Nw.Client{constructor(...[t]){let r=(0,rz.getRuntimeConfig)(t||{}),n=(0,tz.resolveClientEndpointParameters)(r),o=(0,QV.resolveRegionConfig)(n),s=(0,ez.resolveEndpointConfig)(o),i=(0,Iw.resolveRetryConfig)(s),a=(0,Aw.resolveHostHeaderConfig)(i),c=(0,xw.resolveUserAgentConfig)(a),d=(0,nz.resolveRuntimeExtensions)(c,t?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,Iw.getRetryPlugin)(this.config)),this.middlewareStack.use((0,ZV.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Aw.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,XV.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,JV.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,xw.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};mn.SSOClient=Ep});var Fa=u(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.SSOServiceException=_n.__ServiceException=void 0;var Dw=S();Object.defineProperty(_n,"__ServiceException",{enumerable:!0,get:function(){return Dw.ServiceException}});var Sp=class e extends Dw.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};_n.SSOServiceException=Sp});var Cr=u(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.LogoutRequestFilterSensitiveLog=K.ListAccountsRequestFilterSensitiveLog=K.ListAccountRolesRequestFilterSensitiveLog=K.GetRoleCredentialsResponseFilterSensitiveLog=K.RoleCredentialsFilterSensitiveLog=K.GetRoleCredentialsRequestFilterSensitiveLog=K.UnauthorizedException=K.TooManyRequestsException=K.ResourceNotFoundException=K.InvalidRequestException=void 0;var gn=S(),ja=Fa(),wp=class e extends ja.SSOServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};K.InvalidRequestException=wp;var bp=class e extends ja.SSOServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};K.ResourceNotFoundException=bp;var Rp=class e extends ja.SSOServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};K.TooManyRequestsException=Rp;var Cp=class e extends ja.SSOServiceException{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};K.UnauthorizedException=Cp;var oz=e=>({...e,...e.accessToken&&{accessToken:gn.SENSITIVE_STRING}});K.GetRoleCredentialsRequestFilterSensitiveLog=oz;var sz=e=>({...e,...e.secretAccessKey&&{secretAccessKey:gn.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:gn.SENSITIVE_STRING}});K.RoleCredentialsFilterSensitiveLog=sz;var iz=e=>({...e,...e.roleCredentials&&{roleCredentials:(0,K.RoleCredentialsFilterSensitiveLog)(e.roleCredentials)}});K.GetRoleCredentialsResponseFilterSensitiveLog=iz;var az=e=>({...e,...e.accessToken&&{accessToken:gn.SENSITIVE_STRING}});K.ListAccountRolesRequestFilterSensitiveLog=az;var cz=e=>({...e,...e.accessToken&&{accessToken:gn.SENSITIVE_STRING}});K.ListAccountsRequestFilterSensitiveLog=cz;var dz=e=>({...e,...e.accessToken&&{accessToken:gn.SENSITIVE_STRING}});K.LogoutRequestFilterSensitiveLog=dz});var es=u(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.de_LogoutCommand=ie.de_ListAccountsCommand=ie.de_ListAccountRolesCommand=ie.de_GetRoleCredentialsCommand=ie.se_LogoutCommand=ie.se_ListAccountsCommand=ie.se_ListAccountRolesCommand=ie.se_GetRoleCredentialsCommand=void 0;var La=yt(),R=S(),Ua=Cr(),lz=Fa(),uz=async(e,t)=>{let r=(0,La.requestBuilder)(e,t),n=(0,R.map)({},Ba,{[Wa]:e[Ga]});r.bp("/federation/credentials");let o=(0,R.map)({[Cz]:[,(0,R.expectNonNull)(e[Rz],"roleName")],[Mw]:[,(0,R.expectNonNull)(e[qw],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()};ie.se_GetRoleCredentialsCommand=uz;var pz=async(e,t)=>{let r=(0,La.requestBuilder)(e,t),n=(0,R.map)({},Ba,{[Wa]:e[Ga]});r.bp("/assignment/roles");let o=(0,R.map)({[Lw]:[,e[jw]],[Fw]:[()=>e.maxResults!==void 0,()=>e[kw].toString()],[Mw]:[,(0,R.expectNonNull)(e[qw],"accountId")]});return r.m("GET").h(n).q(o).b(void 0),r.build()};ie.se_ListAccountRolesCommand=pz;var fz=async(e,t)=>{let r=(0,La.requestBuilder)(e,t),n=(0,R.map)({},Ba,{[Wa]:e[Ga]});r.bp("/assignment/accounts");let o=(0,R.map)({[Lw]:[,e[jw]],[Fw]:[()=>e.maxResults!==void 0,()=>e[kw].toString()]});return r.m("GET").h(n).q(o).b(void 0),r.build()};ie.se_ListAccountsCommand=fz;var mz=async(e,t)=>{let r=(0,La.requestBuilder)(e,t),n=(0,R.map)({},Ba,{[Wa]:e[Ga]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()};ie.se_LogoutCommand=mz;var _z=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gz(e,t);let r=(0,R.map)({$metadata:or(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await Ya(e.body,t)),"body"),o=(0,R.take)(n,{roleCredentials:R._json});return Object.assign(r,o),r};ie.de_GetRoleCredentialsCommand=_z;var gz=async(e,t)=>{let r={...e,body:await Ka(e.body,t)},n=Xa(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await $a(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Pp(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Va(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await za(r,t);default:let o=r.body;return Ha({output:e,parsedBody:o,errorCode:n})}},hz=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yz(e,t);let r=(0,R.map)({$metadata:or(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await Ya(e.body,t)),"body"),o=(0,R.take)(n,{nextToken:R.expectString,roleList:R._json});return Object.assign(r,o),r};ie.de_ListAccountRolesCommand=hz;var yz=async(e,t)=>{let r={...e,body:await Ka(e.body,t)},n=Xa(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await $a(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Pp(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Va(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await za(r,t);default:let o=r.body;return Ha({output:e,parsedBody:o,errorCode:n})}},vz=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ez(e,t);let r=(0,R.map)({$metadata:or(e)}),n=(0,R.expectNonNull)((0,R.expectObject)(await Ya(e.body,t)),"body"),o=(0,R.take)(n,{accountList:R._json,nextToken:R.expectString});return Object.assign(r,o),r};ie.de_ListAccountsCommand=vz;var Ez=async(e,t)=>{let r={...e,body:await Ka(e.body,t)},n=Xa(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await $a(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Pp(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Va(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await za(r,t);default:let o=r.body;return Ha({output:e,parsedBody:o,errorCode:n})}},Sz=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wz(e,t);let r=(0,R.map)({$metadata:or(e)});return await(0,R.collectBody)(e.body,t),r};ie.de_LogoutCommand=Sz;var wz=async(e,t)=>{let r={...e,body:await Ka(e.body,t)},n=Xa(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await $a(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Va(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await za(r,t);default:let o=r.body;return Ha({output:e,parsedBody:o,errorCode:n})}},Ha=(0,R.withBaseException)(lz.SSOServiceException),$a=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new Ua.InvalidRequestException({$metadata:or(e),...r});return(0,R.decorateServiceException)(s,e.body)},Pp=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new Ua.ResourceNotFoundException({$metadata:or(e),...r});return(0,R.decorateServiceException)(s,e.body)},Va=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new Ua.TooManyRequestsException({$metadata:or(e),...r});return(0,R.decorateServiceException)(s,e.body)},za=async(e,t)=>{let r=(0,R.map)({}),n=e.body,o=(0,R.take)(n,{message:R.expectString});Object.assign(r,o);let s=new Ua.UnauthorizedException({$metadata:or(e),...r});return(0,R.decorateServiceException)(s,e.body)},or=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),bz=(e,t)=>(0,R.collectBody)(e,t).then(r=>t.utf8Encoder(r)),Ba=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),qw="accountId",Ga="accessToken",Mw="account_id",kw="maxResults",Fw="max_result",jw="nextToken",Lw="next_token",Rz="roleName",Cz="role_name",Wa="x-amz-sso_bearer_token",Ya=(e,t)=>bz(e,t).then(r=>r.length?JSON.parse(r):{}),Ka=async(e,t)=>{let r=await Ya(e,t);return r.message=r.message??r.Message,r},Xa=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Op=u(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.GetRoleCredentialsCommand=hn.$Command=void 0;var Pz=H(),Tz=z(),$w=S();Object.defineProperty(hn,"$Command",{enumerable:!0,get:function(){return $w.Command}});var Oz=L(),Uw=Cr(),Hw=es(),Tp=class e extends $w.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Tz.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Pz.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Uw.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:Uw.GetRoleCredentialsResponseFilterSensitiveLog,[Oz.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"GetRoleCredentials"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,Hw.se_GetRoleCredentialsCommand)(t,r)}deserialize(t,r){return(0,Hw.de_GetRoleCredentialsCommand)(t,r)}};hn.GetRoleCredentialsCommand=Tp});var Ja=u(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.ListAccountRolesCommand=yn.$Command=void 0;var Az=H(),xz=z(),zw=S();Object.defineProperty(yn,"$Command",{enumerable:!0,get:function(){return zw.Command}});var Iz=L(),Nz=Cr(),Vw=es(),Ap=class e extends zw.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,xz.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Az.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:Nz.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[Iz.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccountRoles"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,Vw.se_ListAccountRolesCommand)(t,r)}deserialize(t,r){return(0,Vw.de_ListAccountRolesCommand)(t,r)}};yn.ListAccountRolesCommand=Ap});var Qa=u(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.ListAccountsCommand=vn.$Command=void 0;var Dz=H(),qz=z(),Gw=S();Object.defineProperty(vn,"$Command",{enumerable:!0,get:function(){return Gw.Command}});var Mz=L(),kz=Cr(),Bw=es(),xp=class e extends Gw.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,qz.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Dz.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:kz.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[Mz.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"ListAccounts"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,Bw.se_ListAccountsCommand)(t,r)}deserialize(t,r){return(0,Bw.de_ListAccountsCommand)(t,r)}};vn.ListAccountsCommand=xp});var Np=u(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.LogoutCommand=En.$Command=void 0;var Fz=H(),jz=z(),Yw=S();Object.defineProperty(En,"$Command",{enumerable:!0,get:function(){return Yw.Command}});var Lz=L(),Uz=Cr(),Ww=es(),Ip=class e extends Yw.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,jz.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Fz.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:Uz.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:l=>l,[Lz.SMITHY_CONTEXT_KEY]:{service:"SWBPortalService",operation:"Logout"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,Ww.se_LogoutCommand)(t,r)}deserialize(t,r){return(0,Ww.de_LogoutCommand)(t,r)}};En.LogoutCommand=Ip});var Kw=u(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.SSO=void 0;var Hz=S(),$z=Op(),Vz=Ja(),zz=Qa(),Bz=Np(),Gz=Zo(),Wz={GetRoleCredentialsCommand:$z.GetRoleCredentialsCommand,ListAccountRolesCommand:Vz.ListAccountRolesCommand,ListAccountsCommand:zz.ListAccountsCommand,LogoutCommand:Bz.LogoutCommand},Za=class extends Gz.SSOClient{};ec.SSO=Za;(0,Hz.createAggregatedClient)(Wz,Za)});var Xw=u(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});var tc=(O(),C(T));tc.__exportStar(Op(),Sn);tc.__exportStar(Ja(),Sn);tc.__exportStar(Qa(),Sn);tc.__exportStar(Np(),Sn)});var Qw=u(Jw=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0})});var Zw=u(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.paginateListAccountRoles=void 0;var Yz=yt(),Kz=Ja(),Xz=Zo();rc.paginateListAccountRoles=(0,Yz.createPaginator)(Xz.SSOClient,Kz.ListAccountRolesCommand,"nextToken","nextToken","maxResults")});var eb=u(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.paginateListAccounts=void 0;var Jz=yt(),Qz=Qa(),Zz=Zo();nc.paginateListAccounts=(0,Jz.createPaginator)(Zz.SSOClient,Qz.ListAccountsCommand,"nextToken","nextToken","maxResults")});var tb=u(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});var Dp=(O(),C(T));Dp.__exportStar(Qw(),ts);Dp.__exportStar(Zw(),ts);Dp.__exportStar(eb(),ts)});var rb=u(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});var e2=(O(),C(T));e2.__exportStar(Cr(),qp)});var nb=u(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.SSOServiceException=void 0;var rs=(O(),C(T));rs.__exportStar(Zo(),Pt);rs.__exportStar(Kw(),Pt);rs.__exportStar(Xw(),Pt);rs.__exportStar(tb(),Pt);rs.__exportStar(rb(),Pt);ho();var t2=Fa();Object.defineProperty(Pt,"SSOServiceException",{enumerable:!0,get:function(){return t2.SSOServiceException}})});var ic=u($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.UnsupportedGrantTypeException=$.UnauthorizedClientException=$.SlowDownException=$.SSOOIDCClient=$.InvalidScopeException=$.InvalidRequestException=$.InvalidClientException=$.InternalServerException=$.ExpiredTokenException=$.CreateTokenCommand=$.AuthorizationPendingException=$.AccessDeniedException=void 0;var ob=lo(),r2=uo(),n2=po(),sb=yo(),o2=ot(),s2=vo(),i2=H(),ib=it(),a2=S(),c2=e=>{var t,r;return{...e,useDualstackEndpoint:(t=e.useDualstackEndpoint)!==null&&t!==void 0?t:!1,useFipsEndpoint:(r=e.useFipsEndpoint)!==null&&r!==void 0?r:!1,defaultSigningName:"awsssooidc"}},d2={version:"3.429.0"},l2=Bo(),oc=ot(),u2=Go(),ab=it(),ns=ht(),cb=Br(),p2=Wo(),f2=Vr(),m2=S(),_2=vr(),db=zr(),lb=Ie(),g2=rt(),bb="required",Qe="fn",Ze="argv",Rn="ref",ub="isSet",Tt="tree",wn="error",bn="endpoint",kp="PartitionResult",Fp="getAttr",pb={[bb]:!1,type:"String"},fb={[bb]:!0,default:!1,type:"Boolean"},mb={[Rn]:"Endpoint"},Rb={[Qe]:"booleanEquals",[Ze]:[{[Rn]:"UseFIPS"},!0]},Cb={[Qe]:"booleanEquals",[Ze]:[{[Rn]:"UseDualStack"},!0]},Ve={},_b={[Qe]:"booleanEquals",[Ze]:[!0,{[Qe]:Fp,[Ze]:[{[Rn]:kp},"supportsFIPS"]}]},Pb={[Rn]:kp},gb={[Qe]:"booleanEquals",[Ze]:[!0,{[Qe]:Fp,[Ze]:[Pb,"supportsDualStack"]}]},hb=[Rb],yb=[Cb],vb=[{[Rn]:"Region"}],h2={version:"1.0",parameters:{Region:pb,UseDualStack:fb,UseFIPS:fb,Endpoint:pb},rules:[{conditions:[{[Qe]:ub,[Ze]:[mb]}],type:Tt,rules:[{conditions:hb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:wn},{conditions:yb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:wn},{endpoint:{url:mb,properties:Ve,headers:Ve},type:bn}]},{conditions:[{[Qe]:ub,[Ze]:vb}],type:Tt,rules:[{conditions:[{[Qe]:"aws.partition",[Ze]:vb,assign:kp}],type:Tt,rules:[{conditions:[Rb,Cb],type:Tt,rules:[{conditions:[_b,gb],type:Tt,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ve,headers:Ve},type:bn}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:wn}]},{conditions:hb,type:Tt,rules:[{conditions:[_b],type:Tt,rules:[{conditions:[{[Qe]:"stringEquals",[Ze]:["aws-us-gov",{[Qe]:Fp,[Ze]:[Pb,"name"]}]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ve,headers:Ve},type:bn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ve,headers:Ve},type:bn}]},{error:"FIPS is enabled but this partition does not support FIPS",type:wn}]},{conditions:yb,type:Tt,rules:[{conditions:[gb],type:Tt,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ve,headers:Ve},type:bn}]},{error:"DualStack is enabled but this partition does not support DualStack",type:wn}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ve,headers:Ve},type:bn}]}]},{error:"Invalid Configuration: Missing Region",type:wn}]},y2=h2,v2=(e,t={})=>(0,g2.resolveEndpoint)(y2,{endpointParams:e,logger:t.logger}),E2=e=>{var t,r,n,o,s,i,a,c,d,l;return{apiVersion:"2019-06-10",base64Decoder:(t=e?.base64Decoder)!==null&&t!==void 0?t:db.fromBase64,base64Encoder:(r=e?.base64Encoder)!==null&&r!==void 0?r:db.toBase64,disableHostPrefix:(n=e?.disableHostPrefix)!==null&&n!==void 0?n:!1,endpointProvider:(o=e?.endpointProvider)!==null&&o!==void 0?o:v2,extensions:(s=e?.extensions)!==null&&s!==void 0?s:[],logger:(i=e?.logger)!==null&&i!==void 0?i:new m2.NoOpLogger,serviceId:(a=e?.serviceId)!==null&&a!==void 0?a:"SSO OIDC",urlParser:(c=e?.urlParser)!==null&&c!==void 0?c:_2.parseUrl,utf8Decoder:(d=e?.utf8Decoder)!==null&&d!==void 0?d:lb.fromUtf8,utf8Encoder:(l=e?.utf8Encoder)!==null&&l!==void 0?l:lb.toUtf8}},S2=S(),w2=Xo(),b2=S(),R2=e=>{var t,r,n,o,s,i,a,c,d,l;(0,b2.emitWarningIfUnsupportedVersion)(process.version);let p=(0,w2.resolveDefaultsModeConfig)(e),m=()=>p().then(S2.loadConfigsForDefaultMode),f=E2(e);return{...f,...e,runtime:"node",defaultsMode:p,bodyLengthChecker:(t=e?.bodyLengthChecker)!==null&&t!==void 0?t:p2.calculateBodyLength,defaultUserAgentProvider:(r=e?.defaultUserAgentProvider)!==null&&r!==void 0?r:(0,l2.defaultUserAgent)({serviceId:f.serviceId,clientVersion:d2.version}),maxAttempts:(n=e?.maxAttempts)!==null&&n!==void 0?n:(0,ns.loadConfig)(ab.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(o=e?.region)!==null&&o!==void 0?o:(0,ns.loadConfig)(oc.NODE_REGION_CONFIG_OPTIONS,oc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(s=e?.requestHandler)!==null&&s!==void 0?s:new cb.NodeHttpHandler(m),retryMode:(i=e?.retryMode)!==null&&i!==void 0?i:(0,ns.loadConfig)({...ab.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await m()).retryMode||f2.DEFAULT_RETRY_MODE}),sha256:(a=e?.sha256)!==null&&a!==void 0?a:u2.Hash.bind(null,"sha256"),streamCollector:(c=e?.streamCollector)!==null&&c!==void 0?c:cb.streamCollector,useDualstackEndpoint:(d=e?.useDualstackEndpoint)!==null&&d!==void 0?d:(0,ns.loadConfig)(oc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(l=e?.useFipsEndpoint)!==null&&l!==void 0?l:(0,ns.loadConfig)(oc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}},Eb=Qo(),Sb=ce(),wb=S(),Mp=e=>e,C2=(e,t)=>{let r={...Mp((0,Eb.getAwsRegionExtensionConfiguration)(e)),...Mp((0,wb.getDefaultExtensionConfiguration)(e)),...Mp((0,Sb.getHttpHandlerExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,Eb.resolveAwsRegionExtensionConfiguration)(r),...(0,wb.resolveDefaultRuntimeConfig)(r),...(0,Sb.resolveHttpHandlerRuntimeConfig)(r)}},Tb=class extends a2.Client{constructor(...[e]){let t=R2(e||{}),r=c2(t),n=(0,o2.resolveRegionConfig)(r),o=(0,i2.resolveEndpointConfig)(n),s=(0,ib.resolveRetryConfig)(o),i=(0,ob.resolveHostHeaderConfig)(s),a=(0,sb.resolveUserAgentConfig)(i),c=C2(a,e?.extensions||[]);super(c),this.config=c,this.middlewareStack.use((0,ib.getRetryPlugin)(this.config)),this.middlewareStack.use((0,s2.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,ob.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,r2.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,n2.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,sb.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};$.SSOOIDCClient=Tb;var P2=S(),T2=H(),O2=z(),A2=S(),x2=L(),jp=ce(),y=S(),I2=S(),Re=class Ob extends I2.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Ob.prototype)}},Ab=class xb extends Re{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,xb.prototype),this.error=t.error,this.error_description=t.error_description}};$.AccessDeniedException=Ab;var Ib=class Nb extends Re{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Nb.prototype),this.error=t.error,this.error_description=t.error_description}};$.AuthorizationPendingException=Ib;var Db=class qb extends Re{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,qb.prototype),this.error=t.error,this.error_description=t.error_description}};$.ExpiredTokenException=Db;var Mb=class kb extends Re{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,kb.prototype),this.error=t.error,this.error_description=t.error_description}};$.InternalServerException=Mb;var Fb=class jb extends Re{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,jb.prototype),this.error=t.error,this.error_description=t.error_description}};$.InvalidClientException=Fb;var N2=class Lb extends Re{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Lb.prototype),this.error=t.error,this.error_description=t.error_description}},Ub=class Hb extends Re{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Hb.prototype),this.error=t.error,this.error_description=t.error_description}};$.InvalidRequestException=Ub;var $b=class Vb extends Re{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Vb.prototype),this.error=t.error,this.error_description=t.error_description}};$.InvalidScopeException=$b;var zb=class Bb extends Re{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Bb.prototype),this.error=t.error,this.error_description=t.error_description}};$.SlowDownException=zb;var Gb=class Wb extends Re{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Wb.prototype),this.error=t.error,this.error_description=t.error_description}};$.UnauthorizedClientException=Gb;var Yb=class Kb extends Re{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,Kb.prototype),this.error=t.error,this.error_description=t.error_description}};$.UnsupportedGrantTypeException=Yb;var D2=class Xb extends Re{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Xb.prototype),this.error=t.error,this.error_description=t.error_description}},q2=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/token`,c;return c=JSON.stringify((0,y.take)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:d=>(0,y._json)(d)})),new jp.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},M2=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/client/register`,c;return c=JSON.stringify((0,y.take)(e,{clientName:[],clientType:[],scopes:d=>(0,y._json)(d)})),new jp.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},k2=async(e,t)=>{let{hostname:r,protocol:n="https",port:o,path:s}=await t.endpoint(),i={"content-type":"application/json"},a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/device_authorization`,c;return c=JSON.stringify((0,y.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),new jp.HttpRequest({protocol:n,hostname:r,port:o,method:"POST",headers:i,path:a,body:c})},F2=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return j2(e,t);let r=(0,y.map)({$metadata:ve(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await sc(e.body,t)),"body"),o=(0,y.take)(n,{accessToken:y.expectString,expiresIn:y.expectInt32,idToken:y.expectString,refreshToken:y.expectString,tokenType:y.expectString});return Object.assign(r,o),r},j2=async(e,t)=>{let r={...e,body:await $p(e.body,t)},n=Vp(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await V2(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await z2(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await B2(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Up(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Jb(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await W2(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Hp(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Qb(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Zb(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await eR(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await Y2(r,t);default:let o=r.body;return Lp({output:e,parsedBody:o,errorCode:n})}},L2=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return U2(e,t);let r=(0,y.map)({$metadata:ve(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await sc(e.body,t)),"body"),o=(0,y.take)(n,{authorizationEndpoint:y.expectString,clientId:y.expectString,clientIdIssuedAt:y.expectLong,clientSecret:y.expectString,clientSecretExpiresAt:y.expectLong,tokenEndpoint:y.expectString});return Object.assign(r,o),r},U2=async(e,t)=>{let r={...e,body:await $p(e.body,t)},n=Vp(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Up(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await G2(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Hp(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Qb(r,t);default:let o=r.body;return Lp({output:e,parsedBody:o,errorCode:n})}},H2=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $2(e,t);let r=(0,y.map)({$metadata:ve(e)}),n=(0,y.expectNonNull)((0,y.expectObject)(await sc(e.body,t)),"body"),o=(0,y.take)(n,{deviceCode:y.expectString,expiresIn:y.expectInt32,interval:y.expectInt32,userCode:y.expectString,verificationUri:y.expectString,verificationUriComplete:y.expectString});return Object.assign(r,o),r},$2=async(e,t)=>{let r={...e,body:await $p(e.body,t)},n=Vp(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Up(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Jb(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Hp(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Zb(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await eR(r,t);default:let o=r.body;return Lp({output:e,parsedBody:o,errorCode:n})}},Lp=(0,y.withBaseException)(Re),V2=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new Ab({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},z2=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new Ib({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},B2=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new Db({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},Up=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new Mb({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},Jb=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new Fb({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},G2=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new D2({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},W2=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new N2({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},Hp=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new Ub({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},Qb=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new $b({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},Zb=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new zb({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},eR=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new Gb({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},Y2=async(e,t)=>{let r=(0,y.map)({}),n=e.body,o=(0,y.take)(n,{error:y.expectString,error_description:y.expectString});Object.assign(r,o);let s=new Yb({$metadata:ve(e),...r});return(0,y.decorateServiceException)(s,e.body)},ve=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"])!==null&&r!==void 0?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},K2=(e,t)=>(0,y.collectBody)(e,t).then(r=>t.utf8Encoder(r)),sc=(e,t)=>K2(e,t).then(r=>r.length?JSON.parse(r):{}),$p=async(e,t)=>{var r;let n=await sc(e,t);return n.message=(r=n.message)!==null&&r!==void 0?r:n.Message,n},Vp=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)},tR=class rR extends A2.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,O2.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,T2.getEndpointPlugin)(r,rR.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[x2.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"CreateToken"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return q2(t,r)}deserialize(t,r){return F2(t,r)}};$.CreateTokenCommand=tR;var X2=H(),J2=z(),Q2=S(),Z2=L(),eB=class nR extends Q2.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,J2.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,X2.getEndpointPlugin)(r,nR.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z2.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"RegisterClient"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return M2(t,r)}deserialize(t,r){return L2(t,r)}},tB=H(),rB=z(),nB=S(),oB=L(),sB=class oR extends nB.Command{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,n){this.middlewareStack.use((0,rB.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,tB.getEndpointPlugin)(r,oR.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[oB.SMITHY_CONTEXT_KEY]:{service:"AWSSSOOIDCService",operation:"StartDeviceAuthorization"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return k2(t,r)}deserialize(t,r){return H2(t,r)}},iB={CreateTokenCommand:tR,RegisterClientCommand:eB,StartDeviceAuthorizationCommand:sB},aB=class extends Tb{};(0,P2.createAggregatedClient)(iB,aB)});var ac=u(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.REFRESH_MESSAGE=Cn.EXPIRE_WINDOW_MS=void 0;Cn.EXPIRE_WINDOW_MS=5*60*1e3;Cn.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var sR=u(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.getSsoOidcClient=void 0;var cB=ic(),zp={},dB=e=>{if(zp[e])return zp[e];let t=new cB.SSOOIDCClient({region:e});return zp[e]=t,t};cc.getSsoOidcClient=dB});var iR=u(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getNewSsoOidcToken=void 0;var lB=ic(),uB=sR(),pB=(e,t)=>(0,uB.getSsoOidcClient)(t).send(new lB.CreateTokenCommand({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));dc.getNewSsoOidcToken=pB});var aR=u(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.validateTokenExpiry=void 0;var fB=X(),mB=ac(),_B=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new fB.TokenProviderError(`Token is expired. ${mB.REFRESH_MESSAGE}`,!1)};lc.validateTokenExpiry=_B});var cR=u(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.validateTokenKey=void 0;var gB=X(),hB=ac(),yB=(e,t,r=!1)=>{if(typeof t>"u")throw new gB.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${hB.REFRESH_MESSAGE}`,!1)};uc.validateTokenKey=yB});var dR=u(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.writeSSOTokenToFile=void 0;var vB=Ye(),EB=j("fs"),{writeFile:SB}=EB.promises,wB=(e,t)=>{let r=(0,vB.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return SB(r,n)};pc.writeSSOTokenToFile=wB});var Bp=u(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.fromSso=void 0;var os=X(),fc=Ye(),lR=ac(),bB=iR(),uR=aR(),Pr=cR(),RB=dR(),pR=new Date(0),CB=(e={})=>async()=>{let t=await(0,fc.parseKnownFiles)(e),r=(0,fc.getProfileName)(e),n=t[r];if(n){if(!n.sso_session)throw new os.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new os.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let o=n.sso_session,i=(await(0,fc.loadSsoSessionData)(e))[o];if(!i)throw new os.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let f of["sso_start_url","sso_region"])if(!i[f])throw new os.TokenProviderError(`Sso session '${o}' is missing required property '${f}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await(0,fc.getSSOTokenFromFile)(o)}catch{throw new os.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${lR.REFRESH_MESSAGE}`,!1)}(0,Pr.validateTokenKey)("accessToken",d.accessToken),(0,Pr.validateTokenKey)("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:p}=d,m={token:l,expiration:new Date(p)};if(m.expiration.getTime()-Date.now()>lR.EXPIRE_WINDOW_MS)return m;if(Date.now()-pR.getTime()<30*1e3)return(0,uR.validateTokenExpiry)(m),m;(0,Pr.validateTokenKey)("clientId",d.clientId,!0),(0,Pr.validateTokenKey)("clientSecret",d.clientSecret,!0),(0,Pr.validateTokenKey)("refreshToken",d.refreshToken,!0);try{pR.setTime(Date.now());let f=await(0,bB.getNewSsoOidcToken)(d,c);(0,Pr.validateTokenKey)("accessToken",f.accessToken),(0,Pr.validateTokenKey)("expiresIn",f.expiresIn);let _=new Date(Date.now()+f.expiresIn*1e3);try{await(0,RB.writeSSOTokenToFile)(o,{...d,accessToken:f.accessToken,expiresAt:_.toISOString(),refreshToken:f.refreshToken})}catch{}return{token:f.accessToken,expiration:_}}catch{return(0,uR.validateTokenExpiry)(m),m}};mc.fromSso=CB});var fR=u(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.fromStatic=void 0;var PB=X(),TB=({token:e})=>async()=>{if(!e||!e.token)throw new PB.TokenProviderError("Please pass a valid token to fromStatic",!1);return e};_c.fromStatic=TB});var mR=u(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.nodeProvider=void 0;var Gp=X(),OB=Bp(),AB=(e={})=>(0,Gp.memoize)((0,Gp.chain)((0,OB.fromSso)(e),async()=>{throw new Gp.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);gc.nodeProvider=AB});var _R=u(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var hc=(O(),C(T));hc.__exportStar(ic(),Pn);hc.__exportStar(Bp(),Pn);hc.__exportStar(fR(),Pn);hc.__exportStar(mR(),Pn)});var hR=u(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.resolveSSOCredentials=void 0;var gR=nb(),xB=_R(),ss=X(),IB=Ye(),is=!1,NB=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let h=await(0,xB.fromSso)({profile:i})();a={accessToken:h.token,expiresAt:new Date(h.expiration).toISOString()}}catch(h){throw new ss.CredentialsProviderError(h.message,is)}else try{a=await(0,IB.getSSOTokenFromFile)(e)}catch{throw new ss.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${c}`,is)}if(new Date(a.expiresAt).getTime()-Date.now()<=0)throw new ss.CredentialsProviderError(`The SSO session associated with this profile has expired. ${c}`,is);let{accessToken:d}=a,l=s||new gR.SSOClient({region:n}),p;try{p=await l.send(new gR.GetRoleCredentialsCommand({accountId:r,roleName:o,accessToken:d}))}catch(h){throw ss.CredentialsProviderError.from(h,is)}let{roleCredentials:{accessKeyId:m,secretAccessKey:f,sessionToken:_,expiration:v}={}}=p;if(!m||!f||!_||!v)throw new ss.CredentialsProviderError("SSO returns an invalid temporary credential.",is);return{accessKeyId:m,secretAccessKey:f,sessionToken:_,expiration:new Date(v)}};yc.resolveSSOCredentials=NB});var Wp=u(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.validateSsoProfile=void 0;var DB=X(),qB=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:o}=e;if(!t||!r||!n||!o)throw new DB.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};vc.validateSsoProfile=qB});var vR=u(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.fromSSO=void 0;var as=X(),Yp=Ye(),MB=lp(),yR=hR(),kB=Wp(),FB=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,ssoSession:i}=e,a=(0,Yp.getProfileName)(e);if(!t&&!r&&!n&&!o&&!i){let d=(await(0,Yp.parseKnownFiles)(e))[a];if(!d)throw new as.CredentialsProviderError(`Profile ${a} was not found.`);if(!(0,MB.isSsoProfile)(d))throw new as.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);if(d?.sso_session){let h=(await(0,Yp.loadSsoSessionData)(e))[d.sso_session],w=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==h.sso_region)throw new as.CredentialsProviderError("Conflicting SSO region"+w,!1);if(t&&t!==h.sso_start_url)throw new as.CredentialsProviderError("Conflicting SSO start_url"+w,!1);d.sso_region=h.sso_region,d.sso_start_url=h.sso_start_url}let{sso_start_url:l,sso_account_id:p,sso_region:m,sso_role_name:f,sso_session:_}=(0,kB.validateSsoProfile)(d);return(0,yR.resolveSSOCredentials)({ssoStartUrl:l,ssoSession:_,ssoAccountId:p,ssoRegion:m,ssoRoleName:f,ssoClient:s,profile:a})}else{if(!t||!r||!n||!o)throw new as.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,yR.resolveSSOCredentials)({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:o,ssoClient:s,profile:a})}};Ec.fromSSO=FB});var SR=u(ER=>{"use strict";Object.defineProperty(ER,"__esModule",{value:!0})});var wc=u(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var Sc=(O(),C(T));Sc.__exportStar(vR(),Tn);Sc.__exportStar(lp(),Tn);Sc.__exportStar(SR(),Tn);Sc.__exportStar(Wp(),Tn)});var bR=u(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.resolveSsoCredentials=On.isSsoProfile=void 0;var wR=wc(),jB=wc();Object.defineProperty(On,"isSsoProfile",{enumerable:!0,get:function(){return jB.isSsoProfile}});var LB=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:o,sso_role_name:s}=(0,wR.validateSsoProfile)(e);return(0,wR.fromSSO)({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:o,ssoRoleName:s})()};On.resolveSsoCredentials=LB});var RR=u(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.resolveStaticCredentials=An.isStaticCredsProfile=void 0;var UB=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1;An.isStaticCredsProfile=UB;var HB=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});An.resolveStaticCredentials=HB});var Kp=u(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.fromWebToken=void 0;var $B=X(),VB=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:o,policyArns:s,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new $B.CredentialsProviderError(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:o,PolicyArns:s,Policy:i,DurationSeconds:a})};bc.fromWebToken=VB});var CR=u(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.fromTokenFile=void 0;var zB=X(),BB=j("fs"),GB=Kp(),WB="AWS_WEB_IDENTITY_TOKEN_FILE",YB="AWS_ROLE_ARN",KB="AWS_ROLE_SESSION_NAME",XB=(e={})=>async()=>{var t,r,n;let o=(t=e?.webIdentityTokenFile)!==null&&t!==void 0?t:process.env[WB],s=(r=e?.roleArn)!==null&&r!==void 0?r:process.env[YB],i=(n=e?.roleSessionName)!==null&&n!==void 0?n:process.env[KB];if(!o||!s)throw new zB.CredentialsProviderError("Web identity configuration not specified");return(0,GB.fromWebToken)({...e,webIdentityToken:(0,BB.readFileSync)(o,{encoding:"ascii"}),roleArn:s,roleSessionName:i})()};Rc.fromTokenFile=XB});var Xp=u(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});var PR=(O(),C(T));PR.__exportStar(CR(),Cc);PR.__exportStar(Kp(),Cc)});var TR=u(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.resolveWebIdentityCredentials=xn.isWebIdentityProfile=void 0;var JB=Xp(),QB=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1;xn.isWebIdentityProfile=QB;var ZB=async(e,t)=>(0,JB.fromTokenFile)({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();xn.resolveWebIdentityCredentials=ZB});var ip=u(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.resolveProfileData=void 0;var eG=X(),OR=C0(),AR=x0(),xR=bR(),Pc=RR(),IR=TR(),tG=async(e,t,r,n={})=>{let o=t[e];if(Object.keys(n).length>0&&(0,Pc.isStaticCredsProfile)(o))return(0,Pc.resolveStaticCredentials)(o);if((0,OR.isAssumeRoleProfile)(o))return(0,OR.resolveAssumeRoleCredentials)(e,t,r,n);if((0,Pc.isStaticCredsProfile)(o))return(0,Pc.resolveStaticCredentials)(o);if((0,IR.isWebIdentityProfile)(o))return(0,IR.resolveWebIdentityCredentials)(o,r);if((0,AR.isProcessProfile)(o))return(0,AR.resolveProcessCredentials)(r,e);if((0,xR.isSsoProfile)(o))return(0,xR.resolveSsoCredentials)(o);throw new eG.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)};Tc.resolveProfileData=tG});var DR=u(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.fromIni=void 0;var NR=Ye(),rG=ip(),nG=(e={})=>async()=>{let t=await(0,NR.parseKnownFiles)(e);return(0,rG.resolveProfileData)((0,NR.getProfileName)(e),t,e)};Oc.fromIni=nG});var qR=u(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var oG=(O(),C(T));oG.__exportStar(DR(),Jp)});var MR=u(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.remoteProvider=Tr.ENV_IMDS_DISABLED=void 0;var Ac=_a(),sG=X();Tr.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var iG=e=>process.env[Ac.ENV_CMDS_RELATIVE_URI]||process.env[Ac.ENV_CMDS_FULL_URI]?(0,Ac.fromContainerMetadata)(e):process.env[Tr.ENV_IMDS_DISABLED]?async()=>{throw new sG.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,Ac.fromInstanceMetadata)(e);Tr.remoteProvider=iG});var kR=u(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.defaultProvider=void 0;var aG=Zu(),cG=qR(),dG=dp(),lG=wc(),uG=Xp(),Qp=X(),pG=Ye(),fG=MR(),mG=(e={})=>(0,Qp.memoize)((0,Qp.chain)(...e.profile||process.env[pG.ENV_PROFILE]?[]:[(0,aG.fromEnv)()],(0,lG.fromSSO)(e),(0,cG.fromIni)(e),(0,dG.fromProcess)(e),(0,uG.fromTokenFile)(e),(0,fG.remoteProvider)(e),async()=>{throw new Qp.CredentialsProviderError("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);xc.defaultProvider=mG});var ef=u(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});var _G=(O(),C(T));_G.__exportStar(kR(),Zp)});var oC=u(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.ruleSet=void 0;var YR="required",A="type",k="fn",F="argv",ir="ref",FR=!1,tf=!0,sr="booleanEquals",le="stringEquals",KR="sigv4",XR="sts",JR="us-east-1",W="endpoint",jR="https://sts.{Region}.{PartitionResult#dnsSuffix}",dt="tree",In="error",nf="getAttr",LR={[YR]:!1,[A]:"String"},rf={[YR]:!0,default:!1,[A]:"Boolean"},QR={[ir]:"Endpoint"},UR={[k]:"isSet",[F]:[{[ir]:"Region"}]},ue={[ir]:"Region"},HR={[k]:"aws.partition",[F]:[ue],assign:"PartitionResult"},ZR={[ir]:"UseFIPS"},eC={[ir]:"UseDualStack"},ge={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:KR,signingName:XR,signingRegion:JR}]},headers:{}},Ce={},$R={conditions:[{[k]:le,[F]:[ue,"aws-global"]}],[W]:ge,[A]:W},tC={[k]:sr,[F]:[ZR,!0]},rC={[k]:sr,[F]:[eC,!0]},VR={[k]:nf,[F]:[{[ir]:"PartitionResult"},"supportsFIPS"]},nC={[ir]:"PartitionResult"},zR={[k]:sr,[F]:[!0,{[k]:nf,[F]:[nC,"supportsDualStack"]}]},BR=[{[k]:"isSet",[F]:[QR]}],GR=[tC],WR=[rC],gG={version:"1.0",parameters:{Region:LR,UseDualStack:rf,UseFIPS:rf,Endpoint:LR,UseGlobalEndpoint:rf},rules:[{conditions:[{[k]:sr,[F]:[{[ir]:"UseGlobalEndpoint"},tf]},{[k]:"not",[F]:BR},UR,HR,{[k]:sr,[F]:[ZR,FR]},{[k]:sr,[F]:[eC,FR]}],rules:[{conditions:[{[k]:le,[F]:[ue,"ap-northeast-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"ap-south-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"ap-southeast-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"ap-southeast-2"]}],endpoint:ge,[A]:W},$R,{conditions:[{[k]:le,[F]:[ue,"ca-central-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"eu-central-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"eu-north-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"eu-west-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"eu-west-2"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"eu-west-3"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"sa-east-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,JR]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"us-east-2"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"us-west-1"]}],endpoint:ge,[A]:W},{conditions:[{[k]:le,[F]:[ue,"us-west-2"]}],endpoint:ge,[A]:W},{endpoint:{url:jR,properties:{authSchemes:[{name:KR,signingName:XR,signingRegion:"{Region}"}]},headers:Ce},[A]:W}],[A]:dt},{conditions:BR,rules:[{conditions:GR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[A]:In},{conditions:WR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[A]:In},{endpoint:{url:QR,properties:Ce,headers:Ce},[A]:W}],[A]:dt},{conditions:[UR],rules:[{conditions:[HR],rules:[{conditions:[tC,rC],rules:[{conditions:[{[k]:sr,[F]:[tf,VR]},zR],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ce,headers:Ce},[A]:W}],[A]:dt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[A]:In}],[A]:dt},{conditions:GR,rules:[{conditions:[{[k]:sr,[F]:[VR,tf]}],rules:[{conditions:[{[k]:le,[F]:[{[k]:nf,[F]:[nC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ce,headers:Ce},[A]:W},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ce,headers:Ce},[A]:W}],[A]:dt},{error:"FIPS is enabled but this partition does not support FIPS",[A]:In}],[A]:dt},{conditions:WR,rules:[{conditions:[zR],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ce,headers:Ce},[A]:W}],[A]:dt},{error:"DualStack is enabled but this partition does not support DualStack",[A]:In}],[A]:dt},$R,{endpoint:{url:jR,properties:Ce,headers:Ce},[A]:W}],[A]:dt}],[A]:dt},{error:"Invalid Configuration: Missing Region",[A]:In}]};Ic.ruleSet=gG});var sC=u(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.defaultEndpointResolver=void 0;var hG=rt(),yG=oC(),vG=(e,t={})=>(0,hG.resolveEndpoint)(yG.ruleSet,{endpointParams:e,logger:t.logger});Nc.defaultEndpointResolver=vG});var cC=u(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.getRuntimeConfig=void 0;var EG=br(),SG=yt(),wG=S(),bG=vr(),iC=zr(),aC=Ie(),RG=Zl(),CG=sC(),PG=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??iC.fromBase64,base64Encoder:e?.base64Encoder??iC.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??CG.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??RG.defaultSTSHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new EG.AWSSDKSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new SG.NoAuthSigner}],logger:e?.logger??new wG.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??bG.parseUrl,utf8Decoder:e?.utf8Decoder??aC.fromUtf8,utf8Encoder:e?.utf8Encoder??aC.toUtf8});Dc.getRuntimeConfig=PG});var mC=u(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.getRuntimeConfig=void 0;var TG=(O(),C(T)),OG=TG.__importDefault(yS()),dC=Ju(),lC=br(),uC=ef(),AG=Bo(),qc=ot(),xG=yt(),IG=Go(),pC=it(),cs=ht(),fC=Br(),NG=Wo(),DG=Vr(),qG=cC(),MG=S(),kG=Xo(),FG=S(),jG=e=>{(0,FG.emitWarningIfUnsupportedVersion)(process.version);let t=(0,kG.resolveDefaultsModeConfig)(e),r=()=>t().then(MG.loadConfigsForDefaultMode),n=(0,qG.getRuntimeConfig)(e);return(0,lC.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??NG.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,dC.decorateDefaultCredentialProvider)(uC.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,AG.defaultUserAgent)({serviceId:n.serviceId,clientVersion:OG.default.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async s=>await(0,dC.decorateDefaultCredentialProvider)(uC.defaultProvider)(s?.__config||{})()),signer:new lC.AWSSDKSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new xG.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,cs.loadConfig)(pC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,cs.loadConfig)(qc.NODE_REGION_CONFIG_OPTIONS,qc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new fC.NodeHttpHandler(r),retryMode:e?.retryMode??(0,cs.loadConfig)({...pC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||DG.DEFAULT_RETRY_MODE}),sha256:e?.sha256??IG.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??fC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,cs.loadConfig)(qc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,cs.loadConfig)(qc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};Mc.getRuntimeConfig=jG});var _C=u(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.resolveHttpAuthRuntimeConfig=Nn.getHttpAuthExtensionConfiguration=void 0;var LG=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(o){let s=t.findIndex(i=>i.schemeId===o.schemeId);s===-1?t.push(o):t.splice(s,1,o)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(o){r=o},httpAuthSchemeProvider(){return r},setCredentials(o){n=o},credentials(){return n}}};Nn.getHttpAuthExtensionConfiguration=LG;var UG=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});Nn.resolveHttpAuthRuntimeConfig=UG});var EC=u(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.resolveRuntimeExtensions=void 0;var gC=Qo(),hC=ce(),yC=S(),vC=_C(),kc=e=>e,HG=(e,t)=>{let r={...kc((0,gC.getAwsRegionExtensionConfiguration)(e)),...kc((0,yC.getDefaultExtensionConfiguration)(e)),...kc((0,hC.getHttpHandlerExtensionConfiguration)(e)),...kc((0,vC.getHttpAuthExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,gC.resolveAwsRegionExtensionConfiguration)(r),...(0,yC.resolveDefaultRuntimeConfig)(r),...(0,hC.resolveHttpHandlerRuntimeConfig)(r),...(0,vC.resolveHttpAuthRuntimeConfig)(r)}};Fc.resolveRuntimeExtensions=HG});var Uo=u(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.STSClient=Dn.__Client=void 0;var SC=lo(),$G=uo(),VG=po(),wC=yo(),zG=ot(),of=yt(),BG=vo(),GG=H(),bC=it(),CC=S();Object.defineProperty(Dn,"__Client",{enumerable:!0,get:function(){return CC.Client}});var RC=Zl(),WG=hS(),YG=mC(),KG=EC(),sf=class extends CC.Client{getDefaultHttpAuthSchemeParametersProvider(){return RC.defaultSTSHttpAuthSchemeParametersProvider}getIdentityProviderConfigProvider(){return async t=>new of.DefaultIdentityProviderConfig({"aws.auth#sigv4":t.credentials})}constructor(...[t]){let r=(0,YG.getRuntimeConfig)(t||{}),n=(0,WG.resolveClientEndpointParameters)(r),o=(0,zG.resolveRegionConfig)(n),s=(0,GG.resolveEndpointConfig)(o),i=(0,bC.resolveRetryConfig)(s),a=(0,SC.resolveHostHeaderConfig)(i),c=(0,wC.resolveUserAgentConfig)(a),d=(0,RC.resolveHttpAuthSchemeConfig)(c),l=(0,KG.resolveRuntimeExtensions)(d,t?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,bC.getRetryPlugin)(this.config)),this.middlewareStack.use((0,BG.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,SC.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,$G.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,VG.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,wC.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,of.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,of.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}};Dn.STSClient=sf});var cf=u(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.AssumeRoleWithSAMLCommand=qn.$Command=void 0;var XG=H(),JG=z(),OC=S();Object.defineProperty(qn,"$Command",{enumerable:!0,get:function(){return OC.Command}});var QG=L(),PC=Gt(),TC=Rt(),af=class e extends OC.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,JG.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,XG.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:PC.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:PC.AssumeRoleWithSAMLResponseFilterSensitiveLog,[QG.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithSAML"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,TC.se_AssumeRoleWithSAMLCommand)(t,r)}deserialize(t,r){return(0,TC.de_AssumeRoleWithSAMLCommand)(t,r)}};qn.AssumeRoleWithSAMLCommand=af});var lf=u(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.DecodeAuthorizationMessageCommand=Mn.$Command=void 0;var ZG=H(),e3=z(),xC=S();Object.defineProperty(Mn,"$Command",{enumerable:!0,get:function(){return xC.Command}});var t3=L(),AC=Rt(),df=class e extends xC.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,e3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ZG.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[t3.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"DecodeAuthorizationMessage"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,AC.se_DecodeAuthorizationMessageCommand)(t,r)}deserialize(t,r){return(0,AC.de_DecodeAuthorizationMessageCommand)(t,r)}};Mn.DecodeAuthorizationMessageCommand=df});var pf=u(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.GetAccessKeyInfoCommand=kn.$Command=void 0;var r3=H(),n3=z(),NC=S();Object.defineProperty(kn,"$Command",{enumerable:!0,get:function(){return NC.Command}});var o3=L(),IC=Rt(),uf=class e extends NC.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,n3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,r3.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[o3.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetAccessKeyInfo"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,IC.se_GetAccessKeyInfoCommand)(t,r)}deserialize(t,r){return(0,IC.de_GetAccessKeyInfoCommand)(t,r)}};kn.GetAccessKeyInfoCommand=uf});var mf=u(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.GetCallerIdentityCommand=Fn.$Command=void 0;var s3=H(),i3=z(),qC=S();Object.defineProperty(Fn,"$Command",{enumerable:!0,get:function(){return qC.Command}});var a3=L(),DC=Rt(),ff=class e extends qC.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,i3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,s3.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[a3.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetCallerIdentity"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,DC.se_GetCallerIdentityCommand)(t,r)}deserialize(t,r){return(0,DC.de_GetCallerIdentityCommand)(t,r)}};Fn.GetCallerIdentityCommand=ff});var gf=u(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.GetFederationTokenCommand=jn.$Command=void 0;var c3=H(),d3=z(),kC=S();Object.defineProperty(jn,"$Command",{enumerable:!0,get:function(){return kC.Command}});var l3=L(),u3=Gt(),MC=Rt(),_f=class e extends kC.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,d3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,c3.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:u3.GetFederationTokenResponseFilterSensitiveLog,[l3.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetFederationToken"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,MC.se_GetFederationTokenCommand)(t,r)}deserialize(t,r){return(0,MC.de_GetFederationTokenCommand)(t,r)}};jn.GetFederationTokenCommand=_f});var yf=u(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.GetSessionTokenCommand=Ln.$Command=void 0;var p3=H(),f3=z(),jC=S();Object.defineProperty(Ln,"$Command",{enumerable:!0,get:function(){return jC.Command}});var m3=L(),_3=Gt(),FC=Rt(),hf=class e extends jC.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,f3.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,p3.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:_3.GetSessionTokenResponseFilterSensitiveLog,[m3.SMITHY_CONTEXT_KEY]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetSessionToken"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,FC.se_GetSessionTokenCommand)(t,r)}deserialize(t,r){return(0,FC.de_GetSessionTokenCommand)(t,r)}};Ln.GetSessionTokenCommand=hf});var LC=u(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.STS=void 0;var g3=S(),h3=la(),y3=cf(),v3=ua(),E3=lf(),S3=pf(),w3=mf(),b3=gf(),R3=yf(),C3=Uo(),P3={AssumeRoleCommand:h3.AssumeRoleCommand,AssumeRoleWithSAMLCommand:y3.AssumeRoleWithSAMLCommand,AssumeRoleWithWebIdentityCommand:v3.AssumeRoleWithWebIdentityCommand,DecodeAuthorizationMessageCommand:E3.DecodeAuthorizationMessageCommand,GetAccessKeyInfoCommand:S3.GetAccessKeyInfoCommand,GetCallerIdentityCommand:w3.GetCallerIdentityCommand,GetFederationTokenCommand:b3.GetFederationTokenCommand,GetSessionTokenCommand:R3.GetSessionTokenCommand},jc=class extends C3.STSClient{};Lc.STS=jc;(0,g3.createAggregatedClient)(P3,jc)});var UC=u(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});var ar=(O(),C(T));ar.__exportStar(la(),lt);ar.__exportStar(cf(),lt);ar.__exportStar(ua(),lt);ar.__exportStar(lf(),lt);ar.__exportStar(pf(),lt);ar.__exportStar(mf(),lt);ar.__exportStar(gf(),lt);ar.__exportStar(yf(),lt)});var HC=u(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});var T3=(O(),C(T));T3.__exportStar(Gt(),vf)});var BC=u(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.decorateDefaultCredentialProvider=ut.getDefaultRoleAssumerWithWebIdentity=ut.getDefaultRoleAssumer=void 0;var $C=Ju(),VC=Uo(),zC=(e,t)=>t?class extends e{constructor(n){super(n);for(let o of t)this.middlewareStack.use(o)}}:e,O3=(e={},t)=>(0,$C.getDefaultRoleAssumer)(e,zC(VC.STSClient,t));ut.getDefaultRoleAssumer=O3;var A3=(e={},t)=>(0,$C.getDefaultRoleAssumerWithWebIdentity)(e,zC(VC.STSClient,t));ut.getDefaultRoleAssumerWithWebIdentity=A3;var x3=e=>t=>e({roleAssumer:(0,ut.getDefaultRoleAssumer)(t),roleAssumerWithWebIdentity:(0,ut.getDefaultRoleAssumerWithWebIdentity)(t),...t});ut.decorateDefaultCredentialProvider=x3});var GC=u(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.STSServiceException=void 0;var ds=(O(),C(T));ds.__exportStar(Uo(),Ot);ds.__exportStar(LC(),Ot);ds.__exportStar(UC(),Ot);ds.__exportStar(HC(),Ot);ho();ds.__exportStar(BC(),Ot);var I3=sa();Object.defineProperty(Ot,"STSServiceException",{enumerable:!0,get:function(){return I3.STSServiceException}})});var iP=u(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.ruleSet=void 0;var nP="required",ft="fn",mt="argv",Hn="ref",WC=!0,YC="isSet",us="booleanEquals",Un="error",ls="endpoint",At="tree",Ef="PartitionResult",KC={[nP]:!1,type:"String"},XC={[nP]:!0,default:!1,type:"Boolean"},JC={[Hn]:"Endpoint"},oP={[ft]:us,[mt]:[{[Hn]:"UseFIPS"},!0]},sP={[ft]:us,[mt]:[{[Hn]:"UseDualStack"},!0]},pt={},QC={[ft]:"getAttr",[mt]:[{[Hn]:Ef},"supportsFIPS"]},ZC={[ft]:us,[mt]:[!0,{[ft]:"getAttr",[mt]:[{[Hn]:Ef},"supportsDualStack"]}]},eP=[oP],tP=[sP],rP=[{[Hn]:"Region"}],N3={version:"1.0",parameters:{Region:KC,UseDualStack:XC,UseFIPS:XC,Endpoint:KC},rules:[{conditions:[{[ft]:YC,[mt]:[JC]}],rules:[{conditions:eP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Un},{conditions:tP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Un},{endpoint:{url:JC,properties:pt,headers:pt},type:ls}],type:At},{conditions:[{[ft]:YC,[mt]:rP}],rules:[{conditions:[{[ft]:"aws.partition",[mt]:rP,assign:Ef}],rules:[{conditions:[oP,sP],rules:[{conditions:[{[ft]:us,[mt]:[WC,QC]},ZC],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},type:ls}],type:At},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Un}],type:At},{conditions:eP,rules:[{conditions:[{[ft]:us,[mt]:[QC,WC]}],rules:[{endpoint:{url:"https://rds-data-fips.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},type:ls}],type:At},{error:"FIPS is enabled but this partition does not support FIPS",type:Un}],type:At},{conditions:tP,rules:[{conditions:[ZC],rules:[{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pt,headers:pt},type:ls}],type:At},{error:"DualStack is enabled but this partition does not support DualStack",type:Un}],type:At},{endpoint:{url:"https://rds-data.{Region}.{PartitionResult#dnsSuffix}",properties:pt,headers:pt},type:ls}],type:At}],type:At},{error:"Invalid Configuration: Missing Region",type:Un}]};Uc.ruleSet=N3});var aP=u(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.defaultEndpointResolver=void 0;var D3=rt(),q3=iP(),M3=(e,t={})=>(0,D3.resolveEndpoint)(q3.ruleSet,{endpointParams:e,logger:t.logger});Hc.defaultEndpointResolver=M3});var lP=u($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.getRuntimeConfig=void 0;var k3=S(),F3=vr(),cP=zr(),dP=Ie(),j3=aP(),L3=e=>({apiVersion:"2018-08-01",base64Decoder:e?.base64Decoder??cP.fromBase64,base64Encoder:e?.base64Encoder??cP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??j3.defaultEndpointResolver,extensions:e?.extensions??[],logger:e?.logger??new k3.NoOpLogger,serviceId:e?.serviceId??"RDS Data",urlParser:e?.urlParser??F3.parseUrl,utf8Decoder:e?.utf8Decoder??dP.fromUtf8,utf8Encoder:e?.utf8Encoder??dP.toUtf8});$c.getRuntimeConfig=L3});var fP=u(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.getRuntimeConfig=void 0;var U3=(O(),C(T)),H3=U3.__importDefault(xE()),$3=GC(),V3=br(),z3=ef(),B3=Bo(),Vc=ot(),G3=Go(),uP=it(),ps=ht(),pP=Br(),W3=Wo(),Y3=Vr(),K3=lP(),X3=S(),J3=Xo(),Q3=S(),Z3=e=>{(0,Q3.emitWarningIfUnsupportedVersion)(process.version);let t=(0,J3.resolveDefaultsModeConfig)(e),r=()=>t().then(X3.loadConfigsForDefaultMode),n=(0,K3.getRuntimeConfig)(e);return(0,V3.emitWarningIfUnsupportedVersion)(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??W3.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??(0,$3.decorateDefaultCredentialProvider)(z3.defaultProvider),defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,B3.defaultUserAgent)({serviceId:n.serviceId,clientVersion:H3.default.version}),maxAttempts:e?.maxAttempts??(0,ps.loadConfig)(uP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:e?.region??(0,ps.loadConfig)(Vc.NODE_REGION_CONFIG_OPTIONS,Vc.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:e?.requestHandler??new pP.NodeHttpHandler(r),retryMode:e?.retryMode??(0,ps.loadConfig)({...uP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Y3.DEFAULT_RETRY_MODE}),sha256:e?.sha256??G3.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??pP.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ps.loadConfig)(Vc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:e?.useFipsEndpoint??(0,ps.loadConfig)(Vc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};zc.getRuntimeConfig=Z3});var hP=u(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.resolveRuntimeExtensions=void 0;var mP=Qo(),_P=ce(),gP=S(),Sf=e=>e,eW=(e,t)=>{let r={...Sf((0,mP.getAwsRegionExtensionConfiguration)(e)),...Sf((0,gP.getDefaultExtensionConfiguration)(e)),...Sf((0,_P.getHttpHandlerExtensionConfiguration)(e))};return t.forEach(n=>n.configure(r)),{...e,...(0,mP.resolveAwsRegionExtensionConfiguration)(r),...(0,gP.resolveDefaultRuntimeConfig)(r),...(0,_P.resolveHttpHandlerRuntimeConfig)(r)}};Bc.resolveRuntimeExtensions=eW});var bf=u($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.RDSDataClient=$n.__Client=void 0;var yP=lo(),tW=uo(),rW=po(),vP=Ag(),EP=yo(),nW=ot(),oW=vo(),sW=H(),SP=it(),wP=S();Object.defineProperty($n,"__Client",{enumerable:!0,get:function(){return wP.Client}});var iW=AE(),aW=fP(),cW=hP(),wf=class extends wP.Client{constructor(...[t]){let r=(0,aW.getRuntimeConfig)(t||{}),n=(0,iW.resolveClientEndpointParameters)(r),o=(0,nW.resolveRegionConfig)(n),s=(0,sW.resolveEndpointConfig)(o),i=(0,SP.resolveRetryConfig)(s),a=(0,yP.resolveHostHeaderConfig)(i),c=(0,vP.resolveAwsAuthConfig)(a),d=(0,EP.resolveUserAgentConfig)(c),l=(0,cW.resolveRuntimeExtensions)(d,t?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,SP.getRetryPlugin)(this.config)),this.middlewareStack.use((0,oW.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,yP.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,tW.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,rW.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,vP.getAwsAuthPlugin)(this.config)),this.middlewareStack.use((0,EP.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};$n.RDSDataClient=wf});var Gc=u(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.RDSDataServiceException=Vn.__ServiceException=void 0;var bP=S();Object.defineProperty(Vn,"__ServiceException",{enumerable:!0,get:function(){return bP.ServiceException}});var Rf=class e extends bP.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};Vn.RDSDataServiceException=Rf});var Nf=u(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.Value=D.Field=D.ArrayValue=D.LongReturnType=D.RecordsFormatType=D.DecimalReturnType=D.NotFoundException=D.StatementTimeoutException=D.ServiceUnavailableError=D.InternalServerErrorException=D.ForbiddenException=D.TypeHint=D.BadRequestException=D.AccessDeniedException=void 0;var Or=Gc(),Cf=class e extends Or.RDSDataServiceException{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};D.AccessDeniedException=Cf;var Pf=class e extends Or.RDSDataServiceException{constructor(t){super({name:"BadRequestException",$fault:"client",...t}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};D.BadRequestException=Pf;D.TypeHint={DATE:"DATE",DECIMAL:"DECIMAL",JSON:"JSON",TIME:"TIME",TIMESTAMP:"TIMESTAMP",UUID:"UUID"};var Tf=class e extends Or.RDSDataServiceException{constructor(t){super({name:"ForbiddenException",$fault:"client",...t}),this.name="ForbiddenException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};D.ForbiddenException=Tf;var Of=class e extends Or.RDSDataServiceException{constructor(t){super({name:"InternalServerErrorException",$fault:"server",...t}),this.name="InternalServerErrorException",this.$fault="server",Object.setPrototypeOf(this,e.prototype)}};D.InternalServerErrorException=Of;var Af=class e extends Or.RDSDataServiceException{constructor(t){super({name:"ServiceUnavailableError",$fault:"server",...t}),this.name="ServiceUnavailableError",this.$fault="server",Object.setPrototypeOf(this,e.prototype)}};D.ServiceUnavailableError=Af;var xf=class e extends Or.RDSDataServiceException{constructor(t){super({name:"StatementTimeoutException",$fault:"client",...t}),this.name="StatementTimeoutException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.dbConnectionId=t.dbConnectionId}};D.StatementTimeoutException=xf;var If=class e extends Or.RDSDataServiceException{constructor(t){super({name:"NotFoundException",$fault:"client",...t}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};D.NotFoundException=If;D.DecimalReturnType={DOUBLE_OR_LONG:"DOUBLE_OR_LONG",STRING:"STRING"};D.RecordsFormatType={JSON:"JSON",NONE:"NONE"};D.LongReturnType={LONG:"LONG",STRING:"STRING"};var dW;(function(e){e.visit=(t,r)=>t.booleanValues!==void 0?r.booleanValues(t.booleanValues):t.longValues!==void 0?r.longValues(t.longValues):t.doubleValues!==void 0?r.doubleValues(t.doubleValues):t.stringValues!==void 0?r.stringValues(t.stringValues):t.arrayValues!==void 0?r.arrayValues(t.arrayValues):r._(t.$unknown[0],t.$unknown[1])})(dW=D.ArrayValue||(D.ArrayValue={}));var lW;(function(e){e.visit=(t,r)=>t.isNull!==void 0?r.isNull(t.isNull):t.booleanValue!==void 0?r.booleanValue(t.booleanValue):t.longValue!==void 0?r.longValue(t.longValue):t.doubleValue!==void 0?r.doubleValue(t.doubleValue):t.stringValue!==void 0?r.stringValue(t.stringValue):t.blobValue!==void 0?r.blobValue(t.blobValue):t.arrayValue!==void 0?r.arrayValue(t.arrayValue):r._(t.$unknown[0],t.$unknown[1])})(lW=D.Field||(D.Field={}));var uW;(function(e){e.visit=(t,r)=>t.isNull!==void 0?r.isNull(t.isNull):t.bitValue!==void 0?r.bitValue(t.bitValue):t.bigIntValue!==void 0?r.bigIntValue(t.bigIntValue):t.intValue!==void 0?r.intValue(t.intValue):t.doubleValue!==void 0?r.doubleValue(t.doubleValue):t.realValue!==void 0?r.realValue(t.realValue):t.stringValue!==void 0?r.stringValue(t.stringValue):t.blobValue!==void 0?r.blobValue(t.blobValue):t.arrayValues!==void 0?r.arrayValues(t.arrayValues):t.structValue!==void 0?r.structValue(t.structValue):r._(t.$unknown[0],t.$unknown[1])})(uW=D.Value||(D.Value={}))});var xr=u(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.de_RollbackTransactionCommand=V.de_ExecuteStatementCommand=V.de_ExecuteSqlCommand=V.de_CommitTransactionCommand=V.de_BeginTransactionCommand=V.de_BatchExecuteStatementCommand=V.se_RollbackTransactionCommand=V.se_ExecuteStatementCommand=V.se_ExecuteSqlCommand=V.se_CommitTransactionCommand=V.se_BeginTransactionCommand=V.se_BatchExecuteStatementCommand=void 0;var fs=br(),zn=yt(),g=S(),xt=Nf(),pW=Gc(),fW=async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/BatchExecute");let o;return o=JSON.stringify((0,g.take)(e,{database:[],parameterSets:s=>MW(s,t),resourceArn:[],schema:[],secretArn:[],sql:[],transactionId:[]})),r.m("POST").h(n).b(o),r.build()};V.se_BatchExecuteStatementCommand=fW;var mW=async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/BeginTransaction");let o;return o=JSON.stringify((0,g.take)(e,{database:[],resourceArn:[],schema:[],secretArn:[]})),r.m("POST").h(n).b(o),r.build()};V.se_BeginTransactionCommand=mW;var _W=async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/CommitTransaction");let o;return o=JSON.stringify((0,g.take)(e,{resourceArn:[],secretArn:[],transactionId:[]})),r.m("POST").h(n).b(o),r.build()};V.se_CommitTransactionCommand=_W;var gW=async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/ExecuteSql");let o;return o=JSON.stringify((0,g.take)(e,{awsSecretStoreArn:[],database:[],dbClusterOrInstanceArn:[],schema:[],sqlStatements:[]})),r.m("POST").h(n).b(o),r.build()};V.se_ExecuteSqlCommand=gW;var hW=async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/Execute");let o;return o=JSON.stringify((0,g.take)(e,{continueAfterTimeout:[],database:[],formatRecordsAs:[],includeResultMetadata:[],parameters:s=>PP(s,t),resourceArn:[],resultSetOptions:s=>(0,g._json)(s),schema:[],secretArn:[],sql:[],transactionId:[]})),r.m("POST").h(n).b(o),r.build()};V.se_ExecuteStatementCommand=hW;var yW=async(e,t)=>{let r=(0,zn.requestBuilder)(e,t),n={"content-type":"application/json"};r.bp("/RollbackTransaction");let o;return o=JSON.stringify((0,g.take)(e,{resourceArn:[],secretArn:[],transactionId:[]})),r.m("POST").h(n).b(o),r.build()};V.se_RollbackTransactionCommand=yW;var vW=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return EW(e,t);let r=(0,g.map)({$metadata:Pe(e)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Ar(e.body,t)),"body"),o=(0,g.take)(n,{updateResults:s=>YW(s,t)});return Object.assign(r,o),r};V.de_BatchExecuteStatementCommand=vW;var EW=async(e,t)=>{let r={...e,body:await Jn(e.body,t)},n=Qn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Gn(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await Wn(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await Yn(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Kn(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Xn(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ms(r,t);default:let o=r.body;return Bn({output:e,parsedBody:o,errorCode:n})}},SW=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wW(e,t);let r=(0,g.map)({$metadata:Pe(e)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Ar(e.body,t)),"body"),o=(0,g.take)(n,{transactionId:g.expectString});return Object.assign(r,o),r};V.de_BeginTransactionCommand=SW;var wW=async(e,t)=>{let r={...e,body:await Jn(e.body,t)},n=Qn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Gn(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await Wn(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await Yn(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Kn(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Xn(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ms(r,t);default:let o=r.body;return Bn({output:e,parsedBody:o,errorCode:n})}},bW=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return RW(e,t);let r=(0,g.map)({$metadata:Pe(e)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Ar(e.body,t)),"body"),o=(0,g.take)(n,{transactionStatus:g.expectString});return Object.assign(r,o),r};V.de_CommitTransactionCommand=bW;var RW=async(e,t)=>{let r={...e,body:await Jn(e.body,t)},n=Qn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Gn(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await Wn(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await Yn(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Kn(r,t);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await RP(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Xn(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ms(r,t);default:let o=r.body;return Bn({output:e,parsedBody:o,errorCode:n})}},CW=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return PW(e,t);let r=(0,g.map)({$metadata:Pe(e)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Ar(e.body,t)),"body"),o=(0,g.take)(n,{sqlStatementResults:s=>BW(s,t)});return Object.assign(r,o),r};V.de_ExecuteSqlCommand=CW;var PW=async(e,t)=>{let r={...e,body:await Jn(e.body,t)},n=Qn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Gn(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await Wn(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await Yn(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Kn(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Xn(r,t);default:let o=r.body;return Bn({output:e,parsedBody:o,errorCode:n})}},TW=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return OW(e,t);let r=(0,g.map)({$metadata:Pe(e)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Ar(e.body,t)),"body"),o=(0,g.take)(n,{columnMetadata:g._json,formattedRecords:g.expectString,generatedFields:s=>Df(s,t),numberOfRecordsUpdated:g.expectLong,records:s=>VW(s,t)});return Object.assign(r,o),r};V.de_ExecuteStatementCommand=TW;var OW=async(e,t)=>{let r={...e,body:await Jn(e.body,t)},n=Qn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Gn(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await Wn(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await Yn(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Kn(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Xn(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ms(r,t);default:let o=r.body;return Bn({output:e,parsedBody:o,errorCode:n})}},AW=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return xW(e,t);let r=(0,g.map)({$metadata:Pe(e)}),n=(0,g.expectNonNull)((0,g.expectObject)(await Ar(e.body,t)),"body"),o=(0,g.take)(n,{transactionStatus:g.expectString});return Object.assign(r,o),r};V.de_RollbackTransactionCommand=AW;var xW=async(e,t)=>{let r={...e,body:await Jn(e.body,t)},n=Qn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.rdsdata#AccessDeniedException":throw await Gn(r,t);case"BadRequestException":case"com.amazonaws.rdsdata#BadRequestException":throw await Wn(r,t);case"ForbiddenException":case"com.amazonaws.rdsdata#ForbiddenException":throw await Yn(r,t);case"InternalServerErrorException":case"com.amazonaws.rdsdata#InternalServerErrorException":throw await Kn(r,t);case"NotFoundException":case"com.amazonaws.rdsdata#NotFoundException":throw await RP(r,t);case"ServiceUnavailableError":case"com.amazonaws.rdsdata#ServiceUnavailableError":throw await Xn(r,t);case"StatementTimeoutException":case"com.amazonaws.rdsdata#StatementTimeoutException":throw await ms(r,t);default:let o=r.body;return Bn({output:e,parsedBody:o,errorCode:n})}},Bn=(0,g.withBaseException)(pW.RDSDataServiceException),Gn=async(e,t)=>{let r=(0,g.map)({}),n=e.body,o=(0,g.take)(n,{message:g.expectString});Object.assign(r,o);let s=new xt.AccessDeniedException({$metadata:Pe(e),...r});return(0,g.decorateServiceException)(s,e.body)},Wn=async(e,t)=>{let r=(0,g.map)({}),n=e.body,o=(0,g.take)(n,{message:g.expectString});Object.assign(r,o);let s=new xt.BadRequestException({$metadata:Pe(e),...r});return(0,g.decorateServiceException)(s,e.body)},Yn=async(e,t)=>{let r=(0,g.map)({}),n=e.body,o=(0,g.take)(n,{message:g.expectString});Object.assign(r,o);let s=new xt.ForbiddenException({$metadata:Pe(e),...r});return(0,g.decorateServiceException)(s,e.body)},Kn=async(e,t)=>{let r=(0,g.map)({}),n=e.body,o=(0,g.take)(n,{});Object.assign(r,o);let s=new xt.InternalServerErrorException({$metadata:Pe(e),...r});return(0,g.decorateServiceException)(s,e.body)},RP=async(e,t)=>{let r=(0,g.map)({}),n=e.body,o=(0,g.take)(n,{message:g.expectString});Object.assign(r,o);let s=new xt.NotFoundException({$metadata:Pe(e),...r});return(0,g.decorateServiceException)(s,e.body)},Xn=async(e,t)=>{let r=(0,g.map)({}),n=e.body,o=(0,g.take)(n,{});Object.assign(r,o);let s=new xt.ServiceUnavailableError({$metadata:Pe(e),...r});return(0,g.decorateServiceException)(s,e.body)},ms=async(e,t)=>{let r=(0,g.map)({}),n=e.body,o=(0,g.take)(n,{dbConnectionId:g.expectLong,message:g.expectString});Object.assign(r,o);let s=new xt.StatementTimeoutException({$metadata:Pe(e),...r});return(0,g.decorateServiceException)(s,e.body)},IW=(e,t)=>e.filter(r=>r!=null).map(r=>CP(r,t)),CP=(e,t)=>xt.ArrayValue.visit(e,{arrayValues:r=>({arrayValues:IW(r,t)}),booleanValues:r=>({booleanValues:(0,g._json)(r)}),doubleValues:r=>({doubleValues:NW(r,t)}),longValues:r=>({longValues:(0,g._json)(r)}),stringValues:r=>({stringValues:(0,g._json)(r)}),_:(r,n)=>({name:n})}),NW=(e,t)=>e.filter(r=>r!=null).map(r=>(0,g.serializeFloat)(r)),DW=(e,t)=>xt.Field.visit(e,{arrayValue:r=>({arrayValue:CP(r,t)}),blobValue:r=>({blobValue:t.base64Encoder(r)}),booleanValue:r=>({booleanValue:r}),doubleValue:r=>({doubleValue:(0,g.serializeFloat)(r)}),isNull:r=>({isNull:r}),longValue:r=>({longValue:r}),stringValue:r=>({stringValue:r}),_:(r,n)=>({name:n})}),qW=(e,t)=>(0,g.take)(e,{name:[],typeHint:[],value:r=>DW(r,t)}),MW=(e,t)=>e.filter(r=>r!=null).map(r=>PP(r,t)),PP=(e,t)=>e.filter(r=>r!=null).map(r=>qW(r,t)),kW=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>TP((0,fs.awsExpectUnion)(n),t)),TP=(e,t)=>e.arrayValues!=null?{arrayValues:kW(e.arrayValues,t)}:e.booleanValues!=null?{booleanValues:(0,g._json)(e.booleanValues)}:e.doubleValues!=null?{doubleValues:FW(e.doubleValues,t)}:e.longValues!=null?{longValues:(0,g._json)(e.longValues)}:e.stringValues!=null?{stringValues:(0,g._json)(e.stringValues)}:{$unknown:Object.entries(e)[0]},OP=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>AP((0,fs.awsExpectUnion)(n),t)),FW=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>(0,g.limitedParseDouble)(n)),jW=(e,t)=>e.arrayValue!=null?{arrayValue:TP((0,fs.awsExpectUnion)(e.arrayValue),t)}:e.blobValue!=null?{blobValue:t.base64Decoder(e.blobValue)}:(0,g.expectBoolean)(e.booleanValue)!==void 0?{booleanValue:(0,g.expectBoolean)(e.booleanValue)}:(0,g.limitedParseDouble)(e.doubleValue)!==void 0?{doubleValue:(0,g.limitedParseDouble)(e.doubleValue)}:(0,g.expectBoolean)(e.isNull)!==void 0?{isNull:(0,g.expectBoolean)(e.isNull)}:(0,g.expectLong)(e.longValue)!==void 0?{longValue:(0,g.expectLong)(e.longValue)}:(0,g.expectString)(e.stringValue)!==void 0?{stringValue:(0,g.expectString)(e.stringValue)}:{$unknown:Object.entries(e)[0]},Df=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>jW((0,fs.awsExpectUnion)(n),t)),LW=(e,t)=>(0,g.take)(e,{values:r=>$W(r,t)}),UW=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>LW(n,t)),HW=(e,t)=>(0,g.take)(e,{records:r=>UW(r,t),resultSetMetadata:g._json}),$W=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>AP((0,fs.awsExpectUnion)(n),t)),VW=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Df(n,t)),zW=(e,t)=>(0,g.take)(e,{numberOfRecordsUpdated:g.expectLong,resultFrame:r=>HW(r,t)}),BW=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>zW(n,t)),GW=(e,t)=>(0,g.take)(e,{attributes:r=>OP(r,t)}),WW=(e,t)=>(0,g.take)(e,{generatedFields:r=>Df(r,t)}),YW=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>WW(n,t)),AP=(e,t)=>e.arrayValues!=null?{arrayValues:OP(e.arrayValues,t)}:(0,g.expectLong)(e.bigIntValue)!==void 0?{bigIntValue:(0,g.expectLong)(e.bigIntValue)}:(0,g.expectBoolean)(e.bitValue)!==void 0?{bitValue:(0,g.expectBoolean)(e.bitValue)}:e.blobValue!=null?{blobValue:t.base64Decoder(e.blobValue)}:(0,g.limitedParseDouble)(e.doubleValue)!==void 0?{doubleValue:(0,g.limitedParseDouble)(e.doubleValue)}:(0,g.expectInt32)(e.intValue)!==void 0?{intValue:(0,g.expectInt32)(e.intValue)}:(0,g.expectBoolean)(e.isNull)!==void 0?{isNull:(0,g.expectBoolean)(e.isNull)}:(0,g.limitedParseFloat32)(e.realValue)!==void 0?{realValue:(0,g.limitedParseFloat32)(e.realValue)}:(0,g.expectString)(e.stringValue)!==void 0?{stringValue:(0,g.expectString)(e.stringValue)}:e.structValue!=null?{structValue:GW(e.structValue,t)}:{$unknown:Object.entries(e)[0]},Pe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),KW=(e,t)=>(0,g.collectBody)(e,t).then(r=>t.utf8Encoder(r)),Ar=(e,t)=>KW(e,t).then(r=>r.length?JSON.parse(r):{}),Jn=async(e,t)=>{let r=await Ar(e,t);return r.message=r.message??r.Message,r},Qn=(e,t)=>{let r=(s,i)=>Object.keys(s).find(a=>a.toLowerCase()===i.toLowerCase()),n=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Mf=u(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.BatchExecuteStatementCommand=Zn.$Command=void 0;var XW=H(),JW=z(),IP=S();Object.defineProperty(Zn,"$Command",{enumerable:!0,get:function(){return IP.Command}});var QW=L(),xP=xr(),qf=class e extends IP.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,JW.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,XW.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"BatchExecuteStatementCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[QW.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"BatchExecuteStatement"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,xP.se_BatchExecuteStatementCommand)(t,r)}deserialize(t,r){return(0,xP.de_BatchExecuteStatementCommand)(t,r)}};Zn.BatchExecuteStatementCommand=qf});var Ff=u(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.BeginTransactionCommand=eo.$Command=void 0;var ZW=H(),e4=z(),DP=S();Object.defineProperty(eo,"$Command",{enumerable:!0,get:function(){return DP.Command}});var t4=L(),NP=xr(),kf=class e extends DP.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,e4.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ZW.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"BeginTransactionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[t4.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"BeginTransaction"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,NP.se_BeginTransactionCommand)(t,r)}deserialize(t,r){return(0,NP.de_BeginTransactionCommand)(t,r)}};eo.BeginTransactionCommand=kf});var Lf=u(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.CommitTransactionCommand=to.$Command=void 0;var r4=H(),n4=z(),MP=S();Object.defineProperty(to,"$Command",{enumerable:!0,get:function(){return MP.Command}});var o4=L(),qP=xr(),jf=class e extends MP.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,n4.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,r4.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"CommitTransactionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[o4.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"CommitTransaction"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,qP.se_CommitTransactionCommand)(t,r)}deserialize(t,r){return(0,qP.de_CommitTransactionCommand)(t,r)}};to.CommitTransactionCommand=jf});var Hf=u(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.ExecuteSqlCommand=ro.$Command=void 0;var s4=H(),i4=z(),FP=S();Object.defineProperty(ro,"$Command",{enumerable:!0,get:function(){return FP.Command}});var a4=L(),kP=xr(),Uf=class e extends FP.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,i4.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,s4.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"ExecuteSqlCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[a4.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"ExecuteSql"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,kP.se_ExecuteSqlCommand)(t,r)}deserialize(t,r){return(0,kP.de_ExecuteSqlCommand)(t,r)}};ro.ExecuteSqlCommand=Uf});var Vf=u(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.ExecuteStatementCommand=no.$Command=void 0;var c4=H(),d4=z(),LP=S();Object.defineProperty(no,"$Command",{enumerable:!0,get:function(){return LP.Command}});var l4=L(),jP=xr(),$f=class e extends LP.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,d4.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,c4.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"ExecuteStatementCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[l4.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"ExecuteStatement"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,jP.se_ExecuteStatementCommand)(t,r)}deserialize(t,r){return(0,jP.de_ExecuteStatementCommand)(t,r)}};no.ExecuteStatementCommand=$f});var Bf=u(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.RollbackTransactionCommand=oo.$Command=void 0;var u4=H(),p4=z(),HP=S();Object.defineProperty(oo,"$Command",{enumerable:!0,get:function(){return HP.Command}});var f4=L(),UP=xr(),zf=class e extends HP.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,p4.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,u4.getEndpointPlugin)(r,e.getEndpointParameterInstructions()));let o=t.concat(this.middlewareStack),{logger:s}=r,c={logger:s,clientName:"RDSDataClient",commandName:"RollbackTransactionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[f4.SMITHY_CONTEXT_KEY]:{service:"RdsDataService",operation:"RollbackTransaction"}},{requestHandler:d}=r;return o.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return(0,UP.se_RollbackTransactionCommand)(t,r)}deserialize(t,r){return(0,UP.de_RollbackTransactionCommand)(t,r)}};oo.RollbackTransactionCommand=zf});var $P=u(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.RDSData=void 0;var m4=S(),_4=Mf(),g4=Ff(),h4=Lf(),y4=Hf(),v4=Vf(),E4=Bf(),S4=bf(),w4={BatchExecuteStatementCommand:_4.BatchExecuteStatementCommand,BeginTransactionCommand:g4.BeginTransactionCommand,CommitTransactionCommand:h4.CommitTransactionCommand,ExecuteSqlCommand:y4.ExecuteSqlCommand,ExecuteStatementCommand:v4.ExecuteStatementCommand,RollbackTransactionCommand:E4.RollbackTransactionCommand},Wc=class extends S4.RDSDataClient{};Yc.RDSData=Wc;(0,m4.createAggregatedClient)(w4,Wc)});var VP=u(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});var so=(O(),C(T));so.__exportStar(Mf(),cr);so.__exportStar(Ff(),cr);so.__exportStar(Lf(),cr);so.__exportStar(Hf(),cr);so.__exportStar(Vf(),cr);so.__exportStar(Bf(),cr)});var zP=u(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});var b4=(O(),C(T));b4.__exportStar(Nf(),Gf)});var BP=u(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.RDSDataServiceException=void 0;var Kc=(O(),C(T));Kc.__exportStar(bf(),dr);Kc.__exportStar($P(),dr);Kc.__exportStar(VP(),dr);Kc.__exportStar(zP(),dr);ho();var R4=Gc();Object.defineProperty(dr,"RDSDataServiceException",{enumerable:!0,get:function(){return R4.RDSDataServiceException}})});var Xc=u(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.DEFAULT_RETRY_MODE=It.DEFAULT_MAX_ATTEMPTS=It.RETRY_MODES=void 0;var GP;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(GP=It.RETRY_MODES||(It.RETRY_MODES={}));It.DEFAULT_MAX_ATTEMPTS=3;It.DEFAULT_RETRY_MODE=GP.STANDARD});var WP=u(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.NODEJS_TIMEOUT_ERROR_CODES=ze.TRANSIENT_ERROR_STATUS_CODES=ze.TRANSIENT_ERROR_CODES=ze.THROTTLING_ERROR_CODES=ze.CLOCK_SKEW_ERROR_CODES=void 0;ze.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];ze.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];ze.TRANSIENT_ERROR_CODES=["TimeoutError","RequestTimeout","RequestTimeoutException"];ze.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];ze.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"]});var gs=u(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.isServerError=Te.isTransientError=Te.isThrottlingError=Te.isClockSkewError=Te.isRetryableByTrait=void 0;var _s=WP(),C4=e=>e.$retryable!==void 0;Te.isRetryableByTrait=C4;var P4=e=>_s.CLOCK_SKEW_ERROR_CODES.includes(e.name);Te.isClockSkewError=P4;var T4=e=>{var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||_s.THROTTLING_ERROR_CODES.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0};Te.isThrottlingError=T4;var O4=e=>{var t;return _s.TRANSIENT_ERROR_CODES.includes(e.name)||_s.NODEJS_TIMEOUT_ERROR_CODES.includes(e?.code||"")||_s.TRANSIENT_ERROR_STATUS_CODES.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)};Te.isTransientError=O4;var A4=e=>{var t;if(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!(0,Te.isTransientError)(e)}return!1};Te.isServerError=A4});var Yf=u(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.DefaultRateLimiter=void 0;var x4=gs(),Wf=class{constructor(t){var r,n,o,s,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=t?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=t?.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(o=t?.minFillRate)!==null&&o!==void 0?o:.5,this.scaleConstant=(s=t?.scaleConstant)!==null&&s!==void 0?s:.4,this.smooth=(i=t?.smooth)!==null&&i!==void 0?i:.8;let a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,x4.isThrottlingError)(t)){let o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Jc.DefaultRateLimiter=Wf});var io=u(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.REQUEST_HEADER=oe.INVOCATION_ID_HEADER=oe.NO_RETRY_INCREMENT=oe.TIMEOUT_RETRY_COST=oe.RETRY_COST=oe.INITIAL_RETRY_TOKENS=oe.THROTTLING_RETRY_DELAY_BASE=oe.MAXIMUM_RETRY_DELAY=oe.DEFAULT_RETRY_DELAY_BASE=void 0;oe.DEFAULT_RETRY_DELAY_BASE=100;oe.MAXIMUM_RETRY_DELAY=20*1e3;oe.THROTTLING_RETRY_DELAY_BASE=500;oe.INITIAL_RETRY_TOKENS=500;oe.RETRY_COST=5;oe.TIMEOUT_RETRY_COST=10;oe.NO_RETRY_INCREMENT=1;oe.INVOCATION_ID_HEADER="amz-sdk-invocation-id";oe.REQUEST_HEADER="amz-sdk-request"});var KP=u(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.getDefaultRetryBackoffStrategy=void 0;var YP=io(),I4=()=>{let e=YP.DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:n=>Math.floor(Math.min(YP.MAXIMUM_RETRY_DELAY,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};Qc.getDefaultRetryBackoffStrategy=I4});var XP=u(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.createDefaultRetryToken=void 0;var N4=io(),D4=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(N4.MAXIMUM_RETRY_DELAY,e),getRetryCost:()=>r});Zc.createDefaultRetryToken=D4});var td=u(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.StandardRetryStrategy=void 0;var Kf=Xc(),lr=io(),q4=KP(),JP=XP(),Xf=class{constructor(t){this.maxAttempts=t,this.mode=Kf.RETRY_MODES.STANDARD,this.capacity=lr.INITIAL_RETRY_TOKENS,this.retryBackoffStrategy=(0,q4.getDefaultRetryBackoffStrategy)(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return(0,JP.createDefaultRetryToken)({retryDelay:lr.DEFAULT_RETRY_DELAY_BASE,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let o=r.errorType;this.retryBackoffStrategy.setDelayBase(o==="THROTTLING"?lr.THROTTLING_RETRY_DELAY_BASE:lr.DEFAULT_RETRY_DELAY_BASE);let s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(o);return this.capacity-=a,(0,JP.createDefaultRetryToken)({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){var r;this.capacity=Math.max(lr.INITIAL_RETRY_TOKENS,this.capacity+((r=t.getRetryCost())!==null&&r!==void 0?r:lr.NO_RETRY_INCREMENT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Kf.DEFAULT_MAX_ATTEMPTS}`),Kf.DEFAULT_MAX_ATTEMPTS}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?lr.TIMEOUT_RETRY_COST:lr.RETRY_COST}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};ed.StandardRetryStrategy=Xf});var QP=u(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.AdaptiveRetryStrategy=void 0;var M4=Xc(),k4=Yf(),F4=td(),Jf=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=M4.RETRY_MODES.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new k4.DefaultRateLimiter,this.standardRetryStrategy=new F4.StandardRetryStrategy(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};rd.AdaptiveRetryStrategy=Jf});var ZP=u(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.ConfiguredRetryStrategy=void 0;var j4=io(),L4=td(),Qf=class extends L4.StandardRetryStrategy{constructor(t,r=j4.DEFAULT_RETRY_DELAY_BASE){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};nd.ConfiguredRetryStrategy=Qf});var tT=u(eT=>{"use strict";Object.defineProperty(eT,"__esModule",{value:!0})});var ur=u(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});var Ir=(O(),C(T));Ir.__exportStar(QP(),Nt);Ir.__exportStar(ZP(),Nt);Ir.__exportStar(Yf(),Nt);Ir.__exportStar(td(),Nt);Ir.__exportStar(Xc(),Nt);Ir.__exportStar(io(),Nt);Ir.__exportStar(tT(),Nt)});var nT=u(rT=>{"use strict";Object.defineProperty(rT,"__esModule",{value:!0})});var oT=u(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.HttpAuthLocation=void 0;var U4;(function(e){e.HEADER="header",e.QUERY="query"})(U4=hs.HttpAuthLocation||(hs.HttpAuthLocation={}))});var iT=u(sT=>{"use strict";Object.defineProperty(sT,"__esModule",{value:!0})});var cT=u(aT=>{"use strict";Object.defineProperty(aT,"__esModule",{value:!0})});var lT=u(dT=>{"use strict";Object.defineProperty(dT,"__esModule",{value:!0})});var pT=u(uT=>{"use strict";Object.defineProperty(uT,"__esModule",{value:!0})});var mT=u(fT=>{"use strict";Object.defineProperty(fT,"__esModule",{value:!0})});var gT=u(_T=>{"use strict";Object.defineProperty(_T,"__esModule",{value:!0})});var yT=u(hT=>{"use strict";Object.defineProperty(hT,"__esModule",{value:!0})});var vT=u(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var Zf=(O(),C(T));Zf.__exportStar(mT(),ys);Zf.__exportStar(gT(),ys);Zf.__exportStar(yT(),ys)});var ST=u(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0})});var bT=u(wT=>{"use strict";Object.defineProperty(wT,"__esModule",{value:!0})});var RT=u(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.EndpointURLScheme=void 0;var H4;(function(e){e.HTTP="http",e.HTTPS="https"})(H4=vs.EndpointURLScheme||(vs.EndpointURLScheme={}))});var PT=u(CT=>{"use strict";Object.defineProperty(CT,"__esModule",{value:!0})});var OT=u(TT=>{"use strict";Object.defineProperty(TT,"__esModule",{value:!0})});var xT=u(AT=>{"use strict";Object.defineProperty(AT,"__esModule",{value:!0})});var NT=u(IT=>{"use strict";Object.defineProperty(IT,"__esModule",{value:!0})});var qT=u(DT=>{"use strict";Object.defineProperty(DT,"__esModule",{value:!0})});var MT=u(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});var Es=(O(),C(T));Es.__exportStar(PT(),Nr);Es.__exportStar(OT(),Nr);Es.__exportStar(xT(),Nr);Es.__exportStar(NT(),Nr);Es.__exportStar(qT(),Nr)});var FT=u(kT=>{"use strict";Object.defineProperty(kT,"__esModule",{value:!0})});var jT=u(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.FieldPosition=void 0;var $4;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})($4=Ss.FieldPosition||(Ss.FieldPosition={}))});var UT=u(LT=>{"use strict";Object.defineProperty(LT,"__esModule",{value:!0})});var $T=u(HT=>{"use strict";Object.defineProperty(HT,"__esModule",{value:!0})});var zT=u(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});var VT=(O(),C(T));VT.__exportStar(UT(),od);VT.__exportStar($T(),od)});var GT=u(BT=>{"use strict";Object.defineProperty(BT,"__esModule",{value:!0})});var YT=u(WT=>{"use strict";Object.defineProperty(WT,"__esModule",{value:!0})});var XT=u(KT=>{"use strict";Object.defineProperty(KT,"__esModule",{value:!0})});var QT=u(JT=>{"use strict";Object.defineProperty(JT,"__esModule",{value:!0})});var eO=u(ZT=>{"use strict";Object.defineProperty(ZT,"__esModule",{value:!0})});var rO=u(tO=>{"use strict";Object.defineProperty(tO,"__esModule",{value:!0})});var oO=u(nO=>{"use strict";Object.defineProperty(nO,"__esModule",{value:!0})});var iO=u(sO=>{"use strict";Object.defineProperty(sO,"__esModule",{value:!0})});var cO=u(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0})});var lO=u(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0})});var pO=u(uO=>{"use strict";Object.defineProperty(uO,"__esModule",{value:!0})});var mO=u(fO=>{"use strict";Object.defineProperty(fO,"__esModule",{value:!0})});var gO=u(_O=>{"use strict";Object.defineProperty(_O,"__esModule",{value:!0})});var hO=u(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.RequestHandlerProtocol=void 0;var V4;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(V4=ws.RequestHandlerProtocol||(ws.RequestHandlerProtocol={}))});var vO=u(yO=>{"use strict";Object.defineProperty(yO,"__esModule",{value:!0})});var SO=u(EO=>{"use strict";Object.defineProperty(EO,"__esModule",{value:!0})});var bO=u(wO=>{"use strict";Object.defineProperty(wO,"__esModule",{value:!0})});var CO=u(RO=>{"use strict";Object.defineProperty(RO,"__esModule",{value:!0})});var TO=u(PO=>{"use strict";Object.defineProperty(PO,"__esModule",{value:!0})});var OO=u(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var q=(O(),C(T));q.__exportStar(nT(),I);q.__exportStar(oT(),I);q.__exportStar(iT(),I);q.__exportStar(cT(),I);q.__exportStar(lT(),I);q.__exportStar(pT(),I);q.__exportStar(vT(),I);q.__exportStar(ST(),I);q.__exportStar(bT(),I);q.__exportStar(RT(),I);q.__exportStar(MT(),I);q.__exportStar(FT(),I);q.__exportStar(jT(),I);q.__exportStar(zT(),I);q.__exportStar(GT(),I);q.__exportStar(YT(),I);q.__exportStar(XT(),I);q.__exportStar(QT(),I);q.__exportStar(eO(),I);q.__exportStar(rO(),I);q.__exportStar(oO(),I);q.__exportStar(iO(),I);q.__exportStar(cO(),I);q.__exportStar(lO(),I);q.__exportStar(pO(),I);q.__exportStar(mO(),I);q.__exportStar(gO(),I);q.__exportStar(hO(),I);q.__exportStar(vO(),I);q.__exportStar(SO(),I);q.__exportStar(bO(),I);q.__exportStar(CO(),I);q.__exportStar(TO(),I)});var AO=u(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.Field=void 0;var z4=OO(),em=class{constructor({name:t,kind:r=z4.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};sd.Field=em});var xO=u(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.Fields=void 0;var tm=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};id.Fields=tm});var NO=u(IO=>{"use strict";Object.defineProperty(IO,"__esModule",{value:!0})});var DO=u(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.HttpRequest=void 0;var rm=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new e({...this,headers:{...this.headers}});return t.query&&(t.query=B4(t.query)),t}};ad.HttpRequest=rm;function B4(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}});var qO=u(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.HttpResponse=void 0;var nm=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};cd.HttpResponse=nm});var MO=u(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.isValidHostname=void 0;function G4(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}dd.isValidHostname=G4});var FO=u(kO=>{"use strict";Object.defineProperty(kO,"__esModule",{value:!0})});var ld=u(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});var Dr=(O(),C(T));Dr.__exportStar(AO(),Dt);Dr.__exportStar(xO(),Dt);Dr.__exportStar(NO(),Dt);Dr.__exportStar(DO(),Dt);Dr.__exportStar(qO(),Dt);Dr.__exportStar(MO(),Dt);Dr.__exportStar(FO(),Dt)});import W4 from"crypto";function bs(){return ud>pd.length-16&&(W4.randomFillSync(pd),ud=0),pd.slice(ud,ud+=16)}var pd,ud,om=M(()=>{pd=new Uint8Array(256),ud=pd.length});var jO,LO=M(()=>{jO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Y4(e){return typeof e=="string"&&jO.test(e)}var pr,Rs=M(()=>{LO();pr=Y4});function K4(e,t=0){let r=(pe[e[t+0]]+pe[e[t+1]]+pe[e[t+2]]+pe[e[t+3]]+"-"+pe[e[t+4]]+pe[e[t+5]]+"-"+pe[e[t+6]]+pe[e[t+7]]+"-"+pe[e[t+8]]+pe[e[t+9]]+"-"+pe[e[t+10]]+pe[e[t+11]]+pe[e[t+12]]+pe[e[t+13]]+pe[e[t+14]]+pe[e[t+15]]).toLowerCase();if(!pr(r))throw TypeError("Stringified UUID is invalid");return r}var pe,fr,Cs=M(()=>{Rs();pe=[];for(let e=0;e<256;++e)pe.push((e+256).toString(16).substr(1));fr=K4});function X4(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let s=e.node||UO,i=e.clockseq!==void 0?e.clockseq:sm;if(s==null||i==null){let m=e.random||(e.rng||bs)();s==null&&(s=UO=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),i==null&&(i=sm=(m[6]<<8|m[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:am+1,d=a-im+(c-am)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>im)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");im=a,am=c,sm=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;o[n++]=l>>>24&255,o[n++]=l>>>16&255,o[n++]=l>>>8&255,o[n++]=l&255;let p=a/4294967296*1e4&268435455;o[n++]=p>>>8&255,o[n++]=p&255,o[n++]=p>>>24&15|16,o[n++]=p>>>16&255,o[n++]=i>>>8|128,o[n++]=i&255;for(let m=0;m<6;++m)o[n+m]=s[m];return t||fr(o)}var UO,sm,im,am,HO,$O=M(()=>{om();Cs();im=0,am=0;HO=X4});function J4(e){if(!pr(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var fd,cm=M(()=>{Rs();fd=J4});function Q4(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function md(e,t,r){function n(o,s,i,a){if(typeof o=="string"&&(o=Q4(o)),typeof s=="string"&&(s=fd(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(s),c.set(o,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return fr(c)}try{n.name=e}catch{}return n.DNS=Z4,n.URL=e8,n}var Z4,e8,dm=M(()=>{Cs();cm();Z4="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e8="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});import t8 from"crypto";function r8(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),t8.createHash("md5").update(e).digest()}var VO,zO=M(()=>{VO=r8});var n8,BO,GO=M(()=>{dm();zO();n8=md("v3",48,VO),BO=n8});function o8(e,t,r){e=e||{};let n=e.random||(e.rng||bs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return fr(n)}var WO,YO=M(()=>{om();Cs();WO=o8});import s8 from"crypto";function i8(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),s8.createHash("sha1").update(e).digest()}var KO,XO=M(()=>{KO=i8});var a8,JO,QO=M(()=>{dm();XO();a8=md("v5",80,KO),JO=a8});var ZO,eA=M(()=>{ZO="00000000-0000-0000-0000-000000000000"});function c8(e){if(!pr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var tA,rA=M(()=>{Rs();tA=c8});var lm={};Rd(lm,{NIL:()=>ZO,parse:()=>fd,stringify:()=>fr,v1:()=>HO,v3:()=>BO,v4:()=>WO,v5:()=>JO,validate:()=>pr,version:()=>tA});var um=M(()=>{$O();GO();YO();QO();eA();rA();Rs();Cs();cm()});var nA=u(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.getDefaultRetryQuota=void 0;var pm=ur(),d8=(e,t)=>{var r,n,o;let s=e,i=(r=t?.noRetryIncrement)!==null&&r!==void 0?r:pm.NO_RETRY_INCREMENT,a=(n=t?.retryCost)!==null&&n!==void 0?n:pm.RETRY_COST,c=(o=t?.timeoutRetryCost)!==null&&o!==void 0?o:pm.TIMEOUT_RETRY_COST,d=e,l=_=>_.name==="TimeoutError"?c:a,p=_=>l(_)<=d;return Object.freeze({hasRetryTokens:p,retrieveRetryTokens:_=>{if(!p(_))throw new Error("No retry token available");let v=l(_);return d-=v,v},releaseRetryTokens:_=>{d+=_??i,d=Math.min(d,s)}})};_d.getDefaultRetryQuota=d8});var fm=u(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.defaultDelayDecider=void 0;var l8=ur(),u8=(e,t)=>Math.floor(Math.min(l8.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e));gd.defaultDelayDecider=u8});var mm=u(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.defaultRetryDecider=void 0;var hd=gs(),p8=e=>e?(0,hd.isRetryableByTrait)(e)||(0,hd.isClockSkewError)(e)||(0,hd.isThrottlingError)(e)||(0,hd.isTransientError)(e):!1;yd.defaultRetryDecider=p8});var _m=u(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.asSdkError=void 0;var f8=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);vd.asSdkError=f8});var ym=u(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.StandardRetryStrategy=void 0;var gm=ld(),m8=gs(),qr=ur(),_8=(um(),C(lm)),g8=nA(),h8=fm(),y8=mm(),v8=_m(),hm=class{constructor(t,r){var n,o,s;this.maxAttemptsProvider=t,this.mode=qr.RETRY_MODES.STANDARD,this.retryDecider=(n=r?.retryDecider)!==null&&n!==void 0?n:y8.defaultRetryDecider,this.delayDecider=(o=r?.delayDecider)!==null&&o!==void 0?o:h8.defaultDelayDecider,this.retryQuota=(s=r?.retryQuota)!==null&&s!==void 0?s:(0,g8.getDefaultRetryQuota)(qr.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=qr.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let o,s=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(gm.HttpRequest.isInstance(c)&&(c.headers[qr.INVOCATION_ID_HEADER]=(0,_8.v4)());;)try{gm.HttpRequest.isInstance(c)&&(c.headers[qr.REQUEST_HEADER]=`attempt=${s+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:l}=await t(r);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(o),l.$metadata.attempts=s+1,l.$metadata.totalRetryDelay=i,{response:d,output:l}}catch(d){let l=(0,v8.asSdkError)(d);if(s++,this.shouldRetry(l,s,a)){o=this.retryQuota.retrieveRetryTokens(l);let p=this.delayDecider((0,m8.isThrottlingError)(l)?qr.THROTTLING_RETRY_DELAY_BASE:qr.DEFAULT_RETRY_DELAY_BASE,s),m=E8(l.$response),f=Math.max(m||0,p);i+=f,await new Promise(_=>setTimeout(_,f));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=s,l.$metadata.totalRetryDelay=i,l}}};Ed.StandardRetryStrategy=hm;var E8=e=>{if(!gm.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3}});var sA=u(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.AdaptiveRetryStrategy=void 0;var oA=ur(),S8=ym(),vm=class extends S8.StandardRetryStrategy{constructor(t,r){let{rateLimiter:n,...o}=r??{};super(t,o),this.rateLimiter=n??new oA.DefaultRateLimiter,this.mode=oA.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};Sd.AdaptiveRetryStrategy=vm});var iA=u(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.normalizeProvider=void 0;var w8=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};wd.normalizeProvider=w8});var aA=u(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});var b8=(O(),C(T));b8.__exportStar(iA(),Em)});var dA=u(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.NODE_RETRY_MODE_CONFIG_OPTIONS=J.CONFIG_RETRY_MODE=J.ENV_RETRY_MODE=J.resolveRetryConfig=J.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=J.CONFIG_MAX_ATTEMPTS=J.ENV_MAX_ATTEMPTS=void 0;var cA=aA(),ao=ur();J.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";J.CONFIG_MAX_ATTEMPTS="max_attempts";J.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:e=>{let t=e[J.ENV_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${J.ENV_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[J.CONFIG_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${J.CONFIG_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},default:ao.DEFAULT_MAX_ATTEMPTS};var R8=e=>{var t;let{retryStrategy:r}=e,n=(0,cA.normalizeProvider)((t=e.maxAttempts)!==null&&t!==void 0?t:ao.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:n,retryStrategy:async()=>r||(await(0,cA.normalizeProvider)(e.retryMode)()===ao.RETRY_MODES.ADAPTIVE?new ao.AdaptiveRetryStrategy(n):new ao.StandardRetryStrategy(n))}};J.resolveRetryConfig=R8;J.ENV_RETRY_MODE="AWS_RETRY_MODE";J.CONFIG_RETRY_MODE="retry_mode";J.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[J.ENV_RETRY_MODE],configFileSelector:e=>e[J.CONFIG_RETRY_MODE],default:ao.DEFAULT_RETRY_MODE}});var uA=u(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.getOmitRetryHeadersPlugin=_t.omitRetryHeadersMiddlewareOptions=_t.omitRetryHeadersMiddleware=void 0;var C8=ld(),lA=ur(),P8=()=>e=>async t=>{let{request:r}=t;return C8.HttpRequest.isInstance(r)&&(delete r.headers[lA.INVOCATION_ID_HEADER],delete r.headers[lA.REQUEST_HEADER]),e(t)};_t.omitRetryHeadersMiddleware=P8;_t.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var T8=e=>({applyToStack:t=>{t.addRelativeTo((0,_t.omitRetryHeadersMiddleware)(),_t.omitRetryHeadersMiddlewareOptions)}});_t.getOmitRetryHeadersPlugin=T8});var fA=u(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.getRetryAfterHint=Oe.getRetryPlugin=Oe.retryMiddlewareOptions=Oe.retryMiddleware=void 0;var wm=ld(),Sm=gs(),pA=ur(),O8=(um(),C(lm)),A8=_m(),x8=e=>(t,r)=>async n=>{let o=await e.retryStrategy(),s=await e.maxAttempts();if(I8(o)){o=o;let i=await o.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n;for(wm.HttpRequest.isInstance(l)&&(l.headers[pA.INVOCATION_ID_HEADER]=(0,O8.v4)());;)try{wm.HttpRequest.isInstance(l)&&(l.headers[pA.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:p,output:m}=await t(n);return o.recordSuccess(i),m.$metadata.attempts=c+1,m.$metadata.totalRetryDelay=d,{response:p,output:m}}catch(p){let m=N8(p);a=(0,A8.asSdkError)(p);try{i=await o.refreshRetryTokenForRetry(i,m)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let f=i.getRetryDelay();d+=f,await new Promise(_=>setTimeout(_,f))}}else return o=o,o?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,n)};Oe.retryMiddleware=x8;var I8=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",N8=e=>{let t={errorType:D8(e)},r=(0,Oe.getRetryAfterHint)(e.$response);return r&&(t.retryAfterHint=r),t},D8=e=>(0,Sm.isThrottlingError)(e)?"THROTTLING":(0,Sm.isTransientError)(e)?"TRANSIENT":(0,Sm.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR";Oe.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var q8=e=>({applyToStack:t=>{t.add((0,Oe.retryMiddleware)(e),Oe.retryMiddlewareOptions)}});Oe.getRetryPlugin=q8;var M8=e=>{if(!wm.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Oe.getRetryAfterHint=M8});var mA=u(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});var Mr=(O(),C(T));Mr.__exportStar(sA(),qt);Mr.__exportStar(ym(),qt);Mr.__exportStar(dA(),qt);Mr.__exportStar(fm(),qt);Mr.__exportStar(uA(),qt);Mr.__exportStar(mm(),qt);Mr.__exportStar(fA(),qt)});var _A=u(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});var k8=(O(),C(T));k8.__exportStar(mA(),bm)});var mr=Am(BP(),1);var gA=Am(_A(),1);var F8=(()=>{let e=0;return()=>{let t=Date.now();t-e>5e3&&(console.log("Waiting for internet connection..."),e=t)}})(),bd=(e,t)=>new e({region:t?.region??process.env.SST_AWS_REGION,credentials:process.env.SST_AWS_ACCESS_KEY_ID?{accessKeyId:process.env.SST_AWS_ACCESS_KEY_ID,sessionToken:process.env.SST_AWS_SESSION_TOKEN,secretAccessKey:process.env.SST_AWS_SECRET_ACCESS_KEY}:void 0,retryStrategy:new gA.StandardRetryStrategy(async()=>1e4,{retryDecider:r=>r.code==="ENOTFOUND"?(F8(),!0):!!["ThrottlingException","Throttling","TooManyRequestsException","OperationAbortedException","TimeoutError","NetworkingError",...t?.retrableErrors??[]].includes(r.name),delayDecider:(r,n)=>Math.min(1.5**n*100,5e3),retryQuota:{hasRetryTokens:()=>!0,releaseRetryTokens:()=>{},retrieveRetryTokens:()=>1}})});var{CLUSTER_ARN:Rm,SECRET_ARN:Cm,DATABASE_NAME:Pm,TABLE_NAME:Tm}=process.env;async function E7(e){let t=JSON.stringify(e.metadata);await bd(mr.RDSDataClient).send(new mr.ExecuteStatementCommand({resourceArn:Rm,secretArn:Cm,database:Pm,sql:[`INSERT INTO ${Tm} (embedding, metadata)`,`VALUES (ARRAY[${e.vector.join(",")}], :metadata)`].join(" "),parameters:[{name:"metadata",value:{stringValue:t},typeHint:"JSON"}]}))}async function S7(e){let t=JSON.stringify(e.include),r=JSON.stringify(e.exclude),n=e.threshold??0,o=e.count??10;return{results:(await bd(mr.RDSDataClient).send(new mr.ExecuteStatementCommand({resourceArn:Rm,secretArn:Cm,database:Pm,sql:["SELECT metadata, embedding <=> string_to_array(:vector, ',')::float[]::vector AS score",`FROM ${Tm}`,`WHERE embedding <=> string_to_array(:vector, ',')::float[]::vector < ${1-n}`,"AND metadata @> :include",`${r?"AND NOT metadata @> :exclude":""}`,"ORDER BY score",`LIMIT ${o}`].join(" "),parameters:[{name:"vector",value:{stringValue:e.vector.join(",")}},{name:"include",value:{stringValue:t},typeHint:"JSON"},...r?[{name:"exclude",value:{stringValue:r},typeHint:"JSON"}]:[]]}))).records?.map(i=>({metadata:JSON.parse(i[0].stringValue),score:1-i[1].doubleValue}))}}async function w7(e){let t=JSON.stringify(e.include);await bd(mr.RDSDataClient).send(new mr.ExecuteStatementCommand({resourceArn:Rm,secretArn:Cm,database:Pm,sql:`DELETE FROM ${Tm} WHERE metadata @> :include`,parameters:[{name:"include",value:{stringValue:t},typeHint:"JSON"}]}))}export{E7 as put,S7 as query,w7 as remove};
