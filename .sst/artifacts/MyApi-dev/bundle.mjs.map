{
  "version": 3,
  "sources": ["../../../node_modules/sst/dist/resource.js", "../../../node_modules/sst/dist/index.js", "../../../packages/core/src/example/index.ts", "../../../packages/functions/src/api.ts"],
  "sourcesContent": ["import { env } from \"process\";\nimport { readFileSync } from \"fs\";\nimport crypto from \"crypto\";\nconst raw = {\n    // @ts-expect-error,\n    ...globalThis.$SST_LINKS,\n};\nconst environment = {\n    ...env,\n    ...globalThis.process?.env,\n};\n// Handle consolidated resources JSON (for Windows with many resources)\nif (environment.SST_RESOURCES_JSON) {\n    try {\n        const allResources = JSON.parse(environment.SST_RESOURCES_JSON);\n        Object.assign(raw, allResources);\n    }\n    catch (error) {\n        console.error(\"Failed to parse SST_RESOURCES_JSON:\", error);\n    }\n}\n// Handle individual SST_RESOURCE_ environment variables\nfor (const [key, value] of Object.entries(environment)) {\n    if (key.startsWith(\"SST_RESOURCE_\") && value) {\n        raw[key.slice(\"SST_RESOURCE_\".length)] = JSON.parse(value);\n    }\n}\n// @ts-expect-error\nif (env.SST_KEY_FILE && env.SST_KEY && !globalThis.SST_KEY_FILE_DATA) {\n    const key = Buffer.from(env.SST_KEY, \"base64\");\n    const encryptedData = readFileSync(env.SST_KEY_FILE);\n    const nonce = Buffer.alloc(12, 0);\n    const decipher = crypto.createDecipheriv(\"aes-256-gcm\", key, nonce);\n    const authTag = encryptedData.subarray(-16);\n    const actualCiphertext = encryptedData.subarray(0, -16);\n    decipher.setAuthTag(authTag);\n    let decrypted = decipher.update(actualCiphertext);\n    decrypted = Buffer.concat([decrypted, decipher.final()]);\n    const decryptedData = JSON.parse(decrypted.toString());\n    Object.assign(raw, decryptedData);\n}\n// @ts-expect-error\nif (globalThis.SST_KEY_FILE_DATA) {\n    // @ts-expect-error\n    Object.assign(raw, globalThis.SST_KEY_FILE_DATA);\n}\nexport function fromCloudflareEnv(input) {\n    for (let [key, value] of Object.entries(input)) {\n        if (typeof value === \"string\") {\n            try {\n                value = JSON.parse(value);\n            }\n            catch { }\n        }\n        raw[key] = value;\n        if (key.startsWith(\"SST_RESOURCE_\")) {\n            raw[key.replace(\"SST_RESOURCE_\", \"\")] = value;\n        }\n    }\n}\nexport function wrapCloudflareHandler(handler) {\n    if (typeof handler === \"function\" && handler.hasOwnProperty(\"prototype\")) {\n        return class extends handler {\n            constructor(ctx, env) {\n                fromCloudflareEnv(env);\n                super(ctx, env);\n            }\n        };\n    }\n    function wrap(fn) {\n        return function (req, env, ...rest) {\n            fromCloudflareEnv(env);\n            return fn(req, env, ...rest);\n        };\n    }\n    const result = {};\n    for (const [key, value] of Object.entries(handler)) {\n        result[key] = wrap(value);\n    }\n    return result;\n}\nexport const Resource = new Proxy(raw, {\n    get(_target, prop) {\n        if (prop in raw) {\n            return raw[prop];\n        }\n        if (!env.SST_RESOURCE_App) {\n            throw new Error(\"It does not look like SST links are active. If this is in local development and you are not starting this process through the multiplexer, wrap your command with `sst dev -- <command>`\");\n        }\n        let msg = `\"${prop}\" is not linked in your sst.config.ts`;\n        if (env.AWS_LAMBDA_FUNCTION_NAME) {\n            msg += ` to ${env.AWS_LAMBDA_FUNCTION_NAME}`;\n        }\n        throw new Error(msg);\n    },\n});\n", "export * from \"./realtime/index.js\";\nexport * from \"./resource.js\";\nexport * from \"./vector/index.js\";\nimport { format } from \"util\";\nif (process.env?.ECS_CONTAINER_METADATA_URI_V4 &&\n    !process.env.SST_DISABLE_LOG_POLYFILL) {\n    const log = (level) => (msg, ...rest) => {\n        let line = `${level}\\t${format(msg, ...rest)}`;\n        line = line.replace(/\\n/g, \"\\r\");\n        process.stdout.write(line + \"\\n\");\n    };\n    console.log = log(\"INFO\");\n    console.warn = log(\"WARN\");\n    console.error = log(\"ERROR\");\n    console.trace = log(\"TRACE\");\n    console.debug = log(\"DEBUG\");\n}\n", "export module Example {\n  export function hello() {\n    return \"Hello, world!\";\n  }\n}\n", "import { Resource } from \"sst\";\nimport { Handler } from \"aws-lambda\";\nimport { Example } from \"@checklisttrainer/core/example\";\n\nexport const handler: Handler = async (_event) => {\n  return {\n    statusCode: 200,\n    body: `${Example.hello()} Linked to ${Resource.MyBucket.name}.`,\n  };\n};\n"],
  "mappings": ";;;;;;;;;;AAAA,SAAS,WAAW;AACpB,SAAS,oBAAoB;AAC7B,OAAO,YAAY;AACnB,IAAM,MAAM;AAAA;AAAA,EAER,GAAG,WAAW;AAClB;AACA,IAAM,cAAc;AAAA,EAChB,GAAG;AAAA,EACH,GAAG,WAAW,SAAS;AAC3B;AAEA,IAAI,YAAY,oBAAoB;AAChC,MAAI;AACA,UAAM,eAAe,KAAK,MAAM,YAAY,kBAAkB;AAC9D,WAAO,OAAO,KAAK,YAAY;AAAA,EACnC,SACO,OAAO;AACV,YAAQ,MAAM,uCAAuC,KAAK;AAAA,EAC9D;AACJ;AAEA,WAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,WAAW,GAAG;AACpD,MAAI,IAAI,WAAW,eAAe,KAAK,OAAO;AAC1C,QAAI,IAAI,MAAM,gBAAgB,MAAM,CAAC,IAAI,KAAK,MAAM,KAAK;AAAA,EAC7D;AACJ;AAEA,IAAI,IAAI,gBAAgB,IAAI,WAAW,CAAC,WAAW,mBAAmB;AAClE,QAAM,MAAM,OAAO,KAAK,IAAI,SAAS,QAAQ;AAC7C,QAAM,gBAAgB,aAAa,IAAI,YAAY;AACnD,QAAM,QAAQ,OAAO,MAAM,IAAI,CAAC;AAChC,QAAM,WAAW,OAAO,iBAAiB,eAAe,KAAK,KAAK;AAClE,QAAM,UAAU,cAAc,SAAS,GAAG;AAC1C,QAAM,mBAAmB,cAAc,SAAS,GAAG,GAAG;AACtD,WAAS,WAAW,OAAO;AAC3B,MAAI,YAAY,SAAS,OAAO,gBAAgB;AAChD,cAAY,OAAO,OAAO,CAAC,WAAW,SAAS,MAAM,CAAC,CAAC;AACvD,QAAM,gBAAgB,KAAK,MAAM,UAAU,SAAS,CAAC;AACrD,SAAO,OAAO,KAAK,aAAa;AACpC;AAEA,IAAI,WAAW,mBAAmB;AAE9B,SAAO,OAAO,KAAK,WAAW,iBAAiB;AACnD;AAoCO,IAAM,WAAW,IAAI,MAAM,KAAK;AAAA,EACnC,IAAI,SAAS,MAAM;AACf,QAAI,QAAQ,KAAK;AACb,aAAO,IAAI,IAAI;AAAA,IACnB;AACA,QAAI,CAAC,IAAI,kBAAkB;AACvB,YAAM,IAAI,MAAM,0LAA0L;AAAA,IAC9M;AACA,QAAI,MAAM,IAAI,IAAI;AAClB,QAAI,IAAI,0BAA0B;AAC9B,aAAO,OAAO,IAAI,wBAAwB;AAAA,IAC9C;AACA,UAAM,IAAI,MAAM,GAAG;AAAA,EACvB;AACJ,CAAC;;;AC5FD,SAAS,cAAc;AACvB,IAAI,QAAQ,KAAK,iCACb,CAAC,QAAQ,IAAI,0BAA0B;AACvC,QAAM,MAAM,wBAAC,UAAU,CAAC,QAAQ,SAAS;AACrC,QAAI,OAAO,GAAG,KAAK,IAAK,OAAO,KAAK,GAAG,IAAI,CAAC;AAC5C,WAAO,KAAK,QAAQ,OAAO,IAAI;AAC/B,YAAQ,OAAO,MAAM,OAAO,IAAI;AAAA,EACpC,GAJY;AAKZ,UAAQ,MAAM,IAAI,MAAM;AACxB,UAAQ,OAAO,IAAI,MAAM;AACzB,UAAQ,QAAQ,IAAI,OAAO;AAC3B,UAAQ,QAAQ,IAAI,OAAO;AAC3B,UAAQ,QAAQ,IAAI,OAAO;AAC/B;;;AChBO,IAAO;AAAA,CAAP,CAAOA,aAAP;AACE,WAAS,QAAQ;AACtB,WAAO;AAAA,EACT;AAFO,EAAAA,SAAS;AAAA;AAAA,GADJ;;;ACIP,IAAM,UAAmB,8BAAO,WAAW;AAChD,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,MAAM,GAAG,QAAQ,MAAM,CAAC,cAAc,SAAS,SAAS,IAAI;AAAA,EAC9D;AACF,GALgC;",
  "names": ["Example"]
}
